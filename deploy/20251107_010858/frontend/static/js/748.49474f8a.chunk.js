"use strict";(self.webpackChunkbrightplanet_ventures=self.webpackChunkbrightplanet_ventures||[]).push([[748],{1754:(e,s,t)=>{t.d(s,{YB:()=>g,bT:()=>c,cU:()=>d,xk:()=>m});t(5043);var r=t(579);const a="rgba(247, 147, 30, 0.1)",l="rgba(255, 255, 255, 0.05)",i="\n  @keyframes bp-skeleton-shimmer {\n    0% {\n      background-position: -200px 0;\n    }\n    100% {\n      background-position: calc(200px + 100%) 0;\n    }\n  }\n  \n  .bp-skeleton-shimmer {\n    background: linear-gradient(\n      90deg,\n      ".concat(l," 25%,\n      ").concat(a," 50%,\n      ").concat(l," 75%\n    );\n    background-size: 200px 100%;\n    animation: bp-skeleton-shimmer 1.5s infinite linear;\n  }\n");if("undefined"!==typeof document&&!document.getElementById("bp-skeleton-styles")){const e=document.createElement("style");e.id="bp-skeleton-styles",e.textContent=i,document.head.appendChild(e)}const o=e=>{let{width:s="100%",height:t="1rem",className:a="",rounded:i="rounded-lg",animate:o=!0}=e;return(0,r.jsx)("div",{className:"".concat(i," border border-white/10 ").concat(o?"bp-skeleton-shimmer":""," ").concat(a),style:{width:s,height:t,background:o?void 0:l}})},n=e=>{let{className:s=""}=e;return(0,r.jsxs)("div",{className:"bg-white/5 backdrop-blur-sm border border-slate-200/10 rounded-xl p-4 h-full ".concat(s),children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,r.jsx)(o,{width:"3rem",height:"3rem",rounded:"rounded-xl"}),(0,r.jsx)(o,{width:"3rem",height:"2rem"})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(o,{width:"70%",height:"1rem"}),(0,r.jsx)(o,{width:"90%",height:"0.75rem"})]})]})},d=e=>{let{rows:s=5,columns:t=4,className:a=""}=e;return(0,r.jsxs)("div",{className:"bg-white/5 backdrop-blur-sm border border-slate-200/10 rounded-xl overflow-hidden ".concat(a),children:[(0,r.jsx)("div",{className:"bg-white/5 p-4 border-b border-white/10",children:(0,r.jsx)("div",{className:"grid gap-4",style:{gridTemplateColumns:"repeat(".concat(t,", 1fr)")},children:Array.from({length:t}).map((e,s)=>(0,r.jsx)(o,{width:"80%",height:"1rem"},s))})}),(0,r.jsx)("div",{className:"divide-y divide-white/10",children:Array.from({length:s}).map((e,s)=>(0,r.jsx)("div",{className:"p-4",children:(0,r.jsx)("div",{className:"grid gap-4",style:{gridTemplateColumns:"repeat(".concat(t,", 1fr)")},children:Array.from({length:t}).map((e,s)=>(0,r.jsx)(o,{width:0===s?"90%":"70%",height:"1rem"},s))})},s))})]})},c=e=>{let{count:s=2,className:t=""}=e;return(0,r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 ".concat(t),children:Array.from({length:s}).map((e,s)=>(0,r.jsx)(n,{},s))})},m=e=>{let{count:s=4,className:t=""}=e;return(0,r.jsx)("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4 ".concat(t),children:Array.from({length:s}).map((e,s)=>(0,r.jsx)("div",{className:"bg-white/5 backdrop-blur-sm border border-slate-200/10 rounded-xl p-5 h-full",children:(0,r.jsxs)("div",{className:"text-center space-y-4",children:[(0,r.jsx)(o,{width:"3.5rem",height:"3.5rem",rounded:"rounded-xl",className:"mx-auto"}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(o,{width:"70%",height:"1rem",className:"mx-auto"}),(0,r.jsx)(o,{width:"90%",height:"0.75rem",className:"mx-auto"})]})]})},s))})},h=e=>{let{className:s=""}=e;return(0,r.jsxs)("div",{className:"text-center mb-6 ".concat(s),children:[(0,r.jsx)(o,{width:"4rem",height:"4rem",rounded:"rounded-2xl",className:"mx-auto mb-4"}),(0,r.jsx)(o,{width:"15rem",height:"2rem",className:"mx-auto mb-2"}),(0,r.jsx)(o,{width:"20rem",height:"1rem",className:"mx-auto"})]})},x=e=>{let{className:s=""}=e;return(0,r.jsxs)("div",{className:"flex flex-col md:flex-row gap-4 mb-6 ".concat(s),children:[(0,r.jsx)("div",{className:"flex-1",children:(0,r.jsx)(o,{width:"100%",height:"2.5rem",rounded:"rounded-lg"})}),(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsx)(o,{width:"8rem",height:"2.5rem",rounded:"rounded-lg"}),(0,r.jsx)(o,{width:"6rem",height:"2.5rem",rounded:"rounded-lg"})]})]})},u=e=>{let{className:s=""}=e;return(0,r.jsxs)("div",{className:"bg-white/5 backdrop-blur-sm border border-slate-200/10 rounded-xl p-6 ".concat(s),children:[(0,r.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(o,{width:"8rem",height:"1rem"}),(0,r.jsx)(o,{width:"6rem",height:"0.75rem"})]}),(0,r.jsx)(o,{width:"4rem",height:"1.5rem",rounded:"rounded-full"})]}),(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)(o,{width:"4rem",height:"0.75rem"}),(0,r.jsx)(o,{width:"6rem",height:"0.75rem"})]}),(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)(o,{width:"5rem",height:"0.75rem"}),(0,r.jsx)(o,{width:"7rem",height:"0.75rem"})]})]}),(0,r.jsxs)("div",{className:"flex justify-end space-x-2 mt-4 pt-4 border-t border-white/10",children:[(0,r.jsx)(o,{width:"4rem",height:"2rem",rounded:"rounded-lg"}),(0,r.jsx)(o,{width:"4rem",height:"2rem",rounded:"rounded-lg"})]})]})},g=e=>{let{type:s="dashboard"}=e;switch(s){case"dashboard":return(0,r.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900",children:(0,r.jsxs)("div",{className:"max-w-7xl mx-auto px-6 py-6",children:[(0,r.jsx)(h,{}),(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)(o,{width:"10rem",height:"1.5rem",className:"mb-4"}),(0,r.jsx)(c,{})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(o,{width:"12rem",height:"1.5rem",className:"mb-4"}),(0,r.jsx)(m,{})]})]})]})});case"table":return(0,r.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900",children:(0,r.jsxs)("div",{className:"max-w-7xl mx-auto px-6 py-6",children:[(0,r.jsx)(h,{}),(0,r.jsx)(x,{}),(0,r.jsx)(d,{rows:8,columns:5})]})});case"cards":return(0,r.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900",children:(0,r.jsxs)("div",{className:"max-w-7xl mx-auto px-6 py-6",children:[(0,r.jsx)(h,{}),(0,r.jsx)(x,{}),(0,r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Array.from({length:6}).map((e,s)=>(0,r.jsx)(u,{},s))})]})});default:return(0,r.jsx)(g,{type:"dashboard"})}}},5722:(e,s,t)=>{t.d(s,{A:()=>r});const r=(0,t(3797).A)("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]])},5748:(e,s,t)=>{t.r(s),t.d(s,{default:()=>w});var r=t(5043),a=t(6621),l=t(3216),i=t(1460),o=t(3959),n=t(6127),d=t(8112);const c=(0,t(3797).A)("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);var m=t(9213),h=t(5722),x=t(6487),u=t(987),g=t(1754),p=t(8279),b=t(579);const j=(0,r.memo)(e=>{let{card:s,index:t,onClick:r}=e;const a=s.icon;return(0,b.jsxs)(o.Xg,{className:"group relative overflow-hidden p-4 cursor-pointer hover:shadow-lg transition-all duration-300 border border-slate-200/10 hover:border-orange-400/30 bg-white/5 backdrop-blur-sm hover:bg-white/10 h-full",onClick:()=>r(s.route),children:[(0,b.jsxs)("div",{className:"relative h-full flex flex-col",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,b.jsx)("div",{className:"w-12 h-12 bg-gradient-to-br ".concat(s.color," rounded-xl flex items-center justify-center shadow-lg group-hover:shadow-xl transition-all duration-300"),children:(0,b.jsx)(a,{className:"w-6 h-6 text-white"})}),(0,b.jsx)("div",{className:"text-right",children:(0,b.jsx)("p",{className:"text-2xl font-bold text-white leading-none",children:s.value})})]}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("h3",{className:"text-sm font-semibold text-slate-200 mb-1",children:s.title}),(0,b.jsx)("p",{className:"text-slate-400 text-xs leading-relaxed",children:s.description})]})]}),(0,b.jsx)("div",{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-gradient-to-r from-transparent via-orange-400/60 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]},t)}),v=(0,r.memo)(e=>{let{onNavigate:s}=e;const t=(0,r.useMemo)(()=>[{title:"Promoters",description:"Manage promoter accounts",icon:d.A,color:"from-orange-500 to-orange-600",route:"/admin/promoters"},{title:"Customers",description:"View customer profiles",icon:c,color:"from-yellow-500 to-yellow-600",route:"/admin/customers"},{title:"Pin Management",description:"Handle pin requests",icon:m.A,color:"from-purple-500 to-purple-600",route:"/admin/pins"},{title:"Withdrawals",description:"Process withdrawals",icon:h.A,color:"from-rose-500 to-rose-600",route:"/admin/withdrawals"}],[]);return(0,b.jsx)("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:t.map((e,t)=>{const r=e.icon;return(0,b.jsxs)("div",{className:"group relative overflow-hidden p-5 cursor-pointer hover:shadow-lg transition-all duration-300 border border-slate-200/10 hover:border-orange-400/30 bg-white/5 backdrop-blur-sm hover:bg-white/10 h-full rounded-xl",onClick:t=>{t.preventDefault(),t.stopPropagation(),s(e.route)},role:"button",tabIndex:0,onKeyPress:t=>{"Enter"!==t.key&&" "!==t.key||(t.preventDefault(),s(e.route))},children:[(0,b.jsxs)("div",{className:"relative text-center space-y-4 h-full flex flex-col",children:[(0,b.jsx)("div",{className:"w-14 h-14 bg-gradient-to-br ".concat(e.color," rounded-xl flex items-center justify-center mx-auto shadow-lg group-hover:shadow-xl transition-all duration-300"),children:(0,b.jsx)(r,{className:"w-7 h-7 text-white"})}),(0,b.jsxs)("div",{className:"space-y-2 flex-1",children:[(0,b.jsx)("h3",{className:"text-base font-semibold text-white",children:e.title}),(0,b.jsx)("p",{className:"text-slate-400 text-sm leading-relaxed",children:e.description})]})]}),(0,b.jsx)("div",{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-gradient-to-r from-transparent via-slate-400/60 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]},t)})})});const w=function(){const{user:e,logout:s}=(0,a.As)(),t=(0,l.Zp)(),{showError:m,showInfo:h,handleApiError:w}=(0,p.dj)(),[f,N]=(0,r.useState)({promoters:0,customers:0,systemHealth:"good"}),[y,k]=(0,r.useState)(!0),[A,C]=(0,r.useState)(!1),[E,M]=(0,r.useState)(null),[P,S]=(0,r.useState)(!0),[T,D]=(0,r.useState)([]),[H,I]=(0,r.useState)(!1);(0,o.r9)();const q=(0,r.useCallback)(async function(){let s=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];try{s&&(k(!0),M(null));const e=Date.now(),[t,r]=await Promise.all([n.ND.from("profiles").select("*",{count:"exact",head:!0}).eq("role","promoter"),n.ND.from("profiles").select("*",{count:"exact",head:!0}).eq("role","customer")]);Date.now();if(t.error)throw new Error("Failed to load promoters: ".concat(t.error.message));if(r.error)throw new Error("Failed to load customers: ".concat(r.error.message));const a=t.count||0,l={promoters:a,customers:r.count||0,systemHealth:"good",lastUpdated:(new Date).toISOString()};N(l),C(!0),M(null)}catch(E){M(E.message||"Failed to load dashboard data"),C(!1),w(E,"Failed to load dashboard data. Retrying automatically..."),setTimeout(()=>{e&&q(!1)},3e3)}finally{s&&k(!1)}},[w]);(0,r.useEffect)(()=>{e&&!A&&(M(null),q(!0))},[e,A]),(0,r.useEffect)(()=>{if(!P||!e||!A)return;const s=setInterval(()=>{q(!1)},6e4);return()=>{clearInterval(s)}},[P,e,A]),(0,r.useCallback)(()=>{s(),t("/login")},[s,t]);const F=(0,r.useMemo)(()=>[{title:"Total Promoters",value:f.promoters,icon:d.A,color:"from-orange-500 to-orange-600",route:"/admin/promoters",description:"Active promoters managing customer relationships and driving growth"},{title:"Total Customers",value:f.customers,icon:c,color:"from-yellow-500 to-yellow-600",route:"/admin/customers",description:"Registered customers with active investment portfolios"}],[f]),R=(0,r.useCallback)(e=>{t(e)},[t]),U=(0,r.useCallback)(e=>{t(e)},[t]);return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(o.wE,{}),(0,b.jsx)(i.A,{}),(0,b.jsx)(o.dQ,{children:(0,b.jsx)("div",{className:"min-h-screen overflow-auto pt-40",children:(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-slate-900/50 via-transparent to-slate-800/30"}),(0,b.jsxs)("div",{className:"relative max-w-7xl mx-auto px-6 py-6",children:[(0,b.jsxs)("div",{className:"text-center mb-6",children:[(0,b.jsx)("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gradient-to-br from-orange-500 to-orange-600 rounded-2xl mb-4 shadow-xl",children:(0,b.jsx)(x.A,{className:"w-8 h-8 text-white"})}),(0,b.jsx)("h1",{className:"text-3xl font-bold text-white mb-2 tracking-tight",children:"Admin Dashboard"}),(0,b.jsxs)("p",{className:"text-base text-slate-300 max-w-xl mx-auto",children:["Welcome back, ",(0,b.jsx)("span",{className:"text-orange-400 font-semibold",children:(null===e||void 0===e?void 0:e.name)||"Administrator"})]})]}),E&&(0,b.jsxs)("div",{className:"mb-6 p-4 bg-red-500/10 border border-red-500/20 rounded-lg",children:[(0,b.jsxs)("div",{className:"flex items-center space-x-2 text-red-400",children:[(0,b.jsx)(u.A,{className:"w-5 h-5"}),(0,b.jsx)("span",{className:"font-medium",children:"Error loading dashboard data"})]}),(0,b.jsx)("p",{className:"text-red-300 mt-1 text-sm",children:E}),(0,b.jsx)("button",{onClick:()=>{M(null),q(!0)},className:"mt-3 px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg text-sm transition-colors",children:"Retry Loading"})]}),(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"mb-4",children:(0,b.jsx)("h2",{className:"text-xl font-bold text-white",children:"Platform Overview"})}),(0,b.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:y&&!A?(0,b.jsx)(g.bT,{count:2}):F&&F.length>0?F.map((e,s)=>(0,b.jsx)(j,{card:e,index:s,onClick:R},s)):(0,b.jsxs)("div",{className:"col-span-2 text-center py-8",children:[(0,b.jsx)("div",{className:"text-slate-400 mb-4",children:"No data available"}),(0,b.jsx)("button",{onClick:()=>q(!0),className:"px-4 py-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700 transition-colors",children:"Retry Loading"})]})})]}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"mb-4",children:[(0,b.jsx)("h2",{className:"text-xl font-bold text-white mb-1",children:"Management Tools"}),(0,b.jsx)("p",{className:"text-slate-400 text-sm",children:"Access key administrative functions"})]}),y&&!A?(0,b.jsx)(g.xk,{count:4}):(0,b.jsx)(v,{onNavigate:U})]})]})]})]})})})]})}},6487:(e,s,t)=>{t.d(s,{A:()=>r});const r=(0,t(3797).A)("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]])},8112:(e,s,t)=>{t.d(s,{A:()=>r});const r=(0,t(3797).A)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]])},9213:(e,s,t)=>{t.d(s,{A:()=>r});const r=(0,t(3797).A)("Pin",[["line",{x1:"12",x2:"12",y1:"17",y2:"22",key:"1jrz49"}],["path",{d:"M5 17h14v-1.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V6h1a2 2 0 0 0 0-4H8a2 2 0 0 0 0 4h1v4.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24Z",key:"13yl11"}]])}}]);
//# sourceMappingURL=748.49474f8a.chunk.js.map
{"version":3,"file":"static/js/692.b3f55734.chunk.js","mappings":"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","sources":["../node_modules/lucide-react/src/icons/plus.ts","components/UnifiedPromoterForm.js","../node_modules/lucide-react/src/icons/credit-card.ts","../node_modules/lucide-react/src/icons/users.ts","../node_modules/lucide-react/src/icons/user-plus.ts","promoter/pages/PromoterHome.js"],"sourcesContent":["import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Plus\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNNSAxMmgxNCIgLz4KICA8cGF0aCBkPSJNMTIgNXYxNCIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/plus\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Plus = createLucideIcon('Plus', [\n  ['path', { d: 'M5 12h14', key: '1ays0h' }],\n  ['path', { d: 'M12 5v14', key: 's699le' }],\n]);\n\nexport default Plus;\n","import React, { useState, useEffect, useCallback, useMemo } from 'react';\nimport { supabase } from '../common/services/supabaseClient';\nimport { Loader, Eye, EyeOff, CheckCircle, AlertCircle, Info, X } from 'lucide-react';\n\n/**\n * UnifiedPromoterForm - A comprehensive, uniform promoter creation form\n * \n * Features:\n * - Auto-generated BPVP IDs (BPVP01, BPVP02, etc.)\n * - Optional email support with shared email capability\n * - Hierarchical parent promoter selection\n * - Real-time validation and error handling\n * - Clean, consistent UI following brand guidelines\n * - Role/Level selection with default 'Affiliate'\n * - Status toggle (Active/Inactive)\n * - Comprehensive form validation\n */\n\nconst UnifiedPromoterForm = React.memo(({ \n  onSubmit, \n  onCancel, \n  loading = false,\n  editingPromoter = null,\n  availableParents = [],\n  adminUsers = []\n}) => {\n  // Form state\n  const [formData, setFormData] = useState({\n    name: '',\n    email: '',\n    hasEmail: false, // Email is now optional (metadata only)\n    password: 'password123', // Auto-assigned default password\n    confirmPassword: 'password123', // Auto-assigned default password\n    phone: '',\n    address: '',\n    parentPromoter: ''\n  });\n\n  // Validation and UI state\n  const [formErrors, setFormErrors] = useState({});\n  const [showPassword, setShowPassword] = useState(false);\n  const [showConfirmPassword, setShowConfirmPassword] = useState(false);\n\n  // Role and status are now handled automatically by backend\n\n  // Populate form with editing promoter data\n  useEffect(() => {\n    if (editingPromoter) {\n      const promoterEmail = editingPromoter.email || '';\n      // Check if email is a real email (not a placeholder like noemail+uuid@brightplanetventures.local)\n      const hasRealEmail = promoterEmail && \n        !promoterEmail.includes('noemail+') && \n        !promoterEmail.includes('@brightplanetventures.local');\n      \n      setFormData({\n        name: editingPromoter.name || '',\n        email: hasRealEmail ? promoterEmail : '',\n        hasEmail: hasRealEmail,\n        password: 'password123', // Keep default password for editing\n        confirmPassword: 'password123', // Keep default password for editing\n        phone: editingPromoter.phone || '',\n        address: editingPromoter.address || '',\n        parentPromoter: editingPromoter.parent_promoter_id || ''\n      });\n    }\n  }, [editingPromoter]);\n\n  // Combine and format parent promoter options\n  const parentPromoterOptions = useMemo(() => {\n    const adminOptions = (adminUsers || []).map(admin => ({\n      id: admin.id,\n      label: `ðŸ‘‘ ${admin.name} (Admin)`,\n      type: 'admin'\n    }));\n\n    const promoterOptions = (availableParents || []).map(promoter => ({\n      id: promoter.id || promoter._id,\n      label: promoter.isCurrentUser \n        ? `${promoter.promoter_id || 'CURRENT'} - ${promoter.name} (You)`\n        : `${promoter.promoter_id || 'N/A'} - ${promoter.name || 'Unknown'}`,\n      type: 'promoter'\n    }));\n\n    // Admin users first, then promoters\n    return [...adminOptions, ...promoterOptions];\n  }, [adminUsers, availableParents]);\n\n  // Real-time form validation\n  const validateField = useCallback((fieldName, value) => {\n    const errors = {};\n\n    switch (fieldName) {\n      case 'name':\n        if (!value || !value.trim()) {\n          errors.name = 'Name is required';\n        } else if (!/^[a-zA-Z\\s]+$/.test(value.trim())) {\n          errors.name = 'Name must contain only letters and spaces';\n        } else if (value.trim().length < 2) {\n          errors.name = 'Name must be at least 2 characters';\n        }\n        break;\n\n      case 'email':\n        if (formData.hasEmail) {\n          if (!value || !value.trim()) {\n            errors.email = 'Email address is required';\n          } else {\n            const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n            if (!emailRegex.test(value.trim())) {\n              errors.email = 'Please enter a valid email address';\n            }\n          }\n        }\n        break;\n\n      case 'password':\n        if (!editingPromoter) { // Only validate password for new promoters\n          if (!value) {\n            errors.password = 'Password is required';\n          } else if (value.length < 8) {\n            errors.password = 'Password must be at least 8 characters';\n          } else if (!/(?=.*[a-zA-Z])(?=.*\\d)/.test(value)) {\n            errors.password = 'Password must contain both letters and numbers';\n          }\n        }\n        break;\n\n      case 'confirmPassword':\n        if (!editingPromoter && value !== formData.password) {\n          errors.confirmPassword = 'Passwords do not match';\n        }\n        break;\n\n      case 'phone':\n        if (!value) {\n          errors.phone = 'Phone number is required';\n        } else if (!/^[6-9]\\d{9}$/.test(value)) {\n          errors.phone = 'Enter a valid 10-digit Indian mobile number (starting with 6-9)';\n        }\n        break;\n\n      case 'parentPromoter':\n        if (!value && parentPromoterOptions.length > 1) {\n          errors.parentPromoter = 'Parent promoter selection is required';\n        }\n        break;\n\n      default:\n        break;\n    }\n\n    return errors;\n  }, [formData.hasEmail, formData.password, editingPromoter, parentPromoterOptions]);\n\n  // Handle input changes with real-time validation\n  const handleInputChange = useCallback((fieldName, value) => {\n    setFormData(prev => ({ ...prev, [fieldName]: value }));\n    \n    // Real-time validation\n    const fieldErrors = validateField(fieldName, value);\n    setFormErrors(prev => ({ ...prev, ...fieldErrors }));\n    \n    // Clear error if field is now valid\n    if (!fieldErrors[fieldName] && formErrors[fieldName]) {\n      setFormErrors(prev => {\n        const newErrors = { ...prev };\n        delete newErrors[fieldName];\n        return newErrors;\n      });\n    }\n  }, [validateField, formErrors]);\n\n  // Comprehensive form validation\n  const validateForm = useCallback(() => {\n    const errors = {};\n\n    // Validate all fields\n    Object.keys(formData).forEach(fieldName => {\n      const fieldErrors = validateField(fieldName, formData[fieldName]);\n      Object.assign(errors, fieldErrors);\n    });\n\n    // Additional validations - promoter ID, role, and status are handled by backend\n\n    setFormErrors(errors);\n    return Object.keys(errors).length === 0;\n  }, [formData, validateField, editingPromoter]);\n\n  // Auto-select parent promoter if there's only one option\n  useEffect(() => {\n    if (parentPromoterOptions.length === 1 && !formData.parentPromoter) {\n      setFormData(prev => ({ \n        ...prev, \n        parentPromoter: parentPromoterOptions[0].id \n      }));\n    }\n  }, [parentPromoterOptions, formData.parentPromoter]);\n\n  // Handle form submission\n  const handleSubmit = useCallback(async (e) => {\n    e.preventDefault();\n    \n    if (!validateForm()) {\n      return;\n    }\n\n    // Prepare submission data for new Promoter ID system\n    const submissionData = {\n      name: formData.name,\n      email: formData.hasEmail && formData.email ? formData.email : null,\n      password: formData.password,\n      phone: formData.phone,\n      address: formData.address || null,\n      parentPromoter: formData.parentPromoter || null,\n      // Note: Promoter ID will be auto-generated by the backend\n      useNewSystem: true // Flag to indicate using new Promoter ID system\n    };\n\n    await onSubmit(submissionData);\n  }, [formData, validateForm, onSubmit]);\n\n  return (\n    <div className=\"bg-gray-800 rounded-lg p-6 w-full max-w-2xl mx-4 max-h-[90vh] overflow-y-auto\">\n      {/* Header */}\n      <div className=\"flex items-center justify-between border-b border-gray-700 pb-4 mb-6\">\n        <div>\n          <h3 className=\"text-xl font-semibold text-white\">\n            {editingPromoter ? 'Edit Promoter' : 'Create New Promoter'}\n          </h3>\n          {editingPromoter && (\n            <p className=\"text-gray-400 text-sm mt-1\">\n              Update promoter information and hierarchy\n            </p>\n          )}\n        </div>\n        <button\n          type=\"button\"\n          onClick={onCancel}\n          className=\"text-gray-400 hover:text-white transition-colors\"\n          disabled={loading}\n        >\n          <X className=\"w-5 h-5\" />\n        </button>\n      </div>\n\n      <form onSubmit={handleSubmit} className=\"space-y-5\">\n        {/* Promoter ID will be auto-generated after creation - no field shown */}\n\n        {/* Name */}\n        <div>\n          <label className=\"block text-sm font-medium text-gray-300 mb-2\">\n            Full Name\n            <span className=\"text-orange-400 ml-1\">*</span>\n          </label>\n          <input\n            type=\"text\"\n            value={formData.name}\n            onChange={(e) => handleInputChange('name', e.target.value)}\n            className={`w-full px-4 py-3 bg-gray-700 border rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-orange-500 ${\n              formErrors.name ? 'border-red-500' : 'border-gray-600'\n            }`}\n            placeholder=\"Enter full name (letters and spaces only)\"\n          />\n          {formErrors.name && (\n            <p className=\"text-red-400 text-sm mt-1\">{formErrors.name}</p>\n          )}\n        </div>\n\n        {/* Email Field - Now Optional */}\n        <div className=\"mb-4\">\n          <div className=\"flex items-center mb-2\">\n            <input\n              type=\"checkbox\"\n              id=\"hasEmail\"\n              checked={formData.hasEmail}\n              onChange={(e) => {\n                const hasEmail = e.target.checked;\n                setFormData(prev => ({ \n                  ...prev, \n                  hasEmail,\n                  email: hasEmail ? prev.email : ''\n                }));\n                if (!hasEmail) {\n                  setFormErrors(prev => {\n                    const newErrors = { ...prev };\n                    delete newErrors.email;\n                    return newErrors;\n                  });\n                }\n              }}\n              className=\"mr-2 h-4 w-4 text-orange-600 focus:ring-orange-500 border-gray-600 rounded bg-gray-700\"\n            />\n            <label htmlFor=\"hasEmail\" className=\"text-sm font-medium text-gray-300\">\n              Add Email Address\n            </label>\n          </div>\n          \n          {formData.hasEmail && (\n            <>\n              <input\n                type=\"email\"\n                value={formData.email}\n                onChange={(e) => handleInputChange('email', e.target.value)}\n                className={`w-full px-4 py-3 bg-gray-700 border rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-orange-500 ${\n                  formErrors.email ? 'border-red-500' : 'border-gray-600'\n                }`}\n                placeholder=\"Enter email address (can be shared with others)\"\n              />\n              {formErrors.email && (\n                <p className=\"text-red-400 text-sm mt-1\">{formErrors.email}</p>\n              )}\n            </>\n          )}\n          \n        </div>\n\n\n        {/* Phone */}\n        <div>\n          <label className=\"block text-sm font-medium text-gray-300 mb-2\">\n            Phone Number\n            <span className=\"text-orange-400 ml-1\">*</span>\n          </label>\n          <input\n            type=\"tel\"\n            value={formData.phone}\n            onChange={(e) => handleInputChange('phone', e.target.value.replace(/\\D/g, '').slice(0, 10))}\n            className={`w-full px-4 py-3 bg-gray-700 border rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-orange-500 ${\n              formErrors.phone ? 'border-red-500' : 'border-gray-600'\n            }`}\n            placeholder=\"Enter 10-digit mobile number\"\n            maxLength={10}\n          />\n          {formErrors.phone && (\n            <p className=\"text-red-400 text-sm mt-1\">{formErrors.phone}</p>\n          )}\n        </div>\n\n        {/* Address */}\n        <div>\n          <label className=\"block text-sm font-medium text-gray-300 mb-2\">\n            Address\n            <span className=\"text-gray-500 text-xs ml-2\">(Optional)</span>\n          </label>\n          <textarea\n            value={formData.address}\n            onChange={(e) => handleInputChange('address', e.target.value)}\n            className=\"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-orange-500\"\n            placeholder=\"Enter full postal address (optional)\"\n            rows={3}\n          />\n        </div>\n\n        {/* Parent Promoter */}\n        <div>\n          <label className=\"block text-sm font-medium text-gray-300 mb-2\">\n            Parent Promoter\n            <span className=\"text-orange-400 ml-1\">*</span>\n          </label>\n          <select\n            value={formData.parentPromoter}\n            onChange={(e) => handleInputChange('parentPromoter', e.target.value)}\n            disabled={parentPromoterOptions.length === 1 || editingPromoter}\n            className={`w-full px-4 py-3 bg-gray-700 border rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-orange-500 ${\n              formErrors.parentPromoter ? 'border-red-500' : 'border-gray-600'\n            } ${(parentPromoterOptions.length === 1 || editingPromoter) ? 'opacity-75 cursor-not-allowed' : ''}`}\n          >\n            {parentPromoterOptions.length === 0 && <option value=\"\">Select parent promoter</option>}\n            {parentPromoterOptions.map((option) => (\n              <option key={option.id} value={option.id}>\n                {option.label}\n              </option>\n            ))}\n          </select>\n          {parentPromoterOptions.length === 1 && !editingPromoter && (\n            <p className=\"text-gray-400 text-xs mt-1\">\n              ðŸ’¡ Automatically set as your downline promoter\n            </p>\n          )}\n          {formErrors.parentPromoter && (\n            <p className=\"text-red-400 text-sm mt-1\">{formErrors.parentPromoter}</p>\n          )}\n        </div>\n\n        {/* Role and Status are automatically set by the backend */}\n\n        {/* Form Actions */}\n        <div className=\"flex justify-end space-x-4 pt-6 border-t border-gray-700\">\n          <button\n            type=\"button\"\n            onClick={onCancel}\n            className=\"px-6 py-3 text-gray-300 hover:text-white transition-colors\"\n            disabled={loading}\n          >\n            Cancel\n          </button>\n          <button\n            type=\"submit\"\n            disabled={loading || Object.keys(formErrors).length > 0}\n            className=\"px-6 py-3 bg-gradient-to-r from-orange-500 to-orange-600 text-white rounded-lg hover:from-orange-600 hover:to-orange-700 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2\"\n          >\n            {loading ? (\n              <>\n                <Loader className=\"w-4 h-4 animate-spin\" />\n                <span>{editingPromoter ? 'Updating...' : 'Creating...'}</span>\n              </>\n            ) : (\n              <>\n                <CheckCircle className=\"w-4 h-4\" />\n                <span>{editingPromoter ? 'Update Promoter' : 'Create Promoter'}</span>\n              </>\n            )}\n          </button>\n        </div>\n      </form>\n    </div>\n  );\n});\n\nUnifiedPromoterForm.displayName = 'UnifiedPromoterForm';\n\nexport default UnifiedPromoterForm;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name CreditCard\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cmVjdCB3aWR0aD0iMjAiIGhlaWdodD0iMTQiIHg9IjIiIHk9IjUiIHJ4PSIyIiAvPgogIDxsaW5lIHgxPSIyIiB4Mj0iMjIiIHkxPSIxMCIgeTI9IjEwIiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/credit-card\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst CreditCard = createLucideIcon('CreditCard', [\n  [\n    'rect',\n    { width: '20', height: '14', x: '2', y: '5', rx: '2', key: 'ynyp8z' },\n  ],\n  ['line', { x1: '2', x2: '22', y1: '10', y2: '10', key: '1b3vmo' }],\n]);\n\nexport default CreditCard;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Users\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTYgMjF2LTJhNCA0IDAgMCAwLTQtNEg2YTQgNCAwIDAgMC00IDR2MiIgLz4KICA8Y2lyY2xlIGN4PSI5IiBjeT0iNyIgcj0iNCIgLz4KICA8cGF0aCBkPSJNMjIgMjF2LTJhNCA0IDAgMCAwLTMtMy44NyIgLz4KICA8cGF0aCBkPSJNMTYgMy4xM2E0IDQgMCAwIDEgMCA3Ljc1IiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/users\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Users = createLucideIcon('Users', [\n  ['path', { d: 'M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2', key: '1yyitq' }],\n  ['circle', { cx: '9', cy: '7', r: '4', key: 'nufk8' }],\n  ['path', { d: 'M22 21v-2a4 4 0 0 0-3-3.87', key: 'kshegd' }],\n  ['path', { d: 'M16 3.13a4 4 0 0 1 0 7.75', key: '1da9ce' }],\n]);\n\nexport default Users;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name UserPlus\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTYgMjF2LTJhNCA0IDAgMCAwLTQtNEg2YTQgNCAwIDAgMC00IDR2MiIgLz4KICA8Y2lyY2xlIGN4PSI5IiBjeT0iNyIgcj0iNCIgLz4KICA8bGluZSB4MT0iMTkiIHgyPSIxOSIgeTE9IjgiIHkyPSIxNCIgLz4KICA8bGluZSB4MT0iMjIiIHgyPSIxNiIgeTE9IjExIiB5Mj0iMTEiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/user-plus\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst UserPlus = createLucideIcon('UserPlus', [\n  ['path', { d: 'M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2', key: '1yyitq' }],\n  ['circle', { cx: '9', cy: '7', r: '4', key: 'nufk8' }],\n  ['line', { x1: '19', x2: '19', y1: '8', y2: '14', key: '1bvyxn' }],\n  ['line', { x1: '22', x2: '16', y1: '11', y2: '11', key: '1shjgl' }],\n]);\n\nexport default UserPlus;\n","import React, { useState, useEffect, useCallback, useMemo } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { useAuth } from \"../../common/context/AuthContext\";\nimport { useUnifiedToast } from \"../../common/services/unifiedToastService\";\nimport PromoterNavbar from '../components/PromoterNavbar';\nimport UnifiedPromoterForm from '../../components/UnifiedPromoterForm';\nimport UnifiedCustomerForm from '../../common/components/UnifiedCustomerForm';\nimport { \n  UnifiedBackground, \n  UnifiedCard, \n  useScrollAnimation,\n  SharedStyles\n} from \"../../common/components/SharedTheme\";\nimport { SkeletonFullPage } from '../components/skeletons';\nimport { db, supabase } from \"../../common/services/supabaseClient\"\nimport logger from '../../common/utils/logger';\nimport commissionService from '../../services/commissionService';\nimport { \n  Users, \n  Award,\n  Gift,\n  CreditCard,\n  UserPlus,\n  Plus,\n  DollarSign,\n  Eye,\n  EyeOff,\n  RefreshCw\n} from 'lucide-react';\n\nfunction PromoterHome() {\n  const { user, logout } = useAuth();\n  const { showSuccess, showError } = useUnifiedToast();\n  const navigate = useNavigate();\n  useScrollAnimation();\n\n  const [dashboardStats, setDashboardStats] = useState({\n    totalCustomers: 0,\n    totalPromoters: 0,\n    currentLevel: 'Bronze',\n    availablePins: 0\n  });\n  const [showCreatePromoter, setShowCreatePromoter] = useState(false);\n  const [showCreateCustomer, setShowCreateCustomer] = useState(false);\n  const [availablePins, setAvailablePins] = useState(0);\n  const [loadingPins, setLoadingPins] = useState(true);\n  \n  useScrollAnimation();\n\n  // Handle customer form submission using new pin-based system\n  const handleCustomerSubmit = async (formData) => {\n    try {\n      // Check if promoter has sufficient pins before creating customer\n      if (availablePins < 1) {\n        throw new Error(`Insufficient pins to create customer. You need 1 pin but only have ${availablePins} pins available. Please request more pins from admin.`);\n      }\n      \n      // Create new customer using the same function as admin\n      const { data: result, error } = await supabase.rpc('create_customer_final', {\n        p_name: formData.name,\n        p_mobile: formData.mobile,\n        p_state: formData.state,\n        p_city: formData.city,\n        p_pincode: formData.pincode,\n        p_address: formData.address,\n        p_customer_id: formData.cardNo,\n        p_password: formData.password,\n        p_parent_promoter_id: user?.id, // Current promoter as parent\n        p_email: formData.email || null\n      });\n      \n      if (error || !result?.success) {\n        throw new Error(result?.error || error?.message || 'Failed to create customer');\n      }\n      \n      // Show clean success message using unified toast (same as admin)\n      showSuccess(\n        `Customer created successfully and is ready to use.\\n\\nCustomer ID: ${formData.cardNo}\\nName: ${formData.name}\\nLogin: Use Customer ID + Password`\n      );\n      \n      // Update local pin count\n      setAvailablePins(prev => prev - 1);\n\n      // Reload dashboard data and close modal\n      await loadDashboardData();\n      \n      // Force a small delay to ensure database changes are reflected\n      setTimeout(async () => {\n        await loadDashboardData();\n      }, 1000);\n      \n      setShowCreateCustomer(false);\n      \n    } catch (error) {\n      showError(`Failed to create customer: ${error.message}`);\n    }\n  };\n\n  const loadDashboardData = useCallback(async () => {\n    const startTime = performance.now();\n    try {\n      logger.info('Loading dashboard data', { userId: user?.id });\n      \n      // Load real data from Supabase - force fresh data by querying directly\n      const [customersResult, promoterResult, allPromotersResult] = await Promise.all([\n        supabase.from('profiles').select('id, name, customer_id, parent_promoter_id, created_at').eq('role', 'customer'),\n        supabase.from('profiles').select('*').eq('id', user?.id).eq('role', 'promoter').single(),\n        supabase.from('profiles').select('*').eq('role', 'promoter').eq('parent_promoter_id', user?.id)\n      ]);\n\n      logger.debug('Dashboard data loaded', {\n        userId: user?.id,\n        customersCount: customersResult?.data?.length || 0,\n        promotersCount: allPromotersResult?.data?.length || 0,\n        hasPromoterData: !!promoterResult?.data\n      });\n      \n      // Handle errors\n      if (customersResult.error) {\n        logger.error('Error loading customers', { error: customersResult.error, userId: user?.id });\n      }\n\n      if (promoterResult.error) {\n        logger.error('Error loading promoter data', { error: promoterResult.error, userId: user?.id });\n      }\n\n      // Filter customers that belong to this promoter\n      const myCustomers = (customersResult.data || []).filter(customer => {\n        return customer?.parent_promoter_id === user?.id;\n      });\n\n      // Calculate real stats from actual data\n      const totalCustomers = myCustomers.length;\n      const totalPromoters = allPromotersResult.data?.length || 0;\n      \n      // Get promoter level from profile or default to Bronze\n      const promoterProfile = promoterResult.data;\n      const currentLevel = promoterProfile?.business_category || 'Bronze';\n      const availablePins = promoterProfile?.pins || 0;\n      \n      const stats = {\n        totalCustomers,\n        totalPromoters,\n        currentLevel,\n        availablePins\n      };\n\n      setDashboardStats(stats);\n      setAvailablePins(availablePins);\n      \n      const endTime = performance.now();\n      logger.performance('Dashboard data load', endTime - startTime);\n      logger.dataLoad('Dashboard', totalCustomers + totalPromoters, endTime - startTime);\n    } catch (error) {\n      logger.error('Error loading dashboard data', { error: error.message, userId: user?.id });\n      showError('Failed to load dashboard data. Please refresh the page.');\n    } finally {\n      setLoadingPins(false);\n    }\n  }, [user?.id]);\n\n  // Load dashboard data on component mount\n  useEffect(() => {\n    if (user?.id) {\n      loadDashboardData();\n    }\n  }, [user, loadDashboardData]);\n\n\n  const handleCreatePromoter = () => {\n    setShowCreatePromoter(true);\n  };\n\n  const handleCreateCustomer = () => {\n    setShowCreateCustomer(true);\n  };\n\n  const handleCardClick = (route) => {\n    navigate(route);\n  };\n\n  const overviewCards = [\n    {\n      title: 'Total Customers',\n      value: dashboardStats.totalCustomers,\n      description: 'Active customers',\n      icon: Users,\n      color: 'from-blue-500 to-blue-600',\n      route: '/promoter/my-customers'\n    },\n    {\n      title: 'My Promoters',\n      value: dashboardStats.totalPromoters,\n      description: 'Direct promoters',\n      icon: Award,\n      color: 'from-purple-500 to-purple-600',\n      route: '/promoter/my-promoters'\n    },\n    {\n      title: 'Available Pins',\n      value: availablePins,\n      description: loadingPins ? 'Loading...' : (availablePins === 0 ? 'No pins available' : 'Ready to use'),\n      icon: Gift,\n      color: availablePins > 0 ? 'from-orange-500 to-orange-600' : 'from-red-500 to-red-600',\n      route: '/promoter/pin-management'\n    }\n  ];\n\n  // Show skeleton while loading\n  if (loadingPins) {\n    return (\n      <>\n        <SharedStyles />\n        <PromoterNavbar />\n        <UnifiedBackground>\n          <SkeletonFullPage type=\"dashboard\" />\n        </UnifiedBackground>\n      </>\n    );\n  }\n\n  return (\n    <>\n      <SharedStyles />\n      <PromoterNavbar />\n      <UnifiedBackground>\n        <div>\n          {/* Main Content */}\n          <div className=\"relative\">\n            <div className=\"absolute inset-0 bg-gradient-to-br from-orange-500/5 via-transparent to-yellow-500/5\"></div>\n            <div className=\"relative max-w-6xl mx-auto px-6 pt-40 pb-12\">\n              {/* Clean Welcome Section */}\n              <div className=\"text-center mb-6\" data-animate>\n                <div className=\"flex items-center justify-center gap-4 mb-2\">\n                  <h1 className=\"text-3xl md:text-4xl font-bold text-white\">\n                    Welcome, <span className=\"text-transparent bg-clip-text bg-gradient-to-r from-orange-400 to-yellow-400\">{user?.name || 'Promoter'}</span>\n                  </h1>\n                  <button\n                    onClick={loadDashboardData}\n                    className=\"p-2 bg-orange-500/20 hover:bg-orange-500/30 rounded-lg transition-colors\"\n                    title=\"Refresh dashboard data\"\n                  >\n                    <RefreshCw className=\"w-5 h-5 text-orange-400\" />\n                  </button>\n                </div>\n                <p className=\"text-gray-300 mb-6\">Manage your network and grow your business</p>\n                \n                {/* Action Buttons */}\n                <div className=\"flex flex-col sm:flex-row items-center justify-center gap-4\">\n                  <button\n                    onClick={handleCreatePromoter}\n                    className=\"w-full sm:w-auto inline-flex items-center justify-center px-6 py-3 bg-gradient-to-r from-orange-500 to-yellow-500 text-white font-semibold rounded-lg shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-105\"\n                  >\n                    <UserPlus className=\"w-5 h-5 mr-2\" />\n                    Create Promoter\n                  </button>\n                  <button\n                    onClick={handleCreateCustomer}\n                    disabled={availablePins <= 0}\n                    className={`w-full sm:w-auto inline-flex items-center justify-center px-6 py-3 text-white font-semibold rounded-lg shadow-lg transition-all duration-300 ${\n                      availablePins <= 0 \n                        ? 'bg-gray-500 cursor-not-allowed opacity-50' \n                        : 'bg-gradient-to-r from-green-500 to-green-600 hover:shadow-xl hover:scale-105'\n                    }`}\n                    title={availablePins <= 0 ? \"No pins available - Request pins from admin\" : `Create New Customer (${availablePins} pins available)`}\n                  >\n                    <Plus className=\"w-5 h-5 mr-2\" />\n                    Create Customer\n                    {availablePins > 0 && (\n                      <span className=\"ml-2 bg-white/20 px-2 py-1 rounded-full text-xs\">\n                        {availablePins} pins\n                      </span>\n                    )}\n                  </button>\n                </div>\n              </div>\n\n              {/* Stats Overview */}\n              <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6\">\n                {overviewCards.map((card, index) => {\n                  const IconComponent = card.icon;\n                  return (\n                    <UnifiedCard \n                      key={index}\n                      className=\"group relative overflow-hidden p-6 cursor-pointer hover:scale-[1.02] transition-all duration-300 border border-slate-700/50 hover:border-orange-400/50 bg-gradient-to-br from-slate-800/90 to-slate-900/90\"\n                      onClick={() => handleCardClick(card.route)}\n                    >\n                      <div className=\"relative flex items-center space-x-4\">\n                        <div className={`w-12 h-12 bg-gradient-to-r ${card.color} rounded-lg flex items-center justify-center shadow-lg`}>\n                          <IconComponent className=\"w-6 h-6 text-white\" />\n                        </div>\n                        <div className=\"flex-1\">\n                          <h3 className=\"text-lg font-semibold text-white mb-1\">{card.title}</h3>\n                          <p className=\"text-2xl font-bold text-white\">{card.value}</p>\n                          <p className=\"text-slate-400 text-sm\">{card.description}</p>\n                        </div>\n                      </div>\n                    </UnifiedCard>\n                  );\n                })}\n              </div>\n\n              {/* Quick Actions Grid */}\n              <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4\">\n                <div \n                  className=\"group cursor-pointer hover:scale-105 transition-all duration-300 border border-slate-700/50 hover:border-blue-400/50 bg-gradient-to-br from-slate-800/90 to-slate-900/90 p-4 rounded-xl\"\n                  onClick={() => navigate('/promoter/my-customers')}\n                >\n                  <div className=\"text-center\">\n                    <div className=\"w-12 h-12 bg-gradient-to-r from-blue-500 to-blue-600 rounded-lg flex items-center justify-center mx-auto mb-3\">\n                      <Users className=\"w-6 h-6 text-white\" />\n                    </div>\n                    <h3 className=\"text-sm font-semibold text-white mb-1\">My Customers</h3>\n                    <p className=\"text-slate-400 text-xs\">Manage customers</p>\n                  </div>\n                </div>\n\n                <div \n                  className=\"group cursor-pointer hover:scale-105 transition-all duration-300 border border-slate-700/50 hover:border-purple-400/50 bg-gradient-to-br from-slate-800/90 to-slate-900/90 p-4 rounded-xl\"\n                  onClick={() => navigate('/promoter/my-promoters')}\n                >\n                  <div className=\"text-center\">\n                    <div className=\"w-12 h-12 bg-gradient-to-r from-purple-500 to-purple-600 rounded-lg flex items-center justify-center mx-auto mb-3\">\n                      <Award className=\"w-6 h-6 text-white\" />\n                    </div>\n                    <h3 className=\"text-sm font-semibold text-white mb-1\">My Promoters</h3>\n                    <p className=\"text-slate-400 text-xs\">View network</p>\n                  </div>\n                </div>\n\n                <div \n                  className=\"group cursor-pointer hover:scale-105 transition-all duration-300 border border-slate-700/50 hover:border-orange-400/50 bg-gradient-to-br from-slate-800/90 to-slate-900/90 p-4 rounded-xl\"\n                  onClick={() => navigate('/promoter/pin-management')}\n                >\n                  <div className=\"text-center\">\n                    <div className={`w-12 h-12 bg-gradient-to-r ${availablePins > 0 ? 'from-orange-500 to-orange-600' : 'from-red-500 to-red-600'} rounded-lg flex items-center justify-center mx-auto mb-3`}>\n                      <Gift className=\"w-6 h-6 text-white\" />\n                    </div>\n                    <h3 className=\"text-sm font-semibold text-white mb-1\">Pin Management</h3>\n                    <p className=\"text-slate-400 text-xs\">Manage pins</p>\n                  </div>\n                </div>\n\n                <div \n                  className=\"group cursor-pointer hover:scale-105 transition-all duration-300 border border-slate-700/50 hover:border-green-400/50 bg-gradient-to-br from-slate-800/90 to-slate-900/90 p-4 rounded-xl\"\n                  onClick={() => navigate('/promoter/withdrawal-request')}\n                >\n                  <div className=\"text-center\">\n                    <div className=\"w-12 h-12 bg-gradient-to-r from-green-500 to-green-600 rounded-lg flex items-center justify-center mx-auto mb-3\">\n                      <CreditCard className=\"w-6 h-6 text-white\" />\n                    </div>\n                    <h3 className=\"text-sm font-semibold text-white mb-1\">Withdrawals</h3>\n                    <p className=\"text-slate-400 text-xs\">Request withdrawal</p>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        {/* Create Promoter Modal */}\n        {showCreatePromoter && (\n          <div className=\"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4\">\n            <UnifiedPromoterForm\n              isOpen={showCreatePromoter}\n              onClose={() => setShowCreatePromoter(false)}\n              onSubmit={async (formData) => {\n                try {\n                  \n                  // Validate required fields\n                  if (!formData.name || formData.name.trim() === '') {\n                    throw new Error('Name is required for promoter creation.');\n                  }\n                  \n                  if (!formData.password || formData.password.trim() === '') {\n                    throw new Error('Password is required for promoter creation.');\n                  }\n                  \n                  if (!formData.phone || formData.phone.trim() === '') {\n                    throw new Error('Phone number is required for promoter creation.');\n                  }\n                  \n                  // Step 1: Generate unique auth email\n                  const timestamp = Date.now();\n                  const randomNum = Math.floor(Math.random() * 1000000);\n                  let authEmail = `promo${timestamp}${randomNum}@brightplanet.com`;\n                  \n                  // Step 2: Create auth user via backend service to avoid auth state changes\n                  \n                  let authData, authError;\n                  \n                  try {\n                    // Try to create user via backend service first (if available)\n                    const backendResponse = await fetch('http://localhost:5001/api/create-promoter-auth', {\n                      method: 'POST',\n                      headers: { 'Content-Type': 'application/json' },\n                      body: JSON.stringify({\n                        email: authEmail,\n                        password: formData.password,\n                        userData: {\n                          role: 'promoter',\n                          name: formData.name,\n                          phone: formData.phone\n                        }\n                      })\n                    });\n                    \n                    if (backendResponse.ok) {\n                      const result = await backendResponse.json();\n                      authData = { user: result.user };\n                    } else {\n                      throw new Error('Backend service not available');\n                    }\n                    \n                  } catch (backendError) {\n                    \n                    // Fallback to direct signUp\n                    const signUpResult = await supabase.auth.signUp({\n                      email: authEmail,\n                      password: formData.password,\n                      options: {\n                        emailRedirectTo: undefined,\n                        data: {\n                          role: 'promoter',\n                          name: formData.name,\n                          phone: formData.phone\n                        }\n                      }\n                    });\n                    \n                    authData = signUpResult.data;\n                    authError = signUpResult.error;\n                  }\n                  \n                  if (authError) {\n                    console.error('âŒ Auth creation error:', authError);\n                    if (authError.message?.includes('already registered')) {\n                      throw new Error(`Email ${authEmail} is already registered. Please try again.`);\n                    }\n                    throw new Error('Failed to create auth user: ' + authError.message);\n                  }\n                  \n                  if (!authData.user) {\n                    throw new Error('Failed to create auth user: No user data returned');\n                  }\n                  \n                  // Step 2b: Manually confirm the email in database (like admin does)\n                  const { error: confirmError } = await supabase.rpc('confirm_promoter_email', {\n                    p_user_id: authData.user.id\n                  });\n                  \n                  if (confirmError) {\n                    // Continue anyway - this is not critical for promoter creation\n                  }\n                  \n                  // Step 3: Create promoter profile in database\n                  const { data: result, error } = await supabase.rpc('create_promoter_with_auth_id', {\n                    p_name: formData.name.trim(),\n                    p_user_id: authData.user.id,\n                    p_auth_email: authEmail,\n                    p_password: formData.password.trim(),\n                    p_phone: formData.phone.trim(),\n                    p_email: formData.email && formData.email.trim() ? formData.email.trim() : null,\n                    p_address: formData.address && formData.address.trim() ? formData.address.trim() : null,\n                    p_parent_promoter_id: user.id, // Current promoter as parent\n                    p_role_level: 'Affiliate',\n                    p_status: 'Active'\n                  });\n                  \n                  if (error) {\n                    throw error;\n                  }\n                  \n                  if (!result || !result.success) {\n                    throw new Error(result?.error || 'Failed to create promoter profile');\n                  }\n                  \n                  // Show clean success message\n                  showSuccess(`Promoter created successfully and is ready to use.\\n\\nPromoter ID: ${result.promoter_id}\\nName: ${result.name}\\nLogin: Use Promoter ID + Password`);\n                  \n                  // Reload dashboard data and close modal\n                  await loadDashboardData();\n                  setShowCreatePromoter(false);\n                  \n                } catch (error) {\n                  showError(`Failed to create promoter: ${error.message}`);\n                }\n              }}\n              promoters={[{\n                id: user.id,\n                name: user.name || 'Current Promoter',\n                promoter_id: user.promoter_id || 'CURRENT',\n                isCurrentUser: true\n              }]} // Current promoter as default parent\n              adminUsers={[]} // No admin users in promoter context\n            />\n          </div>\n        )}\n\n        {/* Create Customer Modal - Using UnifiedCustomerForm */}\n        <UnifiedCustomerForm\n          isOpen={showCreateCustomer}\n          onClose={() => setShowCreateCustomer(false)}\n          onSubmit={handleCustomerSubmit}\n          promoters={[{\n            id: user?.id,\n            name: user?.name || 'Current Promoter',\n            promoter_id: user?.promoter_id || 'CURRENT',\n            role: 'promoter'\n          }]} // Current promoter as the only option\n          isEditing={false}\n          initialData={{\n            parentPromoter: user?.id // Pre-select current promoter\n          }}\n        />\n\n\n      </UnifiedBackground>\n    </>\n  );\n}\n\nexport default PromoterHome;\n"],"names":["Plus","createLucideIcon","d","key","UnifiedPromoterForm","React","_ref","onSubmit","onCancel","loading","editingPromoter","availableParents","adminUsers","formData","setFormData","useState","name","email","hasEmail","password","confirmPassword","phone","address","parentPromoter","formErrors","setFormErrors","showPassword","setShowPassword","showConfirmPassword","setShowConfirmPassword","useEffect","promoterEmail","hasRealEmail","includes","parent_promoter_id","parentPromoterOptions","useMemo","map","admin","id","label","concat","type","promoter","_id","isCurrentUser","promoter_id","validateField","useCallback","fieldName","value","errors","trim","test","length","handleInputChange","prev","_objectSpread","fieldErrors","newErrors","validateForm","Object","keys","forEach","assign","handleSubmit","async","e","preventDefault","submissionData","useNewSystem","_jsxs","className","children","_jsx","onClick","disabled","X","onChange","target","placeholder","checked","htmlFor","_Fragment","replace","slice","maxLength","rows","option","Loader","CheckCircle","displayName","CreditCard","width","height","x","y","rx","x1","x2","y1","y2","Users","cx","cy","r","UserPlus","user","logout","useAuth","showSuccess","showError","useUnifiedToast","navigate","useNavigate","useScrollAnimation","dashboardStats","setDashboardStats","totalCustomers","totalPromoters","currentLevel","availablePins","showCreatePromoter","setShowCreatePromoter","showCreateCustomer","setShowCreateCustomer","setAvailablePins","loadingPins","setLoadingPins","loadDashboardData","startTime","performance","now","_customersResult$data","_allPromotersResult$d","_allPromotersResult$d2","logger","userId","customersResult","promoterResult","allPromotersResult","Promise","all","supabase","from","select","eq","single","customersCount","data","promotersCount","hasPromoterData","error","filter","customer","promoterProfile","business_category","pins","endTime","message","overviewCards","title","description","icon","color","route","Award","Gift","SharedStyles","PromoterNavbar","UnifiedBackground","SkeletonFullPage","RefreshCw","handleCreatePromoter","handleCreateCustomer","card","index","IconComponent","UnifiedCard","handleCardClick","isOpen","onClose","Error","timestamp","Date","randomNum","Math","floor","random","authData","authError","authEmail","backendResponse","fetch","method","headers","body","JSON","stringify","userData","role","ok","json","backendError","signUpResult","auth","signUp","options","emailRedirectTo","undefined","_authError$message","console","confirmError","rpc","p_user_id","result","p_name","p_auth_email","p_password","p_phone","p_email","p_address","p_parent_promoter_id","p_role_level","p_status","success","promoters","UnifiedCustomerForm","p_mobile","mobile","p_state","state","p_city","city","p_pincode","pincode","p_customer_id","cardNo","setTimeout","isEditing","initialData"],"sourceRoot":""}
{"version":3,"file":"static/js/581.691666ed.chunk.js","mappings":"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","sources":["../node_modules/lucide-react/src/icons/plus.ts","../node_modules/lucide-react/src/icons/shield.ts","components/UnifiedPromoterForm.js","../node_modules/lucide-react/src/icons/phone.ts","../node_modules/lucide-react/src/icons/trash-2.ts","../node_modules/lucide-react/src/icons/pen-square.ts","admin/pages/AdminPromoters.js","admin/services/adminOptimizations.js","../node_modules/lucide-react/src/icons/users.ts"],"sourcesContent":["import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Plus\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNNSAxMmgxNCIgLz4KICA8cGF0aCBkPSJNMTIgNXYxNCIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/plus\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Plus = createLucideIcon('Plus', [\n  ['path', { d: 'M5 12h14', key: '1ays0h' }],\n  ['path', { d: 'M12 5v14', key: 's699le' }],\n]);\n\nexport default Plus;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Shield\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTIgMjJzOC00IDgtMTBWNWwtOC0zLTggM3Y3YzAgNiA4IDEwIDggMTB6IiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/shield\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Shield = createLucideIcon('Shield', [\n  ['path', { d: 'M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z', key: '3xmgem' }],\n]);\n\nexport default Shield;\n","import React, { useState, useEffect, useCallback, useMemo } from 'react';\nimport { supabase } from '../common/services/supabaseClient';\nimport { Loader, Eye, EyeOff, CheckCircle, AlertCircle, Info } from 'lucide-react';\n\n/**\n * UnifiedPromoterForm - A comprehensive, uniform promoter creation form\n * \n * Features:\n * - Auto-generated BPVP IDs (BPVP01, BPVP02, etc.)\n * - Optional email support with shared email capability\n * - Hierarchical parent promoter selection\n * - Real-time validation and error handling\n * - Clean, consistent UI following brand guidelines\n * - Role/Level selection with default 'Affiliate'\n * - Status toggle (Active/Inactive)\n * - Comprehensive form validation\n */\n\nconst UnifiedPromoterForm = React.memo(({ \n  onSubmit, \n  onCancel, \n  loading = false,\n  editingPromoter = null,\n  availableParents = [],\n  adminUsers = []\n}) => {\n  // Form state\n  const [formData, setFormData] = useState({\n    name: '',\n    email: '',\n    hasEmail: false, // Email is now optional (metadata only)\n    password: '',\n    confirmPassword: '',\n    phone: '',\n    address: '',\n    parentPromoter: ''\n  });\n\n  // Validation and UI state\n  const [formErrors, setFormErrors] = useState({});\n  const [showPassword, setShowPassword] = useState(false);\n  const [showConfirmPassword, setShowConfirmPassword] = useState(false);\n\n  // Role and status are now handled automatically by backend\n\n  // Populate form with editing promoter data\n  useEffect(() => {\n    if (editingPromoter) {\n      const promoterEmail = editingPromoter.email || '';\n      // Check if email is a real email (not a placeholder like noemail+uuid@brightplanetventures.local)\n      const hasRealEmail = promoterEmail && \n        !promoterEmail.includes('noemail+') && \n        !promoterEmail.includes('@brightplanetventures.local');\n      \n      setFormData({\n        name: editingPromoter.name || '',\n        email: hasRealEmail ? promoterEmail : '',\n        hasEmail: hasRealEmail,\n        password: '',\n        confirmPassword: '',\n        phone: editingPromoter.phone || '',\n        address: editingPromoter.address || '',\n        parentPromoter: editingPromoter.parent_promoter_id || ''\n      });\n    }\n  }, [editingPromoter]);\n\n  // Combine and format parent promoter options\n  const parentPromoterOptions = useMemo(() => {\n    const adminOptions = (adminUsers || []).map(admin => ({\n      id: admin.id,\n      label: `üëë ${admin.name} (Admin)`,\n      type: 'admin'\n    }));\n\n    const promoterOptions = (availableParents || []).map(promoter => ({\n      id: promoter.id || promoter._id,\n      label: promoter.isCurrentUser \n        ? `${promoter.promoter_id || 'CURRENT'} - ${promoter.name} (You)`\n        : `${promoter.promoter_id || 'N/A'} - ${promoter.name || 'Unknown'}`,\n      type: 'promoter'\n    }));\n\n    // Admin users first, then promoters\n    return [...adminOptions, ...promoterOptions];\n  }, [adminUsers, availableParents]);\n\n  // Real-time form validation\n  const validateField = useCallback((fieldName, value) => {\n    const errors = {};\n\n    switch (fieldName) {\n      case 'name':\n        if (!value || !value.trim()) {\n          errors.name = 'Name is required';\n        } else if (!/^[a-zA-Z\\s]+$/.test(value.trim())) {\n          errors.name = 'Name must contain only letters and spaces';\n        } else if (value.trim().length < 2) {\n          errors.name = 'Name must be at least 2 characters';\n        }\n        break;\n\n      case 'email':\n        if (formData.hasEmail) {\n          if (!value || !value.trim()) {\n            errors.email = 'Email address is required';\n          } else {\n            const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n            if (!emailRegex.test(value.trim())) {\n              errors.email = 'Please enter a valid email address';\n            }\n          }\n        }\n        break;\n\n      case 'password':\n        if (!editingPromoter) { // Only validate password for new promoters\n          if (!value) {\n            errors.password = 'Password is required';\n          } else if (value.length < 8) {\n            errors.password = 'Password must be at least 8 characters';\n          } else if (!/(?=.*[a-zA-Z])(?=.*\\d)/.test(value)) {\n            errors.password = 'Password must contain both letters and numbers';\n          }\n        }\n        break;\n\n      case 'confirmPassword':\n        if (!editingPromoter && value !== formData.password) {\n          errors.confirmPassword = 'Passwords do not match';\n        }\n        break;\n\n      case 'phone':\n        if (!value) {\n          errors.phone = 'Phone number is required';\n        } else if (!/^[6-9]\\d{9}$/.test(value)) {\n          errors.phone = 'Enter a valid 10-digit Indian mobile number (starting with 6-9)';\n        }\n        break;\n\n      case 'parentPromoter':\n        if (!value && parentPromoterOptions.length > 1) {\n          errors.parentPromoter = 'Parent promoter selection is required';\n        }\n        break;\n\n      default:\n        break;\n    }\n\n    return errors;\n  }, [formData.hasEmail, formData.password, editingPromoter, parentPromoterOptions]);\n\n  // Handle input changes with real-time validation\n  const handleInputChange = useCallback((fieldName, value) => {\n    setFormData(prev => ({ ...prev, [fieldName]: value }));\n    \n    // Real-time validation\n    const fieldErrors = validateField(fieldName, value);\n    setFormErrors(prev => ({ ...prev, ...fieldErrors }));\n    \n    // Clear error if field is now valid\n    if (!fieldErrors[fieldName] && formErrors[fieldName]) {\n      setFormErrors(prev => {\n        const newErrors = { ...prev };\n        delete newErrors[fieldName];\n        return newErrors;\n      });\n    }\n  }, [validateField, formErrors]);\n\n  // Comprehensive form validation\n  const validateForm = useCallback(() => {\n    const errors = {};\n\n    // Validate all fields\n    Object.keys(formData).forEach(fieldName => {\n      const fieldErrors = validateField(fieldName, formData[fieldName]);\n      Object.assign(errors, fieldErrors);\n    });\n\n    // Additional validations - promoter ID, role, and status are handled by backend\n\n    setFormErrors(errors);\n    return Object.keys(errors).length === 0;\n  }, [formData, validateField, editingPromoter]);\n\n  // Auto-select parent promoter if there's only one option\n  useEffect(() => {\n    if (parentPromoterOptions.length === 1 && !formData.parentPromoter) {\n      setFormData(prev => ({ \n        ...prev, \n        parentPromoter: parentPromoterOptions[0].id \n      }));\n    }\n  }, [parentPromoterOptions, formData.parentPromoter]);\n\n  // Handle form submission\n  const handleSubmit = useCallback(async (e) => {\n    e.preventDefault();\n    \n    if (!validateForm()) {\n      return;\n    }\n\n    // Prepare submission data for new Promoter ID system\n    const submissionData = {\n      name: formData.name,\n      email: formData.hasEmail && formData.email ? formData.email : null,\n      password: formData.password,\n      phone: formData.phone,\n      address: formData.address || null,\n      parentPromoter: formData.parentPromoter || null,\n      // Note: Promoter ID will be auto-generated by the backend\n      useNewSystem: true // Flag to indicate using new Promoter ID system\n    };\n\n    await onSubmit(submissionData);\n  }, [formData, validateForm, onSubmit]);\n\n  return (\n    <div className=\"bg-gray-800 rounded-lg p-6 w-full max-w-2xl mx-4 max-h-[90vh] overflow-y-auto\">\n      {/* Header */}\n      <div className=\"flex justify-between items-center mb-6\">\n        <div>\n          <h3 className=\"text-xl font-semibold text-white mb-1\">\n            {editingPromoter ? 'Edit Promoter' : 'Create New Promoter'}\n          </h3>\n          <p className=\"text-gray-400 text-sm\">\n            {editingPromoter \n              ? 'Update promoter information and hierarchy'\n              : 'Add a new promoter to the system. Promoter ID (BPVP format) will be auto-generated.'\n            }\n          </p>\n          {!editingPromoter && (\n            <div className=\"mt-2 p-3 bg-orange-900/30 border border-orange-500/30 rounded-lg\">\n              <p className=\"text-orange-300 text-xs\">\n                üéØ <strong>New System:</strong> Promoters will login using their auto-generated Promoter ID (e.g., BPVP01) + password. Email is optional and used for notifications only.\n              </p>\n            </div>\n          )}\n        </div>\n      </div>\n\n      <form onSubmit={handleSubmit} className=\"space-y-5\">\n        {/* Promoter ID will be auto-generated after creation - no field shown */}\n\n        {/* Name */}\n        <div>\n          <label className=\"block text-sm font-medium text-gray-300 mb-2\">\n            Full Name\n            <span className=\"text-orange-400 ml-1\">*</span>\n          </label>\n          <input\n            type=\"text\"\n            value={formData.name}\n            onChange={(e) => handleInputChange('name', e.target.value)}\n            className={`w-full px-4 py-3 bg-gray-700 border rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-orange-500 ${\n              formErrors.name ? 'border-red-500' : 'border-gray-600'\n            }`}\n            placeholder=\"Enter full name (letters and spaces only)\"\n          />\n          {formErrors.name && (\n            <p className=\"text-red-400 text-sm mt-1\">{formErrors.name}</p>\n          )}\n        </div>\n\n        {/* Email Field - Now Optional */}\n        <div className=\"mb-4\">\n          <div className=\"flex items-center mb-2\">\n            <input\n              type=\"checkbox\"\n              id=\"hasEmail\"\n              checked={formData.hasEmail}\n              onChange={(e) => {\n                const hasEmail = e.target.checked;\n                setFormData(prev => ({ \n                  ...prev, \n                  hasEmail,\n                  email: hasEmail ? prev.email : ''\n                }));\n                if (!hasEmail) {\n                  setFormErrors(prev => {\n                    const newErrors = { ...prev };\n                    delete newErrors.email;\n                    return newErrors;\n                  });\n                }\n              }}\n              className=\"mr-2 h-4 w-4 text-orange-600 focus:ring-orange-500 border-gray-600 rounded bg-gray-700\"\n            />\n            <label htmlFor=\"hasEmail\" className=\"text-sm font-medium text-gray-300\">\n              Add Email Address\n              <span className=\"text-gray-500 text-xs ml-2\">(Optional - for notifications only)</span>\n            </label>\n          </div>\n          \n          {formData.hasEmail && (\n            <>\n              <input\n                type=\"email\"\n                value={formData.email}\n                onChange={(e) => handleInputChange('email', e.target.value)}\n                className={`w-full px-4 py-3 bg-gray-700 border rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-orange-500 ${\n                  formErrors.email ? 'border-red-500' : 'border-gray-600'\n                }`}\n                placeholder=\"Enter email address (can be shared with others)\"\n              />\n              {formErrors.email && (\n                <p className=\"text-red-400 text-sm mt-1\">{formErrors.email}</p>\n              )}\n              <p className=\"text-gray-500 text-xs mt-1\">\n                üí° Multiple promoters can share the same email address. Used for notifications only.\n              </p>\n            </>\n          )}\n          \n          {!formData.hasEmail && (\n            <p className=\"text-gray-400 text-xs mt-1\">\n              ‚ÑπÔ∏è Email is optional. Promoter will login using their Promoter ID only.\n            </p>\n          )}\n        </div>\n\n        {/* Password Fields (Only for new promoters) */}\n        {!editingPromoter && (\n          <>\n            {/* Password */}\n            <div>\n              <label className=\"block text-sm font-medium text-gray-300 mb-2\">\n                Password\n                <span className=\"text-orange-400 ml-1\">*</span>\n              </label>\n              <div className=\"relative\">\n                <input\n                  type={showPassword ? \"text\" : \"password\"}\n                  value={formData.password}\n                  onChange={(e) => handleInputChange('password', e.target.value)}\n                  className={`w-full px-4 py-3 pr-12 bg-gray-700 border rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-orange-500 ${\n                    formErrors.password ? 'border-red-500' : 'border-gray-600'\n                  }`}\n                  placeholder=\"Enter secure password (min 8 chars, letters + numbers)\"\n                />\n                <button\n                  type=\"button\"\n                  onClick={() => setShowPassword(!showPassword)}\n                  className=\"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-white\"\n                >\n                  {showPassword ? <EyeOff className=\"w-5 h-5\" /> : <Eye className=\"w-5 h-5\" />}\n                </button>\n              </div>\n              {formErrors.password && (\n                <p className=\"text-red-400 text-sm mt-1\">{formErrors.password}</p>\n              )}\n            </div>\n\n            {/* Confirm Password */}\n            <div>\n              <label className=\"block text-sm font-medium text-gray-300 mb-2\">\n                Confirm Password\n                <span className=\"text-orange-400 ml-1\">*</span>\n              </label>\n              <div className=\"relative\">\n                <input\n                  type={showConfirmPassword ? \"text\" : \"password\"}\n                  value={formData.confirmPassword}\n                  onChange={(e) => handleInputChange('confirmPassword', e.target.value)}\n                  className={`w-full px-4 py-3 pr-12 bg-gray-700 border rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-orange-500 ${\n                    formErrors.confirmPassword ? 'border-red-500' : 'border-gray-600'\n                  }`}\n                  placeholder=\"Confirm your password\"\n                />\n                <button\n                  type=\"button\"\n                  onClick={() => setShowConfirmPassword(!showConfirmPassword)}\n                  className=\"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-white\"\n                >\n                  {showConfirmPassword ? <EyeOff className=\"w-5 h-5\" /> : <Eye className=\"w-5 h-5\" />}\n                </button>\n              </div>\n              {formErrors.confirmPassword && (\n                <p className=\"text-red-400 text-sm mt-1\">{formErrors.confirmPassword}</p>\n              )}\n            </div>\n          </>\n        )}\n\n        {/* Phone */}\n        <div>\n          <label className=\"block text-sm font-medium text-gray-300 mb-2\">\n            Phone Number\n            <span className=\"text-orange-400 ml-1\">*</span>\n          </label>\n          <input\n            type=\"tel\"\n            value={formData.phone}\n            onChange={(e) => handleInputChange('phone', e.target.value.replace(/\\D/g, '').slice(0, 10))}\n            className={`w-full px-4 py-3 bg-gray-700 border rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-orange-500 ${\n              formErrors.phone ? 'border-red-500' : 'border-gray-600'\n            }`}\n            placeholder=\"Enter 10-digit mobile number\"\n            maxLength={10}\n          />\n          {formErrors.phone && (\n            <p className=\"text-red-400 text-sm mt-1\">{formErrors.phone}</p>\n          )}\n        </div>\n\n        {/* Address */}\n        <div>\n          <label className=\"block text-sm font-medium text-gray-300 mb-2\">\n            Address\n            <span className=\"text-gray-500 text-xs ml-2\">(Optional)</span>\n          </label>\n          <textarea\n            value={formData.address}\n            onChange={(e) => handleInputChange('address', e.target.value)}\n            className=\"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-orange-500\"\n            placeholder=\"Enter full postal address (optional)\"\n            rows={3}\n          />\n        </div>\n\n        {/* Parent Promoter */}\n        <div>\n          <label className=\"block text-sm font-medium text-gray-300 mb-2\">\n            Parent Promoter\n            <span className=\"text-orange-400 ml-1\">*</span>\n          </label>\n          <select\n            value={formData.parentPromoter}\n            onChange={(e) => handleInputChange('parentPromoter', e.target.value)}\n            disabled={parentPromoterOptions.length === 1}\n            className={`w-full px-4 py-3 bg-gray-700 border rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-orange-500 ${\n              formErrors.parentPromoter ? 'border-red-500' : 'border-gray-600'\n            } ${parentPromoterOptions.length === 1 ? 'opacity-75 cursor-not-allowed' : ''}`}\n          >\n            {parentPromoterOptions.length === 0 && <option value=\"\">Select parent promoter</option>}\n            {parentPromoterOptions.map((option) => (\n              <option key={option.id} value={option.id}>\n                {option.label}\n              </option>\n            ))}\n          </select>\n          {parentPromoterOptions.length === 1 && (\n            <p className=\"text-gray-400 text-xs mt-1\">\n              üí° Automatically set as your downline promoter\n            </p>\n          )}\n          {formErrors.parentPromoter && (\n            <p className=\"text-red-400 text-sm mt-1\">{formErrors.parentPromoter}</p>\n          )}\n        </div>\n\n        {/* Role and Status are automatically set by the backend */}\n\n        {/* Form Actions */}\n        <div className=\"flex justify-end space-x-4 pt-6 border-t border-gray-700\">\n          <button\n            type=\"button\"\n            onClick={onCancel}\n            className=\"px-6 py-3 text-gray-300 hover:text-white transition-colors\"\n            disabled={loading}\n          >\n            Cancel\n          </button>\n          <button\n            type=\"submit\"\n            disabled={loading || Object.keys(formErrors).length > 0}\n            className=\"px-6 py-3 bg-gradient-to-r from-orange-500 to-orange-600 text-white rounded-lg hover:from-orange-600 hover:to-orange-700 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2\"\n          >\n            {loading ? (\n              <>\n                <Loader className=\"w-4 h-4 animate-spin\" />\n                <span>{editingPromoter ? 'Updating...' : 'Creating...'}</span>\n              </>\n            ) : (\n              <>\n                <CheckCircle className=\"w-4 h-4\" />\n                <span>{editingPromoter ? 'Update Promoter' : 'Create Promoter'}</span>\n              </>\n            )}\n          </button>\n        </div>\n      </form>\n    </div>\n  );\n});\n\nUnifiedPromoterForm.displayName = 'UnifiedPromoterForm';\n\nexport default UnifiedPromoterForm;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Phone\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMjIgMTYuOTJ2M2EyIDIgMCAwIDEtMi4xOCAyIDE5Ljc5IDE5Ljc5IDAgMCAxLTguNjMtMy4wNyAxOS41IDE5LjUgMCAwIDEtNi02IDE5Ljc5IDE5Ljc5IDAgMCAxLTMuMDctOC42N0EyIDIgMCAwIDEgNC4xMSAyaDNhMiAyIDAgMCAxIDIgMS43MiAxMi44NCAxMi44NCAwIDAgMCAuNyAyLjgxIDIgMiAwIDAgMS0uNDUgMi4xMUw4LjA5IDkuOTFhMTYgMTYgMCAwIDAgNiA2bDEuMjctMS4yN2EyIDIgMCAwIDEgMi4xMS0uNDUgMTIuODQgMTIuODQgMCAwIDAgMi44MS43QTIgMiAwIDAgMSAyMiAxNi45MnoiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/phone\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Phone = createLucideIcon('Phone', [\n  [\n    'path',\n    {\n      d: 'M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z',\n      key: 'foiqr5',\n    },\n  ],\n]);\n\nexport default Phone;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Trash2\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMyA2aDE4IiAvPgogIDxwYXRoIGQ9Ik0xOSA2djE0YzAgMS0xIDItMiAySDdjLTEgMC0yLTEtMi0yVjYiIC8+CiAgPHBhdGggZD0iTTggNlY0YzAtMSAxLTIgMi0yaDRjMSAwIDIgMSAyIDJ2MiIgLz4KICA8bGluZSB4MT0iMTAiIHgyPSIxMCIgeTE9IjExIiB5Mj0iMTciIC8+CiAgPGxpbmUgeDE9IjE0IiB4Mj0iMTQiIHkxPSIxMSIgeTI9IjE3IiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/trash-2\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Trash2 = createLucideIcon('Trash2', [\n  ['path', { d: 'M3 6h18', key: 'd0wm0j' }],\n  ['path', { d: 'M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6', key: '4alrt4' }],\n  ['path', { d: 'M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2', key: 'v07s0e' }],\n  ['line', { x1: '10', x2: '10', y1: '11', y2: '17', key: '1uufr5' }],\n  ['line', { x1: '14', x2: '14', y1: '11', y2: '17', key: 'xtxkd' }],\n]);\n\nexport default Trash2;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name PenSquare\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTEgNEg0YTIgMiAwIDAgMC0yIDJ2MTRhMiAyIDAgMCAwIDIgMmgxNGEyIDIgMCAwIDAgMi0ydi03IiAvPgogIDxwYXRoIGQ9Ik0xOC41IDIuNWEyLjEyIDIuMTIgMCAwIDEgMyAzTDEyIDE1bC00IDEgMS00WiIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/pen-square\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst PenSquare = createLucideIcon('PenSquare', [\n  [\n    'path',\n    {\n      d: 'M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7',\n      key: '1qinfi',\n    },\n  ],\n  [\n    'path',\n    { d: 'M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z', key: 'w2jsv5' },\n  ],\n]);\n\nexport default PenSquare;\n","import React, { useState, useEffect, useCallback, useMemo, memo } from 'react';\nimport { useAuth } from \"../../common/context/AuthContext\";\nimport AdminNavbar from '../components/AdminNavbar';\nimport UnifiedPromoterForm from '../../components/UnifiedPromoterForm';\nimport { \n  UnifiedBackground, \n  UnifiedCard, \n  UnifiedButton,\n  useScrollAnimation,\n  SharedStyles\n} from \"../../common/components/SharedTheme\";\nimport { supabase } from \"../../common/services/supabaseClient\"\nimport { Search, Plus, Edit, Trash2, Users, X, Loader, Shield, Mail, Phone } from 'lucide-react';\nimport { \n  SkeletonTable, \n  SkeletonPageHeader, \n  SkeletonSearchFilters \n} from '../components/skeletons';\nimport { \n  useOptimizedAdminState, \n  useBackgroundDataFetcher, \n  useOptimizedSearch,\n  useAdminPerformanceMonitor,\n  useOptimizedModal\n} from '../services/adminOptimizations';\nimport { useToast } from '../services/toastService';\nimport { MessageFormatter, ACTIONS, ENTITY_NAMES } from '../utils/messageFormatter';\n\nfunction AdminPromoters() {\n  const { user } = useAuth();\n  const { showSuccess, showError, showWarning, handleApiError } = useToast();\n  useScrollAnimation();\n\n  // State management\n  const [promoters, setPromoters] = useState([]);\n  const [adminUsers, setAdminUsers] = useState([]);\n  const [filteredPromoters, setFilteredPromoters] = useState([]);\n  const [searchTerm, setSearchTerm] = useState('');\n  const [statusFilter, setStatusFilter] = useState('');\n  const [showModal, setShowModal] = useState(false);\n  const [showDeleteModal, setShowDeleteModal] = useState(false);\n  const [editingPromoter, setEditingPromoter] = useState(null);\n  const [deletingPromoter, setDeletingPromoter] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [submitting, setSubmitting] = useState(false);\n  const [showPinModal, setShowPinModal] = useState(false);\n  const [selectedPromoterForPins, setSelectedPromoterForPins] = useState(null);\n  const [pinAllocation, setPinAllocation] = useState({ amount: '', notes: '' });\n  // Removed old form state - now handled by UnifiedPromoterForm\n\n  // Load promoters and admin users on component mount\n  useEffect(() => {\n    loadPromoters();\n    loadAdminUsers();\n  }, []);\n\n  // Filter and search logic\n  useEffect(() => {\n    let filtered = promoters || [];\n\n    // Search filter\n    if (searchTerm) {\n      filtered = filtered.filter(promoter => {\n        const name = (promoter?.name || '').toLowerCase();\n        const email = (promoter?.email || '').toLowerCase();\n        const promoterId = (promoter?.promoter_id || '').toLowerCase();\n        const phone = (promoter?.phone || '').toLowerCase();\n        const searchLower = (searchTerm || '').toLowerCase();\n        return name.includes(searchLower) || \n               email.includes(searchLower) || \n               promoterId.includes(searchLower) ||\n               phone.includes(searchLower);\n      });\n    }\n\n    // Status filter\n    if (statusFilter) {\n      filtered = filtered.filter(promoter => {\n        const promoterStatus = (promoter?.status || 'active').toLowerCase();\n        return promoterStatus === statusFilter.toLowerCase();\n      });\n    }\n\n    setFilteredPromoters(filtered);\n  }, [promoters, searchTerm, statusFilter]);\n\n  // Load promoters from Supabase\n  const loadPromoters = async () => {\n    try {\n      setLoading(true);\n      const { data, error } = await supabase\n        .from('profiles')\n        .select('*')\n        .eq('role', 'promoter')\n        .order('created_at', { ascending: false });\n      if (error) {\n        throw error;\n      }\n      setPromoters(data || []);\n    } catch (error) {\n      console.error('Error loading promoters:', error);\n      setPromoters([]);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Load admin users from Supabase\n  const loadAdminUsers = async () => {\n    try {\n      const { data, error } = await supabase.from('profiles')\n        .select('id, name, email, role')\n        .eq('role', 'admin')\n        .order('created_at', { ascending: false });\n      \n      if (error) {\n        console.error('‚ùå Admin users query error:', error);\n        throw error;\n      }\n      \n      setAdminUsers(data || []);\n    } catch (error) {\n      console.error('‚ùå Error loading admin users:', error);\n      setAdminUsers([]);\n    }\n  };\n\n  // Form validation is now handled by UnifiedPromoterForm\n\n  // Modal handlers\n  const openCreateModal = () => {\n    setEditingPromoter(null);\n    setShowModal(true);\n  };\n\n  const openEditModal = (promoter) => {\n    setEditingPromoter(promoter);\n    setShowModal(true);\n  };\n\n  const closeModal = () => {\n    setShowModal(false);\n    setEditingPromoter(null);\n  };\n\n  const openDeleteModal = (promoter) => {\n    setDeletingPromoter(promoter);\n    setShowDeleteModal(true);\n  };\n\n  const closeDeleteModal = () => {\n    setShowDeleteModal(false);\n    setDeletingPromoter(null);\n  };\n\n  // Toggle promoter status\n  const togglePromoterStatus = async (promoter) => {\n    try {\n      const currentStatus = promoter.status?.toLowerCase();\n      const newStatus = currentStatus === 'active' ? 'Inactive' : 'Active';\n      \n      // Update status in profiles table (where the main status is stored)\n      const { error } = await supabase\n        .from('profiles')\n        .update({ status: newStatus })\n        .eq('id', promoter.id);\n      \n      if (error) {\n        console.error('‚ùå Status update error:', error);\n        throw error;\n      }\n      \n      \n      // Reload promoters to reflect changes\n      await loadPromoters();\n      showSuccess(MessageFormatter.status(ENTITY_NAMES.PROMOTER, currentStatus, newStatus, promoter.name));\n    } catch (error) {\n      console.error('Error updating promoter status:', error);\n      handleApiError(error, 'Failed to update promoter status');\n    }\n  };\n\n  // Handle form submission from UnifiedPromoterForm\n  const handleFormSubmit = async (formData) => {\n    setSubmitting(true);\n    try {\n      if (editingPromoter) {\n        // Update existing promoter\n        const { data, error } = await supabase.rpc('update_promoter_profile', {\n          p_promoter_id: editingPromoter.promoter_id,\n          p_name: formData.name,\n          p_email: formData.email,\n          p_phone: formData.phone,\n          p_address: formData.address,\n          p_status: formData.status,\n          p_parent_promoter_id: formData.parentPromoter || null\n        });\n        \n        if (error) throw error;\n        \n        if (!data.success) {\n          throw new Error(data.error || 'Failed to update promoter');\n        }\n        \n        showSuccess(MessageFormatter.success(ACTIONS.UPDATE, ENTITY_NAMES.PROMOTER));\n      } else {\n        // Create new promoter using the new Promoter ID system\n        console.log('üöÄ Creating promoter with new Promoter ID system...');\n        \n        // Validate required fields\n        if (!formData.name || formData.name.trim() === '') {\n          throw new Error('Name is required for promoter creation.');\n        }\n        \n        if (!formData.password || formData.password.trim() === '') {\n          throw new Error('Password is required for promoter creation.');\n        }\n        \n        if (!formData.phone || formData.phone.trim() === '') {\n          throw new Error('Phone number is required for promoter creation.');\n        }\n        \n        // Step 1: Generate unique auth email\n        // Use a simple numeric format that Supabase accepts\n        const timestamp = Date.now();\n        const randomNum = Math.floor(Math.random() * 1000000);\n        const authEmail = `promo${timestamp}${randomNum}@brightplanet.com`;\n        \n        // Step 2: Create auth user using Supabase Auth\n        console.log('üìß Creating Supabase auth user...');\n        const { data: authData, error: authError } = await supabase.auth.signUp({\n          email: authEmail,\n          password: formData.password,\n          options: {\n            emailRedirectTo: undefined, // Don't send confirmation email\n            data: {\n              role: 'promoter',\n              name: formData.name,\n              phone: formData.phone\n            }\n          }\n        });\n        \n        if (authError) {\n          console.error('‚ùå Auth creation error:', authError);\n          throw new Error('Failed to create auth user: ' + authError.message);\n        }\n        \n        if (!authData.user) {\n          throw new Error('Failed to create auth user: No user data returned');\n        }\n        \n        console.log('‚úÖ Auth user created:', authData.user.id);\n        \n        // Step 2b: Manually confirm the email in database (bypass email confirmation)\n        const { error: confirmError } = await supabase.rpc('confirm_promoter_email', {\n          p_user_id: authData.user.id\n        });\n        \n        if (confirmError) {\n          console.warn('‚ö†Ô∏è Could not auto-confirm email:', confirmError.message);\n          // Continue anyway - email confirmation can be done manually in Supabase\n        } else {\n          console.log('‚úÖ Email confirmed automatically');\n        }\n        \n        // Step 3: Create promoter profile in database\n        const { data, error } = await supabase.rpc('create_promoter_with_auth_id', {\n          p_name: formData.name.trim(),\n          p_user_id: authData.user.id,\n          p_auth_email: authEmail,\n          p_password: formData.password.trim(),\n          p_phone: formData.phone.trim(),\n          p_email: formData.email && formData.email.trim() ? formData.email.trim() : null,\n          p_address: formData.address && formData.address.trim() ? formData.address.trim() : null,\n          p_parent_promoter_id: formData.parentPromoter || null,\n          p_role_level: 'Affiliate',\n          p_status: 'Active'\n        });\n        \n        if (error) {\n          console.error('‚ùå Promoter profile creation error:', error);\n          throw error;\n        }\n        \n        if (!data || !data.success) {\n          throw new Error(data?.error || 'Failed to create promoter profile');\n        }\n        \n        console.log('‚úÖ Promoter created successfully:', data);\n        \n        // Show success message with Promoter ID\n        showSuccess(`üéâ Promoter created successfully!\\nüé© Promoter ID: ${data.promoter_id}\\nüìù Name: ${data.name}\\nüîë Login: Use Promoter ID + Password`);\n      }\n\n      // Reload promoters\n      await loadPromoters();\n      closeModal();\n    } catch (error) {\n      console.error('Error saving promoter:', error);\n      handleApiError(error, 'Failed to save promoter');\n    } finally {\n      setSubmitting(false);\n    }\n  };\n\n  const handleDelete = async () => {\n    if (deletingPromoter) {\n      try {\n        const { error } = await supabase\n          .from('profiles')\n          .delete()\n          .eq('id', deletingPromoter.id);\n        if (error) throw error;\n        await loadPromoters();\n        closeDeleteModal();\n      } catch (error) {\n        console.error('Error deleting promoter:', error);\n        handleApiError(error, 'Failed to delete promoter');\n      }\n    }\n  };\n\n  // Pin allocation functions\n  const openPinModal = (promoter) => {\n    setSelectedPromoterForPins(promoter);\n    setPinAllocation({ amount: '', notes: '' });\n    setShowPinModal(true);\n  };\n\n  const closePinModal = () => {\n    setShowPinModal(false);\n    setSelectedPromoterForPins(null);\n    setPinAllocation({ amount: '', notes: '' });\n  };\n\n  const handlePinAllocation = async () => {\n    if (!selectedPromoterForPins || !pinAllocation.amount) {\n      showWarning('Please enter a valid pin amount');\n      return;\n    }\n\n    const amount = parseInt(pinAllocation.amount);\n    if (amount <= 0) {\n      showWarning('Pin amount must be greater than 0');\n      return;\n    }\n\n    try {\n      setSubmitting(true);\n      \n      // Call the database function to add pins\n      const { data: result, error } = await supabase.rpc('add_promoter_pins', {\n        p_promoter_id: selectedPromoterForPins.id,\n        p_pins_to_add: amount\n      });\n\n      if (error) {\n        throw new Error(error.message);\n      }\n\n      // Log the pin allocation\n      await supabase.from('pin_usage_log').insert({\n        promoter_id: selectedPromoterForPins.id,\n        pins_used: -amount, // Negative for allocation (positive for usage)\n        action_type: 'admin_allocation',\n        notes: pinAllocation.notes || `Admin allocated ${amount} pins`\n      });\n\n      showSuccess(\n        MessageFormatter.success(ACTIONS.ALLOCATE, ENTITY_NAMES.PIN),\n        `${amount} pins allocated to ${selectedPromoterForPins.name}`\n      );\n      \n      // Reload promoters to show updated pin counts\n      await loadPromoters();\n      closePinModal();\n      \n    } catch (error) {\n      console.error('Error allocating pins:', error);\n      handleApiError(error, 'Failed to allocate pins');\n    } finally {\n      setSubmitting(false);\n    }\n  };\n\n  // Get parent promoter info for display (ID + Name)\n  const getParentPromoterInfo = (promoter) => {\n    const parentId = promoter?.parent_promoter_id;\n    if (!parentId) return null;\n    \n    // Check if parent is an admin user first\n    const parentAdmin = (adminUsers || []).find(admin => admin.id === parentId);\n    if (parentAdmin) {\n      return {\n        name: parentAdmin.name || 'Admin',\n        id: 'Admin',\n        isAdmin: true\n      };\n    }\n    \n    // Check if parent is a promoter\n    const parentPromoter = (promoters || []).find(p => \n      p?.id === parentId\n    );\n    \n    if (parentPromoter) {\n      return {\n        name: parentPromoter.name || 'Unknown',\n        id: parentPromoter.promoter_id || 'N/A',\n        isAdmin: false\n      };\n    }\n    \n    return {\n      name: 'Unknown Parent',\n      id: 'N/A',\n      isAdmin: false\n    };\n  };\n\n  // Get available parent promoters (excluding admin users since they're passed separately)\n  const getAvailableParents = () => {\n    const allPromoters = promoters || [];\n    \n    // Return only promoters (admin users are handled separately in UnifiedPromoterForm)\n    const allAvailableParents = [...allPromoters];\n    \n    if (!editingPromoter) return allAvailableParents;\n    \n    const getDescendants = (promoterId, allPromoters) => {\n      const descendants = [];\n      const children = allPromoters.filter(p => \n        p?.parent_promoter_id === promoterId\n      );\n      children.forEach(child => {\n        const childId = child?.id;\n        if (childId) {\n          descendants.push(childId);\n          descendants.push(...getDescendants(childId, allPromoters));\n        }\n      });\n      return descendants;\n    };\n\n    const currentId = editingPromoter?.id;\n    if (!currentId) return allAvailableParents;\n    \n    const excludeIds = [currentId, ...getDescendants(currentId, allPromoters)];\n    return allAvailableParents.filter(p => {\n      const parentId = p?.id;\n      // Admin users are never excluded (they can always be parent promoters)\n      return parentId && (p?.isAdmin || !excludeIds.includes(parentId));\n    });\n  };\n\n\n  return (\n    <>\n      <SharedStyles />\n      <AdminNavbar />\n      <UnifiedBackground>\n        <div className=\"min-h-screen p-8\">\n          <div className=\"max-w-7xl mx-auto\">\n            {/* Header */}\n            <div className=\"flex justify-between items-center mb-8\" data-animate>\n              <div>\n                <h1 className=\"text-4xl font-bold text-white mb-2\">\n                  Promoter Management\n                </h1>\n                <p className=\"text-gray-400\">\n                  Manage promoters, hierarchies, and performance\n                </p>\n              </div>\n              <UnifiedButton onClick={openCreateModal} className=\"flex items-center space-x-2\">\n                <Plus className=\"w-5 h-5\" />\n                <span>Create Promoter</span>\n              </UnifiedButton>\n            </div>\n\n            {/* Search and Filters */}\n            <UnifiedCard className=\"mb-6\" data-animate>\n              <div className=\"flex flex-col sm:flex-row gap-4 items-start sm:items-center justify-between\">\n                <div className=\"flex-1\">\n                  <input\n                    type=\"text\"\n                    placeholder=\"Search by name, email, ID, or phone...\"\n                    value={searchTerm}\n                    onChange={(e) => setSearchTerm(e.target.value)}\n                    className=\"w-full px-4 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-orange-500\"\n                  />\n                </div>\n                <div className=\"flex gap-4\">\n                  <select\n                    value={statusFilter}\n                    onChange={(e) => setStatusFilter(e.target.value)}\n                    className=\"px-4 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-orange-500\"\n                  >\n                    <option value=\"\">All Status</option>\n                    <option value=\"active\">Active</option>\n                    <option value=\"inactive\">Inactive</option>\n                  </select>\n                </div>\n              </div>\n            </UnifiedCard>\n\n            {/* Promoters Table */}\n            <UnifiedCard className=\"overflow-hidden\" data-animate>\n              {loading ? (\n                <SkeletonTable rows={8} columns={6} />\n              ) : (\n                <div className=\"overflow-x-auto\">\n                  <table className=\"w-full\">\n                    <thead className=\"bg-gray-700\">\n                      <tr>\n                        <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider\">Promoter ID</th>\n                        <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider\">Name</th>\n                        <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider\">Contact Details</th>\n                        <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider\">Parent Promoter</th>\n                        <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider\">Status</th>\n                        <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider\">Pins</th>\n                        <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider\">Actions</th>\n                      </tr>\n                    </thead>\n                    <tbody className=\"bg-gray-800 divide-y divide-gray-700\">\n                      {filteredPromoters.length === 0 ? (\n                        <tr>\n                          <td colSpan=\"7\" className=\"px-6 py-12 text-center text-gray-400\">\n                            No promoters found\n                          </td>\n                        </tr>\n                      ) : (\n                        filteredPromoters.map((promoter) => {\n                          const promoterId = promoter?.id;\n                          const promoterName = promoter?.name || 'Unknown';\n                          const promoterEmail = promoter?.email || 'N/A';\n                          const promoterPhone = promoter?.phone || 'N/A';\n                          const systemPromoterID = promoter?.promoter_id || 'N/A';\n                          const status = (promoter?.status || 'Active').toLowerCase();\n                          \n                          return (\n                            <tr key={promoterId} className=\"hover:bg-gray-700\">\n                              <td className=\"px-6 py-4 whitespace-nowrap\">\n                                <span className=\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800\">\n                                  {systemPromoterID}\n                                </span>\n                              </td>\n                              <td className=\"px-6 py-4 whitespace-nowrap\">\n                                <div className=\"flex items-center\">\n                                  <div className=\"w-8 h-8 bg-gradient-to-r from-orange-400 to-yellow-500 rounded-full flex items-center justify-center mr-3\">\n                                    <Users className=\"w-4 h-4 text-white\" />\n                                  </div>\n                                  <div className=\"text-sm font-medium text-white\">{promoterName}</div>\n                                </div>\n                              </td>\n                              <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-300\">\n                                <div className=\"space-y-1\">\n                                  <div className=\"flex items-center\">\n                                    <Mail className=\"w-3 h-3 mr-2 text-gray-400\" />\n                                    {promoterEmail === 'N/A' ? 'No email' : promoterEmail}\n                                  </div>\n                                  <div className=\"flex items-center\">\n                                    <Phone className=\"w-3 h-3 mr-2 text-gray-400\" />\n                                    {promoterPhone || 'No phone'}\n                                  </div>\n                                </div>\n                              </td>\n                              <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-300\">\n                                {(() => {\n                                  const parentInfo = getParentPromoterInfo(promoter);\n                                  if (!parentInfo) return '-';\n                                  \n                                  return (\n                                    <div className=\"flex items-center\">\n                                      {parentInfo.isAdmin ? (\n                                        <>\n                                          <span className=\"text-yellow-400 mr-2\">üëë</span>\n                                          <span className=\"text-white font-medium\">{parentInfo.name}</span>\n                                        </>\n                                      ) : (\n                                        <>\n                                          <Users className=\"w-4 h-4 mr-2 text-blue-400\" />\n                                          <div className=\"flex flex-col\">\n                                            <span className=\"text-white font-medium\">{parentInfo.name}</span>\n                                            <span className=\"text-xs text-gray-400\">{parentInfo.id}</span>\n                                          </div>\n                                        </>\n                                      )}\n                                    </div>\n                                  );\n                                })()}\n                              </td>\n                              <td className=\"px-6 py-4 whitespace-nowrap\">\n                                <button\n                                  onClick={() => togglePromoterStatus(promoter)}\n                                  className={`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium transition-colors hover:opacity-80 cursor-pointer ${\n                                    status === 'active' \n                                      ? 'bg-green-100 text-green-800 hover:bg-green-200' \n                                      : 'bg-red-100 text-red-800 hover:bg-red-200'\n                                  }`}\n                                  title=\"Click to toggle status\"\n                                >\n                                  {status === 'active' ? '‚úÖ Active' : '‚ùå Inactive'}\n                                </button>\n                              </td>\n                              <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-300\">\n                                <span className=\"text-sm font-medium text-white\">üìå {promoter?.pins || 0}</span>\n                              </td>\n                              <td className=\"px-6 py-4 whitespace-nowrap text-sm font-medium\">\n                                <div className=\"flex space-x-2\">\n                                  <button\n                                    onClick={() => openEditModal(promoter)}\n                                    className=\"text-orange-400 hover:text-orange-300 transition-colors\"\n                                  >\n                                    <Edit className=\"w-4 h-4\" />\n                                  </button>\n                                  <button\n                                    onClick={() => openDeleteModal(promoter)}\n                                    className=\"text-red-400 hover:text-red-300 transition-colors\"\n                                  >\n                                    <Trash2 className=\"w-4 h-4\" />\n                                  </button>\n                                </div>\n                              </td>\n                            </tr>\n                          );\n                        })\n                      )}\n                    </tbody>\n                  </table>\n                </div>\n              )}\n            </UnifiedCard>\n          </div>\n        </div>\n\n        {/* Create/Edit Modal */}\n        {showModal && (\n          <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\">\n            <UnifiedPromoterForm\n              onSubmit={handleFormSubmit}\n              onCancel={closeModal}\n              loading={submitting}\n              editingPromoter={editingPromoter}\n              availableParents={getAvailableParents()}\n              adminUsers={adminUsers}\n            />\n          </div>\n        )}\n\n        {/* Delete Confirmation Modal */}\n        {showDeleteModal && deletingPromoter && (\n          <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\">\n            <div className=\"bg-gray-800 rounded-lg p-6 w-full max-w-md mx-4\">\n              <div className=\"flex justify-between items-center mb-4\">\n                <h3 className=\"text-lg font-semibold text-white\">Confirm Delete</h3>\n                <button\n                  onClick={closeDeleteModal}\n                  className=\"text-gray-400 hover:text-white transition-colors\"\n                >\n                  <X className=\"w-5 h-5\" />\n                </button>\n              </div>\n\n              <div className=\"mb-6\">\n                <p className=\"text-gray-300\">\n                  Are you sure you want to delete promoter <strong>{deletingPromoter.name}</strong>?\n                </p>\n                <p className=\"text-red-400 text-sm mt-2\">\n                  This action cannot be undone.\n                </p>\n              </div>\n\n              <div className=\"flex justify-end space-x-3\">\n                <button\n                  onClick={closeDeleteModal}\n                  className=\"px-4 py-2 text-gray-300 hover:text-white transition-colors\"\n                >\n                  Cancel\n                </button>\n                <button\n                  onClick={handleDelete}\n                  className=\"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors\"\n                >\n                  Delete\n                </button>\n              </div>\n            </div>\n          </div>\n        )}\n\n        {/* Pin Allocation Modal */}\n        {showPinModal && selectedPromoterForPins && (\n          <div className=\"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50\">\n            <div className=\"bg-gray-800 rounded-xl p-6 w-full max-w-md border border-gray-700\">\n              <div className=\"flex items-center justify-between mb-6\">\n                <h3 className=\"text-xl font-semibold text-white\">Allocate Pins</h3>\n                <button\n                  onClick={closePinModal}\n                  className=\"text-gray-400 hover:text-white transition-colors\"\n                >\n                  <X className=\"w-5 h-5\" />\n                </button>\n              </div>\n\n              <div className=\"space-y-4\">\n                <div>\n                  <p className=\"text-gray-300 mb-2\">\n                    Promoter: <span className=\"font-semibold text-white\">{selectedPromoterForPins.name}</span>\n                  </p>\n                  <p className=\"text-gray-300 mb-4\">\n                    Current Pins: <span className={`font-bold ${(selectedPromoterForPins?.pins || 0) > 0 ? 'text-green-400' : 'text-red-400'}`}>\n                      {selectedPromoterForPins?.pins || 0}\n                    </span>\n                  </p>\n                </div>\n\n                <div>\n                  <label className=\"block text-gray-300 text-sm mb-2\">\n                    Number of Pins to Allocate <span className=\"text-red-400\">*</span>\n                  </label>\n                  <input\n                    type=\"number\"\n                    min=\"1\"\n                    max=\"1000\"\n                    value={pinAllocation.amount}\n                    onChange={(e) => setPinAllocation(prev => ({ ...prev, amount: e.target.value }))}\n                    placeholder=\"Enter number of pins\"\n                    className=\"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:border-orange-500 focus:ring-2 focus:ring-orange-500/20\"\n                  />\n                </div>\n\n                <div>\n                  <label className=\"block text-gray-300 text-sm mb-2\">\n                    Notes (Optional)\n                  </label>\n                  <textarea\n                    value={pinAllocation.notes}\n                    onChange={(e) => setPinAllocation(prev => ({ ...prev, notes: e.target.value }))}\n                    placeholder=\"Add notes about this allocation...\"\n                    rows=\"3\"\n                    className=\"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:border-orange-500 focus:ring-2 focus:ring-orange-500/20\"\n                  />\n                </div>\n\n                <div className=\"bg-blue-500/10 border border-blue-500/30 rounded-lg p-4\">\n                  <div className=\"flex items-start space-x-3\">\n                    <Shield className=\"w-5 h-5 text-blue-400 mt-0.5\" />\n                    <div>\n                      <p className=\"text-blue-300 text-sm font-medium\">Pin Allocation Info</p>\n                      <p className=\"text-gray-300 text-sm mt-1\">\n                        Each customer creation requires 1 pin. Allocate pins to enable promoters to create customers.\n                      </p>\n                    </div>\n                  </div>\n                </div>\n              </div>\n\n              <div className=\"flex justify-end space-x-3 mt-6\">\n                <button\n                  onClick={closePinModal}\n                  className=\"px-4 py-2 text-gray-300 hover:text-white transition-colors\"\n                  disabled={submitting}\n                >\n                  Cancel\n                </button>\n                <button\n                  onClick={handlePinAllocation}\n                  disabled={submitting || !pinAllocation.amount}\n                  className=\"px-4 py-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2\"\n                >\n                  {submitting ? (\n                    <>\n                      <Loader className=\"w-4 h-4 animate-spin\" />\n                      <span>Allocating...</span>\n                    </>\n                  ) : (\n                    <>\n                      <Shield className=\"w-4 h-4\" />\n                      <span>Allocate Pins</span>\n                    </>\n                  )}\n                </button>\n              </div>\n            </div>\n          </div>\n        )}\n      </UnifiedBackground>\n    </>\n  );\n}\n\nexport default AdminPromoters;\n","// Advanced performance optimizations specifically for Admin Panel\nimport React, { useMemo, useCallback, useRef, useEffect } from 'react';\n// Simple utility functions to replace deleted performanceUtils\nconst debounce = (func, wait) => {\n  let timeout;\n  return function executedFunction(...args) {\n    const later = () => {\n      clearTimeout(timeout);\n      func(...args);\n    };\n    clearTimeout(timeout);\n    timeout = setTimeout(later, wait);\n  };\n};\n\nconst throttle = (func, limit) => {\n  let inThrottle;\n  return function() {\n    const args = arguments;\n    const context = this;\n    if (!inThrottle) {\n      func.apply(context, args);\n      inThrottle = true;\n      setTimeout(() => inThrottle = false, limit);\n    }\n  };\n};\n\nconst apiCache = new Map();\n\n// Optimized data sync manager for background updates\nexport class AdminDataSyncManager {\n  constructor() {\n    this.subscriptions = new Map();\n    this.syncIntervals = new Map();\n    this.isVisible = true;\n    this.setupVisibilityListener();\n  }\n\n  setupVisibilityListener() {\n    document.addEventListener('visibilitychange', () => {\n      this.isVisible = !document.hidden;\n      if (this.isVisible) {\n        // Resume syncing when tab becomes visible\n        this.resumeAllSyncs();\n      } else {\n        // Pause syncing when tab is hidden\n        this.pauseAllSyncs();\n      }\n    });\n  }\n\n  subscribe(key, syncFunction, interval = 30000) {\n    this.subscriptions.set(key, syncFunction);\n    \n    if (this.isVisible) {\n      const intervalId = setInterval(async () => {\n        if (this.isVisible) {\n          try {\n            await syncFunction();\n          } catch (error) {\n            console.error(`Background sync failed for ${key}:`, error);\n          }\n        }\n      }, interval);\n      \n      this.syncIntervals.set(key, intervalId);\n    }\n  }\n\n  unsubscribe(key) {\n    const intervalId = this.syncIntervals.get(key);\n    if (intervalId) {\n      clearInterval(intervalId);\n      this.syncIntervals.delete(key);\n    }\n    this.subscriptions.delete(key);\n  }\n\n  pauseAllSyncs() {\n    this.syncIntervals.forEach((intervalId) => {\n      clearInterval(intervalId);\n    });\n    this.syncIntervals.clear();\n  }\n\n  resumeAllSyncs() {\n    this.subscriptions.forEach((syncFunction, key) => {\n      const intervalId = setInterval(async () => {\n        if (this.isVisible) {\n          try {\n            await syncFunction();\n          } catch (error) {\n            console.error(`Background sync failed for ${key}:`, error);\n          }\n        }\n      }, 30000);\n      \n      this.syncIntervals.set(key, intervalId);\n    });\n  }\n\n  destroy() {\n    this.pauseAllSyncs();\n    this.subscriptions.clear();\n  }\n}\n\n// Global sync manager instance\nexport const adminSyncManager = new AdminDataSyncManager();\n\n// Optimized state management hook with selective updates\nexport const useOptimizedAdminState = (initialState, compareFn = null) => {\n  const [state, setState] = React.useState(initialState);\n  const previousStateRef = useRef(initialState);\n\n  const optimizedSetState = useCallback((newState) => {\n    const updatedState = typeof newState === 'function' ? newState(previousStateRef.current) : newState;\n    \n    // Use custom compare function or deep comparison\n    const hasChanged = compareFn \n      ? !compareFn(previousStateRef.current, updatedState)\n      : JSON.stringify(previousStateRef.current) !== JSON.stringify(updatedState);\n    \n    if (hasChanged) {\n      previousStateRef.current = updatedState;\n      setState(updatedState);\n    }\n  }, [compareFn]);\n\n  return [state, optimizedSetState];\n};\n\n// Memoized data transformation hook\nexport const useMemoizedTransform = (data, transformFn, dependencies = []) => {\n  return useMemo(() => {\n    if (!data) return null;\n    return transformFn(data);\n  }, [data, ...dependencies]);\n};\n\n// Background data fetcher with silent updates\nexport const useBackgroundDataFetcher = (fetchFn, key, interval = 30000) => {\n  const [data, setData] = useOptimizedAdminState(null);\n  const [loading, setLoading] = React.useState(true);\n  const [error, setError] = React.useState(null);\n  const isInitialLoad = useRef(true);\n\n  const silentFetch = useCallback(async () => {\n    try {\n      const result = await fetchFn();\n      setData(result);\n      setError(null);\n      \n      if (isInitialLoad.current) {\n        setLoading(false);\n        isInitialLoad.current = false;\n      }\n    } catch (err) {\n      setError(err);\n      if (isInitialLoad.current) {\n        setLoading(false);\n        isInitialLoad.current = false;\n      }\n    }\n  }, [fetchFn]);\n\n  useEffect(() => {\n    // Initial load\n    silentFetch();\n    \n    // Subscribe to background sync\n    adminSyncManager.subscribe(key, silentFetch, interval);\n    \n    return () => {\n      adminSyncManager.unsubscribe(key);\n    };\n  }, [key, silentFetch, interval]);\n\n  return { data, loading, error, refetch: silentFetch };\n};\n\n// Optimized search hook with debouncing\nexport const useOptimizedSearch = (data, searchFields, debounceMs = 300) => {\n  const [searchTerm, setSearchTerm] = React.useState('');\n  const [filteredData, setFilteredData] = React.useState(data);\n\n  const debouncedSearch = useCallback(\n    debounce((term, dataToSearch) => {\n      if (!term.trim()) {\n        setFilteredData(dataToSearch);\n        return;\n      }\n\n      const filtered = dataToSearch.filter(item => {\n        return searchFields.some(field => {\n          const value = field.split('.').reduce((obj, key) => obj?.[key], item);\n          return value?.toString().toLowerCase().includes(term.toLowerCase());\n        });\n      });\n\n      setFilteredData(filtered);\n    }, debounceMs),\n    [searchFields, debounceMs]\n  );\n\n  useEffect(() => {\n    debouncedSearch(searchTerm, data || []);\n  }, [searchTerm, data, debouncedSearch]);\n\n  return {\n    searchTerm,\n    setSearchTerm,\n    filteredData\n  };\n};\n\n// Virtualized list hook for large datasets\nexport const useVirtualizedList = (items, itemHeight = 60, containerHeight = 400) => {\n  const [scrollTop, setScrollTop] = React.useState(0);\n  const [containerRef, setContainerRef] = React.useState(null);\n\n  const visibleItems = useMemo(() => {\n    if (!items || items.length === 0) return [];\n\n    const startIndex = Math.floor(scrollTop / itemHeight);\n    const endIndex = Math.min(\n      startIndex + Math.ceil(containerHeight / itemHeight) + 1,\n      items.length\n    );\n\n    return items.slice(startIndex, endIndex).map((item, index) => ({\n      ...item,\n      index: startIndex + index,\n      top: (startIndex + index) * itemHeight\n    }));\n  }, [items, scrollTop, itemHeight, containerHeight]);\n\n  const totalHeight = (items?.length || 0) * itemHeight;\n\n  const handleScroll = useCallback(\n    throttle((e) => {\n      setScrollTop(e.target.scrollTop);\n    }, 16), // ~60fps\n    []\n  );\n\n  return {\n    visibleItems,\n    totalHeight,\n    containerRef: setContainerRef,\n    onScroll: handleScroll\n  };\n};\n\n// Performance monitoring hook for admin components\nexport const useAdminPerformanceMonitor = (componentName) => {\n  const renderCount = useRef(0);\n  const mountTime = useRef(Date.now());\n\n  useEffect(() => {\n    renderCount.current += 1;\n  });\n\n  useEffect(() => {\n    const loadTime = Date.now() - mountTime.current;\n    console.log(`üéØ ${componentName} loaded in ${loadTime}ms`);\n\n    return () => {\n      console.log(`üìä ${componentName} rendered ${renderCount.current} times`);\n    };\n  }, [componentName]);\n\n  return { renderCount: renderCount.current };\n};\n\n// Optimized modal manager\nexport const useOptimizedModal = () => {\n  const [modals, setModals] = React.useState({});\n\n  const openModal = useCallback((modalId, data = null) => {\n    setModals(prev => ({\n      ...prev,\n      [modalId]: { isOpen: true, data }\n    }));\n  }, []);\n\n  const closeModal = useCallback((modalId) => {\n    setModals(prev => ({\n      ...prev,\n      [modalId]: { isOpen: false, data: null }\n    }));\n  }, []);\n\n  const isModalOpen = useCallback((modalId) => {\n    return modals[modalId]?.isOpen || false;\n  }, [modals]);\n\n  const getModalData = useCallback((modalId) => {\n    return modals[modalId]?.data || null;\n  }, [modals]);\n\n  return {\n    openModal,\n    closeModal,\n    isModalOpen,\n    getModalData\n  };\n};\n\n// Smart cache invalidation\nexport const useSmartCache = (keys = []) => {\n  const invalidateCache = useCallback((pattern = null) => {\n    if (pattern) {\n      // Invalidate keys matching pattern\n      keys.forEach(key => {\n        if (key.includes(pattern)) {\n          apiCache.delete(key);\n        }\n      });\n    } else {\n      // Invalidate all specified keys\n      keys.forEach(key => apiCache.delete(key));\n    }\n  }, [keys]);\n\n  const refreshCache = useCallback(async (key, fetchFn) => {\n    apiCache.delete(key);\n    try {\n      const data = await fetchFn();\n      apiCache.set(key, data);\n      return data;\n    } catch (error) {\n      console.error(`Failed to refresh cache for ${key}:`, error);\n      throw error;\n    }\n  }, []);\n\n  return { invalidateCache, refreshCache };\n};\n\n// Batch operation manager\nexport const useBatchOperations = () => {\n  const [operations, setOperations] = React.useState([]);\n  const [isProcessing, setIsProcessing] = React.useState(false);\n\n  const addOperation = useCallback((operation) => {\n    setOperations(prev => [...prev, operation]);\n  }, []);\n\n  const processBatch = useCallback(async () => {\n    if (operations.length === 0 || isProcessing) return;\n\n    setIsProcessing(true);\n    try {\n      const results = await Promise.allSettled(\n        operations.map(op => op.execute())\n      );\n      \n      const successful = results.filter(r => r.status === 'fulfilled').length;\n      const failed = results.filter(r => r.status === 'rejected').length;\n      \n      console.log(`Batch completed: ${successful} successful, ${failed} failed`);\n      \n      setOperations([]);\n      return results;\n    } catch (error) {\n      console.error('Batch processing failed:', error);\n      throw error;\n    } finally {\n      setIsProcessing(false);\n    }\n  }, [operations, isProcessing]);\n\n  const clearBatch = useCallback(() => {\n    setOperations([]);\n  }, []);\n\n  return {\n    operations,\n    addOperation,\n    processBatch,\n    clearBatch,\n    isProcessing,\n    batchSize: operations.length\n  };\n};\n\nexport default {\n  AdminDataSyncManager,\n  adminSyncManager,\n  useOptimizedAdminState,\n  useMemoizedTransform,\n  useBackgroundDataFetcher,\n  useOptimizedSearch,\n  useVirtualizedList,\n  useAdminPerformanceMonitor,\n  useOptimizedModal,\n  useSmartCache,\n  useBatchOperations\n};\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Users\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTYgMjF2LTJhNCA0IDAgMCAwLTQtNEg2YTQgNCAwIDAgMC00IDR2MiIgLz4KICA8Y2lyY2xlIGN4PSI5IiBjeT0iNyIgcj0iNCIgLz4KICA8cGF0aCBkPSJNMjIgMjF2LTJhNCA0IDAgMCAwLTMtMy44NyIgLz4KICA8cGF0aCBkPSJNMTYgMy4xM2E0IDQgMCAwIDEgMCA3Ljc1IiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/users\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Users = createLucideIcon('Users', [\n  ['path', { d: 'M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2', key: '1yyitq' }],\n  ['circle', { cx: '9', cy: '7', r: '4', key: 'nufk8' }],\n  ['path', { d: 'M22 21v-2a4 4 0 0 0-3-3.87', key: 'kshegd' }],\n  ['path', { d: 'M16 3.13a4 4 0 0 1 0 7.75', key: '1da9ce' }],\n]);\n\nexport default Users;\n"],"names":["Plus","createLucideIcon","d","key","Shield","UnifiedPromoterForm","React","_ref","onSubmit","onCancel","loading","editingPromoter","availableParents","adminUsers","formData","setFormData","useState","name","email","hasEmail","password","confirmPassword","phone","address","parentPromoter","formErrors","setFormErrors","showPassword","setShowPassword","showConfirmPassword","setShowConfirmPassword","useEffect","promoterEmail","hasRealEmail","includes","parent_promoter_id","parentPromoterOptions","useMemo","map","admin","id","label","concat","type","promoter","_id","isCurrentUser","promoter_id","validateField","useCallback","fieldName","value","errors","trim","test","length","handleInputChange","prev","_objectSpread","fieldErrors","newErrors","validateForm","Object","keys","forEach","assign","handleSubmit","async","e","preventDefault","submissionData","useNewSystem","_jsxs","className","children","_jsx","onChange","target","placeholder","checked","htmlFor","_Fragment","onClick","EyeOff","Eye","replace","slice","maxLength","rows","disabled","option","Loader","CheckCircle","displayName","Phone","Trash2","x1","x2","y1","y2","PenSquare","user","useAuth","showSuccess","showError","showWarning","handleApiError","useToast","useScrollAnimation","promoters","setPromoters","setAdminUsers","filteredPromoters","setFilteredPromoters","searchTerm","setSearchTerm","statusFilter","setStatusFilter","showModal","setShowModal","showDeleteModal","setShowDeleteModal","setEditingPromoter","deletingPromoter","setDeletingPromoter","setLoading","submitting","setSubmitting","showPinModal","setShowPinModal","selectedPromoterForPins","setSelectedPromoterForPins","pinAllocation","setPinAllocation","amount","notes","loadPromoters","loadAdminUsers","filtered","filter","toLowerCase","promoterId","searchLower","status","data","error","supabase","from","select","eq","order","ascending","console","closeModal","closeDeleteModal","closePinModal","SharedStyles","AdminNavbar","UnifiedBackground","UnifiedButton","openCreateModal","UnifiedCard","SkeletonTable","columns","colSpan","promoterName","promoterPhone","systemPromoterID","Users","Mail","parentInfo","parentId","parentAdmin","find","isAdmin","p","getParentPromoterInfo","_promoter$status","currentStatus","newStatus","update","MessageFormatter","ENTITY_NAMES","PROMOTER","togglePromoterStatus","title","pins","openEditModal","Edit","openDeleteModal","rpc","p_promoter_id","p_name","p_email","p_phone","p_address","p_status","p_parent_promoter_id","success","Error","ACTIONS","UPDATE","log","timestamp","Date","now","randomNum","Math","floor","random","authEmail","authData","authError","auth","signUp","options","emailRedirectTo","undefined","role","message","confirmError","p_user_id","warn","p_auth_email","p_password","p_role_level","getAvailableParents","allPromoters","allAvailableParents","getDescendants","descendants","child","childId","push","currentId","excludeIds","X","delete","min","max","parseInt","result","p_pins_to_add","insert","pins_used","action_type","ALLOCATE","PIN","Map","AdminDataSyncManager","constructor","this","subscriptions","syncIntervals","isVisible","setupVisibilityListener","document","addEventListener","hidden","resumeAllSyncs","pauseAllSyncs","subscribe","syncFunction","interval","arguments","set","intervalId","setInterval","unsubscribe","get","clearInterval","clear","destroy","useOptimizedAdminState","initialState","compareFn","state","setState","previousStateRef","useRef","newState","updatedState","current","JSON","stringify","useOptimizedSearch","searchFields","debounceMs","filteredData","setFilteredData","debouncedSearch","debounce","func","wait","timeout","_len","args","Array","_key","clearTimeout","setTimeout","later","term","dataToSearch","item","some","field","split","reduce","obj","toString","useAdminPerformanceMonitor","componentName","renderCount","mountTime","loadTime","useOptimizedModal","modals","setModals","openModal","modalId","isOpen","isModalOpen","_modals$modalId","getModalData","_modals$modalId2","cx","cy","r"],"sourceRoot":""}
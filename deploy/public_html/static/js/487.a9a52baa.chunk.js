"use strict";(self.webpackChunkbrightplanet_ventures=self.webpackChunkbrightplanet_ventures||[]).push([[487],{2380:(e,t,r)=>{r.d(t,{A:()=>a});const a=(0,r(3797).A)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},2487:(e,t,r)=>{r.r(t),r.d(t,{default:()=>b});var a=r(5043),n=r(6621),o=r(1460),s=r(1761),i=r(5852),c=r(3959),l=r(6127),d=r(5229),u=r(5722),m=r(9589),p=r(6787),h=r(5680),x=r(2380),g=r(9256),y=r(6339),f=r(8112),_=r(1754),v=r(9363),N=r(3203),w=r(579);const b=function(){const{user:e}=(0,n.As)(),{showSuccess:t,showError:r,showWarning:b,handleApiError:A}=(0,v.dj)();(0,c.r9)();const[j,I]=(0,a.useState)([]),[C,P]=(0,a.useState)([]),[D,E]=(0,a.useState)([]),[k,T]=(0,a.useState)([]),[S,M]=(0,a.useState)(""),[O,U]=(0,a.useState)(""),[q,L]=(0,a.useState)(!1),[F,R]=(0,a.useState)(!1),[B,V]=(0,a.useState)(null),[z,H]=(0,a.useState)(null),[X,Y]=(0,a.useState)(!0),[G,Q]=(0,a.useState)(!1),[W,Z]=(0,a.useState)(null);(0,a.useEffect)(()=>{J(),K(),$()},[]),(0,a.useEffect)(()=>{let e=j||[];S&&(e=e.filter(e=>{const t=((null===e||void 0===e?void 0:e.name)||"").toLowerCase(),r=((null===e||void 0===e?void 0:e.email)||"").toLowerCase(),a=((null===e||void 0===e?void 0:e.phone)||"").toLowerCase(),n=((null===e||void 0===e?void 0:e.customer_id)||"").toLowerCase(),o=(S||"").toLowerCase();return t.includes(o)||r.includes(o)||a.includes(o)||n.includes(o)})),O&&(e=e.filter(e=>((null===e||void 0===e?void 0:e.status)||"active")===O)),T(e)},[j,S,O]);const J=async()=>{try{Y(!0);const{data:e,error:t}=await l.ND.from("profiles").select("\n          id,\n          name,\n          email,\n          phone,\n          customer_id,\n          state,\n          city,\n          pincode,\n          address,\n          investment_plan,\n          parent_promoter_id,\n          status,\n          created_at,\n          updated_at\n        ").eq("role","customer").order("created_at",{ascending:!1});if(t)throw console.error("Error loading customers:",t),I([]),T([]),t;console.log("\u2705 Loaded ".concat((null===e||void 0===e?void 0:e.length)||0," customers")),I(e||[]),T(e||[])}catch(e){console.error("Error loading customers:",e),I([]),T([])}finally{Y(!1)}},K=async()=>{try{const{data:e,error:t}=await l.ND.from("profiles").select("id, name, email, promoter_id, created_at").eq("role","promoter").order("created_at",{ascending:!1});if(t)throw console.error("Error loading promoters:",t),t;P(e||[])}catch(e){console.error("Error loading promoters:",e),P([])}},$=async()=>{try{const{data:e,error:t}=await l.ND.from("profiles").select("id, name, email, role").eq("role","admin").order("name");if(t)throw console.error("Error loading admin users:",t),t;E(e||[])}catch(e){console.error("Error loading admin users:",e),E([])}},ee=()=>{L(!1),V(null)},te=()=>{R(!1),H(null)};return(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(c.wE,{}),(0,w.jsx)(o.A,{}),(0,w.jsxs)(c.dQ,{children:[(0,w.jsx)("div",{className:"min-h-screen p-8",children:(0,w.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,w.jsxs)("div",{className:"flex justify-between items-center mb-8","data-animate":!0,children:[(0,w.jsxs)("div",{children:[(0,w.jsx)("h1",{className:"text-4xl font-bold text-white mb-2",children:"Customer Management"}),(0,w.jsx)("p",{className:"text-gray-300",children:"Manage customer accounts and assignments"})]}),(0,w.jsxs)(c.Rq,{onClick:()=>{V(null),L(!0)},className:"flex items-center space-x-2",children:[(0,w.jsx)(x.A,{className:"w-5 h-5"}),(0,w.jsx)("span",{children:"Create Customer"})]})]}),(0,w.jsx)(c.Xg,{className:"p-6 mb-8","data-animate":!0,children:(0,w.jsxs)("div",{className:"flex flex-col md:flex-row gap-4",children:[(0,w.jsxs)("div",{className:"flex-1 relative",children:[(0,w.jsx)(g.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),(0,w.jsx)("input",{type:"text",placeholder:"Search by name, email, phone, or customer ID...",value:S,onChange:e=>M(e.target.value),className:"w-full pl-10 pr-4 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-green-500"})]}),(0,w.jsx)("div",{className:"flex gap-4",children:(0,w.jsxs)("select",{value:O,onChange:e=>U(e.target.value),className:"px-4 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-green-500",children:[(0,w.jsx)("option",{value:"",children:"All Status"}),(0,w.jsx)("option",{value:"active",children:"Active"}),(0,w.jsx)("option",{value:"inactive",children:"Inactive"})]})})]})}),(0,w.jsx)(c.Xg,{className:"overflow-hidden","data-animate":!0,children:X?(0,w.jsx)(_.cU,{rows:8,columns:7}):(0,w.jsx)("div",{className:"overflow-x-auto",children:(0,w.jsxs)("table",{className:"w-full",children:[(0,w.jsx)("thead",{className:"bg-gray-700",children:(0,w.jsxs)("tr",{children:[(0,w.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Customer ID"}),(0,w.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Name"}),(0,w.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Contact Details"}),(0,w.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Investment Plan"}),(0,w.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Assigned Promoter"}),(0,w.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Status"}),(0,w.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Actions"})]})}),(0,w.jsx)("tbody",{className:"bg-gray-800 divide-y divide-gray-700",children:0===k.length?(0,w.jsx)("tr",{children:(0,w.jsx)("td",{colSpan:"7",className:"px-6 py-12 text-center text-gray-400",children:"No customers found"})}):k.map(e=>{const r=null===e||void 0===e?void 0:e.id,a=(null===e||void 0===e?void 0:e.name)||"Unknown",n=(null===e||void 0===e?void 0:e.email)||"N/A",o=(null===e||void 0===e?void 0:e.phone)||"N/A",s=(null===e||void 0===e?void 0:e.customer_id)||"N/A",i=(null===e||void 0===e?void 0:e.status)||"active",c=(e=>{const t=null===e||void 0===e?void 0:e.parent_promoter_id;if(!t)return"Unassigned";const r=(C||[]).find(e=>(null===e||void 0===e?void 0:e.id)===t);return(null===r||void 0===r?void 0:r.name)||"Unknown Promoter"})(e),d=(e=>{const t=null===e||void 0===e?void 0:e.parent_promoter_id;if(!t)return"";const r=(C||[]).find(e=>(null===e||void 0===e?void 0:e.id)===t);return(null===r||void 0===r?void 0:r.promoter_id)||""})(e);return(0,w.jsxs)("tr",{className:"hover:bg-gray-700",children:[(0,w.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,w.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:s})}),(0,w.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,w.jsxs)("div",{className:"flex items-center",children:[(0,w.jsx)("div",{className:"w-8 h-8 bg-gradient-to-r from-green-400 to-blue-500 rounded-full flex items-center justify-center mr-3",children:(0,w.jsx)(f.A,{className:"w-4 h-4 text-white"})}),(0,w.jsx)("div",{className:"text-sm font-medium text-white",children:a})]})}),(0,w.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-300",children:(0,w.jsxs)("div",{className:"space-y-1",children:[(0,w.jsxs)("div",{className:"flex items-center",children:[(0,w.jsx)(m.A,{className:"w-3 h-3 mr-2 text-gray-400"}),"N/A"===n?"No email":n]}),(0,w.jsxs)("div",{className:"flex items-center",children:[(0,w.jsx)(h.A,{className:"w-3 h-3 mr-2 text-gray-400"}),"N/A"===o?"No phone":o]})]})}),(0,w.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-300",children:(0,w.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-500/20 text-blue-400",children:"\u20b91000 \xd7 20 months"})}),(0,w.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-300",children:(0,w.jsxs)("div",{className:"flex items-center",children:[(0,w.jsx)(f.A,{className:"w-4 h-4 mr-2 text-blue-400"}),(0,w.jsxs)("div",{className:"flex flex-col",children:[(0,w.jsx)("span",{className:"text-white font-medium",children:c}),d&&(0,w.jsx)("span",{className:"text-xs text-gray-400",children:d})]})]})}),(0,w.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,w.jsx)("button",{onClick:()=>(async e=>{try{const r=e.status||"active",a="active"===r?"inactive":"active",{error:n}=await l.ND.from("profiles").update({status:a}).eq("id",e.id);if(n)throw n;t(N.ES.status(N.nF.CUSTOMER,r,a,e.name)),await J()}catch(r){console.error("Error updating customer status:",r),A(r,"Failed to update customer status")}})(e),className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium transition-colors ".concat("active"===i?"bg-green-100 text-green-800 hover:bg-green-200":"bg-red-100 text-red-800 hover:bg-red-200"),title:"Click to ".concat("active"===i?"deactivate":"activate"," customer"),children:"active"===i?"\u2705 Active":"\u274c Inactive"})}),(0,w.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:(0,w.jsxs)("div",{className:"flex space-x-2",children:[(0,w.jsx)("button",{onClick:()=>(e=>{Z(e),Q(!0)})(e),className:"text-green-400 hover:text-green-300 transition-colors",title:"Manage Payments",children:(0,w.jsx)(u.A,{className:"w-4 h-4"})}),(0,w.jsx)("button",{onClick:()=>(e=>{V(e),L(!0)})(e),className:"text-orange-400 hover:text-orange-300 transition-colors",title:"Edit Customer",children:(0,w.jsx)(p.A,{className:"w-4 h-4"})}),(0,w.jsx)("button",{onClick:()=>(e=>{H(e),R(!0)})(e),className:"text-red-400 hover:text-red-300 transition-colors",title:"Delete Customer",children:(0,w.jsx)(y.A,{className:"w-4 h-4"})})]})})]},r)})})]})})})]})}),(0,w.jsx)(s.A,{isOpen:q,onClose:ee,onSubmit:async e=>{try{if(B){const{error:r}=await l.ND.from("profiles").update({name:e.name,phone:e.mobile,email:e.email||null,state:e.state,city:e.city,pincode:e.pincode,address:e.address,parent_promoter_id:e.parentPromoter,updated_at:(new Date).toISOString()}).eq("id",B.id);if(r)throw console.error("\u274c Database error updating customer:",r),r;t(N.ES.success(N.kl.UPDATE,N.nF.CUSTOMER)),await J(),ee()}else{if(!e.name||!e.mobile||!e.cardNo)throw new Error("Missing required fields");const r={p_name:e.name,p_mobile:e.mobile,p_state:e.state,p_city:e.city,p_pincode:e.pincode,p_address:e.address,p_customer_id:e.cardNo,p_password:e.password,p_parent_promoter_id:e.parentPromoter,p_email:e.email||null},{data:a,error:n}=await l.ND.from("profiles").select("pins, name").eq("id",e.parentPromoter).eq("role","promoter").single();if(n)throw new Error("Failed to verify promoter pin availability");const o=(null===a||void 0===a?void 0:a.pins)||0;if(o<1)throw new Error('Selected promoter "'.concat(null===a||void 0===a?void 0:a.name,'" has insufficient pins (').concat(o," available). Please allocate pins to the promoter first."));const{data:s,error:i}=await l.ND.rpc("create_customer_final",r);if(i||null===s||void 0===s||!s.success)throw new Error((null===s||void 0===s?void 0:s.error)||(null===i||void 0===i?void 0:i.message)||"Failed to create customer");const c=await d.Ay.deductPinForCustomerCreation(e.parentPromoter,s.customer_id,e.name);if(!c.success)throw console.error("PIN deduction failed:",c.error),new Error("Customer created but PIN deduction failed: ".concat(c.error));t(N.ES.success(N.kl.CREATE,N.nF.CUSTOMER),"Customer ID: ".concat(e.cardNo," | Login ready | PIN deducted from ").concat(null===a||void 0===a?void 0:a.name," | New PIN balance: ").concat(c.balance_after)),await J(),ee()}}catch(r){console.error("Error creating/updating customer:",r),A(r,"Failed to create customer")}},promoters:(()=>{const e=C||[];return[...(D||[]).map(e=>({id:e.id,name:e.name,email:e.email,promoter_id:"ADMIN",role:"admin",isAdmin:!0})),...e]})(),isEditing:!!B,initialData:B,currentUserRole:"admin"}),(0,w.jsx)(i.A,{isOpen:G,onClose:()=>{Q(!1),Z(null)},customerId:null===W||void 0===W?void 0:W.id,customerName:null===W||void 0===W?void 0:W.name,currentUser:e}),F&&(0,w.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,w.jsxs)("div",{className:"bg-gray-800 rounded-lg p-6 w-full max-w-md mx-4",children:[(0,w.jsx)("h3",{className:"text-lg font-semibold text-white mb-4",children:"Confirm Delete"}),(0,w.jsxs)("p",{className:"text-gray-300 mb-6",children:['Are you sure you want to delete customer "',null===z||void 0===z?void 0:z.name,'"? This action cannot be undone.']}),(0,w.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,w.jsx)("button",{onClick:te,className:"px-4 py-2 text-gray-300 hover:text-white transition-colors",children:"Cancel"}),(0,w.jsx)("button",{onClick:async()=>{if(z)try{const{error:e}=await l.ND.from("profiles").delete().eq("id",z.id);if(e)throw e;t(N.ES.success(N.kl.DELETE,N.nF.CUSTOMER,z.name)),await J(),te()}catch(e){console.error("Error deleting customer:",e),A(e,"Failed to delete customer")}},className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:"Delete"})]})]})})]})]})}},5229:(e,t,r)=>{r.d(t,{Ay:()=>d,D7:()=>c,Lh:()=>l,getUserPinBalance:()=>i,hO:()=>o});var a=r(2555),n=r(6127);const o={CUSTOMER_CREATION:"customer_creation",ADMIN_ALLOCATION:"admin_allocation",ADMIN_DEDUCTION:"admin_deduction"},s={[o.CUSTOMER_CREATION]:{emoji:"\u274c",label:"Customer Creation",color:"red",sign:"-"},[o.ADMIN_ALLOCATION]:{emoji:"\u2705",label:"Admin Allocation",color:"green",sign:"+"},[o.ADMIN_DEDUCTION]:{emoji:"\u274c",label:"Admin Deduction",color:"red",sign:"-"}},i=async e=>{try{const{data:t,error:r}=await n.ND.from("profiles").select("pins").eq("id",e).single();if(r)throw r;return t.pins||0}catch(t){throw console.error("\u274c Failed to get user PIN balance:",t),t}},c=(e,t)=>{if(!s[e])return t.toString();const r=Math.abs(t);return e===o.ADMIN_ALLOCATION?"+".concat(r):"-".concat(r)},l=e=>s[e]||{emoji:"\u2753",label:"Unknown",color:"gray",sign:""},d={executePinTransaction:async e=>{let{userId:t,actionType:r,pinChangeValue:a,createdBy:o=null,relatedEntityId:s=null,relatedEntityName:i=null}=e;try{console.log("\ud83d\udd04 Executing PIN transaction:",{userId:t,actionType:r,pinChangeValue:a,createdBy:o,relatedEntityId:s,relatedEntityName:i});const{data:e,error:c}=await n.ND.rpc("execute_pin_transaction",{p_user_id:t,p_action_type:r,p_pin_change_value:a,p_created_by:o,p_related_entity_id:s,p_related_entity_name:i});if(c)throw console.error("\u274c PIN transaction failed:",c),c;if(!e.success)throw console.error("\u274c PIN transaction returned error:",e.error),new Error(e.error||"PIN transaction failed");return console.log("\u2705 PIN transaction successful:",e),e}catch(c){throw console.error("\u274c PIN transaction service error:",c),c}},deductPinForCustomerCreation:async(e,t,r)=>{try{console.log("\ud83d\udd04 Deducting PIN for customer creation:",{promoterId:e,customerId:t,customerName:r});const{data:a,error:o}=await n.ND.rpc("deduct_pin_for_customer_creation",{p_promoter_id:e,p_customer_id:t,p_customer_name:r});if(o)throw o;if(!a.success)throw new Error(a.error||"Customer creation PIN deduction failed");return console.log("\u2705 Customer creation PIN deduction successful:",a),a}catch(a){throw console.error("\u274c Customer creation PIN deduction failed:",a),a}},adminAllocatePins:async(e,t,r)=>{try{console.log("\ud83d\udd04 Admin allocating PINs:",{targetUserId:e,pinAmount:t,adminId:r});const{data:a,error:o}=await n.ND.rpc("admin_allocate_pins",{p_target_user_id:e,p_pin_amount:Math.abs(t),p_admin_id:r});if(o)throw o;if(!a.success)throw new Error(a.error||"Admin PIN allocation failed");return console.log("\u2705 Admin PIN allocation successful:",a),a}catch(a){throw console.error("\u274c Admin PIN allocation failed:",a),a}},adminDeductPins:async(e,t,r)=>{try{console.log("\ud83d\udd04 Admin deducting PINs:",{targetUserId:e,pinAmount:t,adminId:r});const{data:a,error:o}=await n.ND.rpc("admin_deduct_pins",{p_target_user_id:e,p_pin_amount:Math.abs(t),p_admin_id:r});if(o)throw o;if(!a.success)throw new Error(a.error||"Admin PIN deduction failed");return console.log("\u2705 Admin PIN deduction successful:",a),a}catch(a){throw console.error("\u274c Admin PIN deduction failed:",a),a}},getUserPinTransactions:async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:50;try{const{data:r,error:o}=await n.ND.from("pin_transactions").select("\n        id,\n        transaction_id,\n        action_type,\n        pin_change_value,\n        balance_before,\n        balance_after,\n        note,\n        created_at,\n        created_by,\n        related_entity_id,\n        creator:profiles!created_by(name, email)\n      ").eq("user_id",e).order("created_at",{ascending:!1}).limit(t);if(o)throw o;return r.map(e=>{var t;return(0,a.A)((0,a.A)({},e),{},{displayConfig:s[e.action_type]||{emoji:"\u2753",label:"Unknown",color:"gray",sign:""},formattedAmount:c(e.action_type,e.pin_change_value),creatorName:(null===(t=e.creator)||void 0===t?void 0:t.name)||"System"})})}catch(r){throw console.error("\u274c Failed to get user PIN transactions:",r),r}},getAllPinTransactions:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100;try{let r=n.ND.from("pin_transactions").select("\n        id,\n        transaction_id,\n        user_id,\n        action_type,\n        pin_change_value,\n        balance_before,\n        balance_after,\n        note,\n        created_at,\n        created_by,\n        related_entity_id,\n        user:profiles!user_id(name, email, role),\n        creator:profiles!created_by(name, email)\n      ").order("created_at",{ascending:!1}).limit(t);e.actionType&&"all"!==e.actionType&&(r=r.eq("action_type",e.actionType)),e.userId&&(r=r.eq("user_id",e.userId)),e.dateFrom&&(r=r.gte("created_at",e.dateFrom)),e.dateTo&&(r=r.lte("created_at",e.dateTo));const{data:o,error:i}=await r;if(i)throw i;return o.map(e=>{var t,r,n,o;return(0,a.A)((0,a.A)({},e),{},{displayConfig:s[e.action_type]||{emoji:"\u2753",label:"Unknown",color:"gray",sign:""},formattedAmount:c(e.action_type,e.pin_change_value),userName:(null===(t=e.user)||void 0===t?void 0:t.name)||"Unknown User",userEmail:(null===(r=e.user)||void 0===r?void 0:r.email)||"Unknown",userRole:(null===(n=e.user)||void 0===n?void 0:n.role)||"unknown",creatorName:(null===(o=e.creator)||void 0===o?void 0:o.name)||"System"})})}catch(r){throw console.error("\u274c Failed to get all PIN transactions:",r),r}},getUserPinBalance:i,getPinTransactionStats:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;try{let t=n.ND.from("pin_transactions").select("action_type, pin_change_value");e&&(t=t.eq("user_id",e));const{data:r,error:a}=await t;if(a)throw a;return{totalTransactions:r.length,customerCreations:r.filter(e=>e.action_type===o.CUSTOMER_CREATION).length,adminAllocations:r.filter(e=>e.action_type===o.ADMIN_ALLOCATION).length,adminDeductions:r.filter(e=>e.action_type===o.ADMIN_DEDUCTION).length,totalPinsAllocated:r.filter(e=>e.action_type===o.ADMIN_ALLOCATION).reduce((e,t)=>e+Math.abs(t.pin_change_value),0),totalPinsDeducted:r.filter(e=>e.action_type!==o.ADMIN_ALLOCATION).reduce((e,t)=>e+Math.abs(t.pin_change_value),0)}}catch(t){throw console.error("\u274c Failed to get PIN transaction stats:",t),t}},formatPinAmount:c,getActionTypeDisplay:l,validatePinTransaction:(e,t,r)=>{const a=[];return Object.values(o).includes(e)||a.push("Invalid action type"),(!t||t<=0)&&a.push("PIN amount must be greater than 0"),r||a.push("User ID is required"),{isValid:0===a.length,errors:a}},subscribeToPinBalance:(e,t)=>n.ND.channel("pin-balance-changes").on("postgres_changes",{event:"*",schema:"public",table:"pin_transactions",filter:"user_id=eq.".concat(e)},e=>{console.log("\ud83d\udce1 PIN transaction change detected:",e),t(e)}).subscribe(),subscribeToPinTransactions:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r="";t&&(r="user_id=eq.".concat(t));return n.ND.channel("pin-transactions-changes").on("postgres_changes",{event:"*",schema:"public",table:"pin_transactions",filter:r},t=>{console.log("\ud83d\udce1 PIN transactions change detected:",t),e(t)}).subscribe()},PIN_ACTION_TYPES:o,PIN_DISPLAY_CONFIG:s}},5680:(e,t,r)=>{r.d(t,{A:()=>a});const a=(0,r(3797).A)("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]])},5722:(e,t,r)=>{r.d(t,{A:()=>a});const a=(0,r(3797).A)("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]])},6339:(e,t,r)=>{r.d(t,{A:()=>a});const a=(0,r(3797).A)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},6787:(e,t,r)=>{r.d(t,{A:()=>a});const a=(0,r(3797).A)("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]])},8112:(e,t,r)=>{r.d(t,{A:()=>a});const a=(0,r(3797).A)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]])},9256:(e,t,r)=>{r.d(t,{A:()=>a});const a=(0,r(3797).A)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])}}]);
//# sourceMappingURL=487.a9a52baa.chunk.js.map
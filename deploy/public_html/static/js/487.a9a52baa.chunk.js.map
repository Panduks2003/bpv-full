{"version":3,"file":"static/js/487.a9a52baa.chunk.js","mappings":"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","sources":["../node_modules/lucide-react/src/icons/plus.ts","admin/pages/AdminCustomers.js","services/pinTransactionService.js","../node_modules/lucide-react/src/icons/phone.ts","../node_modules/lucide-react/src/icons/credit-card.ts","../node_modules/lucide-react/src/icons/trash-2.ts","../node_modules/lucide-react/src/icons/pen-square.ts","../node_modules/lucide-react/src/icons/users.ts","../node_modules/lucide-react/src/icons/search.ts"],"sourcesContent":["import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Plus\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNNSAxMmgxNCIgLz4KICA8cGF0aCBkPSJNMTIgNXYxNCIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/plus\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Plus = createLucideIcon('Plus', [\n  ['path', { d: 'M5 12h14', key: '1ays0h' }],\n  ['path', { d: 'M12 5v14', key: 's699le' }],\n]);\n\nexport default Plus;\n","import React, { useState, useEffect, useCallback } from 'react';\nimport { useAuth } from \"../../common/context/AuthContext\";\nimport AdminNavbar from '../components/AdminNavbar';\nimport UnifiedCustomerForm from '../../common/components/UnifiedCustomerForm';\nimport PaymentManager from '../../common/components/PaymentManager';\nimport { \n  UnifiedBackground, \n  UnifiedCard, \n  UnifiedButton,\n  useScrollAnimation,\n  SharedStyles\n} from \"../../common/components/SharedTheme\";\nimport { supabase } from \"../../common/services/supabaseClient\"\nimport pinTransactionService from '../../services/pinTransactionService';\nimport { Search, Plus, Edit, Trash2, Users, X, Loader, CreditCard, Mail, Phone } from 'lucide-react';\nimport { \n  SkeletonTable, \n  SkeletonPageHeader, \n  SkeletonSearchFilters \n} from '../components/skeletons';\nimport { useToast } from '../services/toastService';\nimport { MessageFormatter, ACTIONS, ENTITY_NAMES } from '../utils/messageFormatter';\n\nfunction AdminCustomers() {\n  const { user } = useAuth();\n  const { showSuccess, showError, showWarning, handleApiError } = useToast();\n  useScrollAnimation();\n\n  // State management\n  const [customers, setCustomers] = useState([]);\n  const [promoters, setPromoters] = useState([]);\n  const [adminUsers, setAdminUsers] = useState([]);\n  const [filteredCustomers, setFilteredCustomers] = useState([]);\n  const [searchTerm, setSearchTerm] = useState('');\n  const [statusFilter, setStatusFilter] = useState('');\n  const [showModal, setShowModal] = useState(false);\n  const [showDeleteModal, setShowDeleteModal] = useState(false);\n  const [editingCustomer, setEditingCustomer] = useState(null);\n  const [deletingCustomer, setDeletingCustomer] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [showPaymentManager, setShowPaymentManager] = useState(false);\n  const [selectedCustomerForPayments, setSelectedCustomerForPayments] = useState(null);\n  // Remove old form data state - now handled by UnifiedCustomerForm\n\n  // Load customers, promoters, and admin users on component mount\n  useEffect(() => {\n    loadCustomers();\n    loadPromoters();\n    loadAdminUsers();\n  }, []);\n\n  // Filter and search logic\n  useEffect(() => {\n    let filtered = customers || [];\n\n    // Search filter\n    if (searchTerm) {\n      filtered = filtered.filter(customer => {\n        const name = (customer?.name || '').toLowerCase();\n        const email = (customer?.email || '').toLowerCase();\n        const phone = (customer?.phone || '').toLowerCase();\n        const customerId = (customer?.customer_id || '').toLowerCase();\n        const searchLower = (searchTerm || '').toLowerCase();\n        return name.includes(searchLower) || \n               email.includes(searchLower) || \n               phone.includes(searchLower) ||\n               customerId.includes(searchLower);\n      });\n    }\n\n    // Status filter\n    if (statusFilter) {\n      filtered = filtered.filter(customer => \n        (customer?.status || 'active') === statusFilter\n      );\n    }\n\n    setFilteredCustomers(filtered);\n  }, [customers, searchTerm, statusFilter]);\n\n  // Load customers from Supabase - using direct profiles query for consistency\n  const loadCustomers = async () => {\n    try {\n      setLoading(true);\n      \n      const { data, error } = await supabase\n        .from('profiles')\n        .select(`\n          id,\n          name,\n          email,\n          phone,\n          customer_id,\n          state,\n          city,\n          pincode,\n          address,\n          investment_plan,\n          parent_promoter_id,\n          status,\n          created_at,\n          updated_at\n        `)\n        .eq('role', 'customer')\n        .order('created_at', { ascending: false });\n      \n      if (error) {\n        console.error('Error loading customers:', error);\n        setCustomers([]);\n        setFilteredCustomers([]);\n        throw error;\n      }\n      \n      console.log(`‚úÖ Loaded ${data?.length || 0} customers`);\n      \n      setCustomers(data || []);\n      setFilteredCustomers(data || []);\n    } catch (error) {\n      console.error('Error loading customers:', error);\n      setCustomers([]);\n      setFilteredCustomers([]);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Load promoters for dropdown - using direct supabase query for consistency\n  const loadPromoters = async () => {\n    try {\n      const { data, error } = await supabase\n        .from('profiles')\n        .select('id, name, email, promoter_id, created_at')\n        .eq('role', 'promoter')\n        .order('created_at', { ascending: false });\n        \n      if (error) {\n        console.error('Error loading promoters:', error);\n        throw error;\n      }\n      \n      setPromoters(data || []);\n    } catch (error) {\n      console.error('Error loading promoters:', error);\n      setPromoters([]);\n    }\n  };\n\n  // Load admin users for dropdown\n  const loadAdminUsers = async () => {\n    try {\n      const { data, error } = await supabase.from('profiles')\n        .select('id, name, email, role')\n        .eq('role', 'admin')\n        .order('name');\n      if (error) {\n        console.error('Error loading admin users:', error);\n        throw error;\n      }\n      \n      setAdminUsers(data || []);\n    } catch (error) {\n      console.error('Error loading admin users:', error);\n      setAdminUsers([]);\n    }\n  };\n\n  // Combine promoters and admin users for the dropdown\n  const getAllAvailableParents = () => {\n    const allPromoters = promoters || [];\n    const allAdmins = adminUsers || [];\n    \n    // Transform admin users to match promoter structure\n    const transformedAdmins = allAdmins.map(admin => ({\n      id: admin.id,\n      name: admin.name,\n      email: admin.email,\n      promoter_id: 'ADMIN',\n      role: 'admin',\n      isAdmin: true\n    }));\n    \n    // Combine admin users and promoters\n    return [...transformedAdmins, ...allPromoters];\n  };\n\n  // Form validation is now handled by UnifiedCustomerForm\n\n  // Modal handlers\n  const openCreateModal = () => {\n    setEditingCustomer(null);\n    setShowModal(true);\n  };\n\n  const openEditModal = (customer) => {\n    setEditingCustomer(customer);\n    setShowModal(true);\n  };\n\n  const closeModal = () => {\n    setShowModal(false);\n    setEditingCustomer(null);\n  };\n\n  const openDeleteModal = (customer) => {\n    setDeletingCustomer(customer);\n    setShowDeleteModal(true);\n  };\n\n  const closeDeleteModal = () => {\n    setShowDeleteModal(false);\n    setDeletingCustomer(null);\n  };\n\n  // Payment management handlers\n  const openPaymentManager = (customer) => {\n    setSelectedCustomerForPayments(customer);\n    setShowPaymentManager(true);\n  };\n\n  const closePaymentManager = () => {\n    setShowPaymentManager(false);\n    setSelectedCustomerForPayments(null);\n  };\n\n  // Toggle customer status - using direct supabase update\n  const toggleCustomerStatus = async (customer) => {\n    try {\n      const currentStatus = customer.status || 'active';\n      const newStatus = currentStatus === 'active' ? 'inactive' : 'active';\n      \n      const { error } = await supabase\n        .from('profiles')\n        .update({ status: newStatus })\n        .eq('id', customer.id);\n      \n      if (error) throw error;\n      \n      showSuccess(MessageFormatter.status(ENTITY_NAMES.CUSTOMER, currentStatus, newStatus, customer.name));\n      // Reload customers to reflect changes\n      await loadCustomers();\n    } catch (error) {\n      console.error('Error updating customer status:', error);\n      handleApiError(error, 'Failed to update customer status');\n    }\n  };\n\n  // Handle customer form submission\n  const handleCustomerSubmit = async (formData) => {\n    try {\n      if (editingCustomer) {\n        // Update existing customer - use direct Supabase update\n        \n        const { error } = await supabase\n          .from('profiles')\n          .update({\n            name: formData.name,\n            phone: formData.mobile,\n            email: formData.email || null,\n            state: formData.state,\n            city: formData.city,\n            pincode: formData.pincode,\n            address: formData.address,\n            parent_promoter_id: formData.parentPromoter,\n            updated_at: new Date().toISOString()\n          })\n          .eq('id', editingCustomer.id);\n        \n        if (error) {\n          console.error('‚ùå Database error updating customer:', error);\n          throw error;\n        }\n        \n        showSuccess(MessageFormatter.success(ACTIONS.UPDATE, ENTITY_NAMES.CUSTOMER));\n        \n        // Reload customers to reflect changes\n        await loadCustomers();\n        closeModal();\n      } else {\n        // Create new customer\n        if (!formData.name || !formData.mobile || !formData.cardNo) {\n          throw new Error('Missing required fields');\n        }\n        \n        const dbParams = {\n          p_name: formData.name,\n          p_mobile: formData.mobile,\n          p_state: formData.state,\n          p_city: formData.city,\n          p_pincode: formData.pincode,\n          p_address: formData.address,\n          p_customer_id: formData.cardNo,\n          p_password: formData.password,\n          p_parent_promoter_id: formData.parentPromoter,\n          p_email: formData.email || null\n        };\n        \n        // Check if selected promoter has sufficient pins\n        const { data: promoterData, error: promoterError } = await supabase\n          .from('profiles')\n          .select('pins, name')\n          .eq('id', formData.parentPromoter)\n          .eq('role', 'promoter')\n          .single();\n        \n        if (promoterError) {\n          throw new Error('Failed to verify promoter pin availability');\n        }\n        \n        const promoterPins = promoterData?.pins || 0;\n        if (promoterPins < 1) {\n          throw new Error(`Selected promoter \"${promoterData?.name}\" has insufficient pins (${promoterPins} available). Please allocate pins to the promoter first.`);\n        }\n        \n        // Create customer record first\n        const { data: customerResult, error: customerError } = await supabase.rpc('create_customer_final', dbParams);\n        \n        if (customerError || !customerResult?.success) {\n          throw new Error(customerResult?.error || customerError?.message || 'Failed to create customer');\n        }\n        \n        // Deduct PIN from promoter using unified service\n        const pinResult = await pinTransactionService.deductPinForCustomerCreation(\n          formData.parentPromoter,\n          customerResult.customer_id,\n          formData.name\n        );\n        \n        if (!pinResult.success) {\n          // If PIN deduction fails, we should ideally rollback customer creation\n          // For now, log the error but continue\n          console.error('PIN deduction failed:', pinResult.error);\n          throw new Error(`Customer created but PIN deduction failed: ${pinResult.error}`);\n        }\n        \n        showSuccess(\n          MessageFormatter.success(ACTIONS.CREATE, ENTITY_NAMES.CUSTOMER),\n          `Customer ID: ${formData.cardNo} | Login ready | PIN deducted from ${promoterData?.name} | New PIN balance: ${pinResult.balance_after}`\n        );\n        \n        // Reload customers after creation\n        await loadCustomers();\n        \n        closeModal();\n      }\n\n    } catch (error) {\n      console.error('Error creating/updating customer:', error);\n      handleApiError(error, 'Failed to create customer');\n    }\n  };\n\n  const handleDelete = async () => {\n    if (deletingCustomer) {\n      try {\n        // Delete from profiles table (customers are stored there)\n        const { error } = await supabase\n          .from('profiles')\n          .delete()\n          .eq('id', deletingCustomer.id);\n          \n        if (error) throw error;\n        \n        showSuccess(MessageFormatter.success(ACTIONS.DELETE, ENTITY_NAMES.CUSTOMER, deletingCustomer.name));\n        await loadCustomers();\n        closeDeleteModal();\n      } catch (error) {\n        console.error('Error deleting customer:', error);\n        handleApiError(error, 'Failed to delete customer');\n      }\n    }\n  };\n\n  // Get promoter name for display\n  const getPromoterName = (customer) => {\n    const promoterId = customer?.parent_promoter_id;\n    if (!promoterId) return 'Unassigned';\n    \n    const promoter = (promoters || []).find(p => p?.id === promoterId);\n    \n    return promoter?.name || 'Unknown Promoter';\n  };\n\n  // Get promoter system ID for display\n  const getPromoterSystemId = (customer) => {\n    const promoterId = customer?.parent_promoter_id;\n    if (!promoterId) return '';\n    \n    const promoter = (promoters || []).find(p => p?.id === promoterId);\n    \n    return promoter?.promoter_id || '';\n  };\n\n  return (\n    <>\n      <SharedStyles />\n      <AdminNavbar />\n      <UnifiedBackground>\n        <div className=\"min-h-screen p-8\">\n          <div className=\"max-w-7xl mx-auto\">\n            {/* Header */}\n            <div className=\"flex justify-between items-center mb-8\" data-animate>\n              <div>\n                <h1 className=\"text-4xl font-bold text-white mb-2\">Customer Management</h1>\n                <p className=\"text-gray-300\">Manage customer accounts and assignments</p>\n              </div>\n              <UnifiedButton\n                onClick={openCreateModal}\n                className=\"flex items-center space-x-2\"\n              >\n                <Plus className=\"w-5 h-5\" />\n                <span>Create Customer</span>\n              </UnifiedButton>\n            </div>\n\n            {/* Search and Filters */}\n            <UnifiedCard className=\"p-6 mb-8\" data-animate>\n              <div className=\"flex flex-col md:flex-row gap-4\">\n                <div className=\"flex-1 relative\">\n                  <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5\" />\n                  <input\n                    type=\"text\"\n                    placeholder=\"Search by name, email, phone, or customer ID...\"\n                    value={searchTerm}\n                    onChange={(e) => setSearchTerm(e.target.value)}\n                    className=\"w-full pl-10 pr-4 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-green-500\"\n                  />\n                </div>\n                <div className=\"flex gap-4\">\n                  <select\n                    value={statusFilter}\n                    onChange={(e) => setStatusFilter(e.target.value)}\n                    className=\"px-4 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-green-500\"\n                  >\n                    <option value=\"\">All Status</option>\n                    <option value=\"active\">Active</option>\n                    <option value=\"inactive\">Inactive</option>\n                  </select>\n                </div>\n              </div>\n            </UnifiedCard>\n\n            {/* Customers Table */}\n            <UnifiedCard className=\"overflow-hidden\" data-animate>\n              \n              {loading ? (\n                <SkeletonTable rows={8} columns={7} />\n              ) : (\n                <div className=\"overflow-x-auto\">\n                  <table className=\"w-full\">\n                    <thead className=\"bg-gray-700\">\n                      <tr>\n                        <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider\">Customer ID</th>\n                        <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider\">Name</th>\n                        <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider\">Contact Details</th>\n                        <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider\">Investment Plan</th>\n                        <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider\">Assigned Promoter</th>\n                        <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider\">Status</th>\n                        <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider\">Actions</th>\n                      </tr>\n                    </thead>\n                    <tbody className=\"bg-gray-800 divide-y divide-gray-700\">\n                      {filteredCustomers.length === 0 ? (\n                        <tr>\n                          <td colSpan=\"7\" className=\"px-6 py-12 text-center text-gray-400\">\n                            No customers found\n                          </td>\n                        </tr>\n                      ) : (\n                        filteredCustomers.map((customer) => {\n                          const customerId = customer?.id;\n                          const customerName = customer?.name || 'Unknown';\n                          const customerEmail = customer?.email || 'N/A';\n                          const customerPhone = customer?.phone || 'N/A';\n                          const systemCustomerID = customer?.customer_id || 'N/A';\n                          const status = customer?.status || 'active';\n                          const promoterName = getPromoterName(customer);\n                          const promoterSystemId = getPromoterSystemId(customer);\n                          \n                          return (\n                            <tr key={customerId} className=\"hover:bg-gray-700\">\n                              <td className=\"px-6 py-4 whitespace-nowrap\">\n                                <span className=\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800\">\n                                  {systemCustomerID}\n                                </span>\n                              </td>\n                              <td className=\"px-6 py-4 whitespace-nowrap\">\n                                <div className=\"flex items-center\">\n                                  <div className=\"w-8 h-8 bg-gradient-to-r from-green-400 to-blue-500 rounded-full flex items-center justify-center mr-3\">\n                                    <Users className=\"w-4 h-4 text-white\" />\n                                  </div>\n                                  <div className=\"text-sm font-medium text-white\">{customerName}</div>\n                                </div>\n                              </td>\n                              <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-300\">\n                                <div className=\"space-y-1\">\n                                  <div className=\"flex items-center\">\n                                    <Mail className=\"w-3 h-3 mr-2 text-gray-400\" />\n                                    {customerEmail === 'N/A' ? 'No email' : customerEmail}\n                                  </div>\n                                  <div className=\"flex items-center\">\n                                    <Phone className=\"w-3 h-3 mr-2 text-gray-400\" />\n                                    {customerPhone === 'N/A' ? 'No phone' : customerPhone}\n                                  </div>\n                                </div>\n                              </td>\n                              <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-300\">\n                                <span className=\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-500/20 text-blue-400\">\n                                  ‚Çπ1000 √ó 20 months\n                                </span>\n                              </td>\n                              <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-300\">\n                                <div className=\"flex items-center\">\n                                  <Users className=\"w-4 h-4 mr-2 text-blue-400\" />\n                                  <div className=\"flex flex-col\">\n                                    <span className=\"text-white font-medium\">{promoterName}</span>\n                                    {promoterSystemId && (\n                                      <span className=\"text-xs text-gray-400\">{promoterSystemId}</span>\n                                    )}\n                                  </div>\n                                </div>\n                              </td>\n                              <td className=\"px-6 py-4 whitespace-nowrap\">\n                                <button\n                                  onClick={() => toggleCustomerStatus(customer)}\n                                  className={`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium transition-colors ${\n                                    status === 'active' \n                                      ? 'bg-green-100 text-green-800 hover:bg-green-200' \n                                      : 'bg-red-100 text-red-800 hover:bg-red-200'\n                                  }`}\n                                  title={`Click to ${status === 'active' ? 'deactivate' : 'activate'} customer`}\n                                >\n                                  {status === 'active' ? '‚úÖ Active' : '‚ùå Inactive'}\n                                </button>\n                              </td>\n                              <td className=\"px-6 py-4 whitespace-nowrap text-sm font-medium\">\n                                <div className=\"flex space-x-2\">\n                                  <button\n                                    onClick={() => openPaymentManager(customer)}\n                                    className=\"text-green-400 hover:text-green-300 transition-colors\"\n                                    title=\"Manage Payments\"\n                                  >\n                                    <CreditCard className=\"w-4 h-4\" />\n                                  </button>\n                                  <button\n                                    onClick={() => openEditModal(customer)}\n                                    className=\"text-orange-400 hover:text-orange-300 transition-colors\"\n                                    title=\"Edit Customer\"\n                                  >\n                                    <Edit className=\"w-4 h-4\" />\n                                  </button>\n                                  <button\n                                    onClick={() => openDeleteModal(customer)}\n                                    className=\"text-red-400 hover:text-red-300 transition-colors\"\n                                    title=\"Delete Customer\"\n                                  >\n                                    <Trash2 className=\"w-4 h-4\" />\n                                  </button>\n                                </div>\n                              </td>\n                            </tr>\n                          );\n                        })\n                      )}\n                    </tbody>\n                  </table>\n                </div>\n              )}\n            </UnifiedCard>\n          </div>\n        </div>\n\n        {/* Unified Customer Form */}\n        <UnifiedCustomerForm\n          isOpen={showModal}\n          onClose={closeModal}\n          onSubmit={handleCustomerSubmit}\n          promoters={getAllAvailableParents()}\n          isEditing={!!editingCustomer}\n          initialData={editingCustomer}\n          currentUserRole=\"admin\"\n        />\n\n        {/* Payment Manager */}\n        <PaymentManager\n          isOpen={showPaymentManager}\n          onClose={closePaymentManager}\n          customerId={selectedCustomerForPayments?.id}\n          customerName={selectedCustomerForPayments?.name}\n          currentUser={user}\n        />\n\n        {/* Delete Confirmation Modal */}\n        {showDeleteModal && (\n          <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\">\n            <div className=\"bg-gray-800 rounded-lg p-6 w-full max-w-md mx-4\">\n              <h3 className=\"text-lg font-semibold text-white mb-4\">Confirm Delete</h3>\n              <p className=\"text-gray-300 mb-6\">\n                Are you sure you want to delete customer \"{deletingCustomer?.name}\"? This action cannot be undone.\n              </p>\n              <div className=\"flex justify-end space-x-3\">\n                <button\n                  onClick={closeDeleteModal}\n                  className=\"px-4 py-2 text-gray-300 hover:text-white transition-colors\"\n                >\n                  Cancel\n                </button>\n                <button\n                  onClick={handleDelete}\n                  className=\"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors\"\n                >\n                  Delete\n                </button>\n              </div>\n            </div>\n          </div>\n        )}\n      </UnifiedBackground>\n    </>\n  );\n}\n\nexport default AdminCustomers;\n","/**\n * UNIFIED PIN TRANSACTION SERVICE\n * ================================\n * Centralized service for all PIN operations across Admin, Promoter, and Customer systems\n * Ensures complete uniformity and standardization\n */\n\nimport { supabase } from '../common/services/supabaseClient';\n\n// =====================================================\n// CONSTANTS - Standardized Action Types\n// =====================================================\n\nexport const PIN_ACTION_TYPES = {\n  CUSTOMER_CREATION: 'customer_creation',    // ‚ùå Customer Creation (- PIN)\n  ADMIN_ALLOCATION: 'admin_allocation',      // ‚úÖ Admin Allocation (+ PIN)\n  ADMIN_DEDUCTION: 'admin_deduction'         // ‚ùå Admin Deduction (- PIN)\n};\n\nexport const PIN_DISPLAY_CONFIG = {\n  [PIN_ACTION_TYPES.CUSTOMER_CREATION]: {\n    emoji: '‚ùå',\n    label: 'Customer Creation',\n    color: 'red',\n    sign: '-'\n  },\n  [PIN_ACTION_TYPES.ADMIN_ALLOCATION]: {\n    emoji: '‚úÖ',\n    label: 'Admin Allocation',\n    color: 'green',\n    sign: '+'\n  },\n  [PIN_ACTION_TYPES.ADMIN_DEDUCTION]: {\n    emoji: '‚ùå',\n    label: 'Admin Deduction',\n    color: 'red',\n    sign: '-'\n  }\n};\n\n// =====================================================\n// CORE PIN TRANSACTION FUNCTIONS\n// =====================================================\n\n/**\n * Execute a PIN transaction using the unified system\n */\nexport const executePinTransaction = async ({\n  userId,\n  actionType,\n  pinChangeValue,\n  createdBy = null,\n  relatedEntityId = null,\n  relatedEntityName = null\n}) => {\n  try {\n    console.log('üîÑ Executing PIN transaction:', {\n      userId,\n      actionType,\n      pinChangeValue,\n      createdBy,\n      relatedEntityId,\n      relatedEntityName\n    });\n\n    const { data, error } = await supabase.rpc('execute_pin_transaction', {\n      p_user_id: userId,\n      p_action_type: actionType,\n      p_pin_change_value: pinChangeValue,\n      p_created_by: createdBy,\n      p_related_entity_id: relatedEntityId,\n      p_related_entity_name: relatedEntityName\n    });\n\n    if (error) {\n      console.error('‚ùå PIN transaction failed:', error);\n      throw error;\n    }\n\n    if (!data.success) {\n      console.error('‚ùå PIN transaction returned error:', data.error);\n      throw new Error(data.error || 'PIN transaction failed');\n    }\n\n    console.log('‚úÖ PIN transaction successful:', data);\n    return data;\n\n  } catch (error) {\n    console.error('‚ùå PIN transaction service error:', error);\n    throw error;\n  }\n};\n\n/**\n * Deduct PIN for customer creation\n */\nexport const deductPinForCustomerCreation = async (promoterId, customerId, customerName) => {\n  try {\n    console.log('üîÑ Deducting PIN for customer creation:', { promoterId, customerId, customerName });\n\n    const { data, error } = await supabase.rpc('deduct_pin_for_customer_creation', {\n      p_promoter_id: promoterId,\n      p_customer_id: customerId,\n      p_customer_name: customerName\n    });\n\n    if (error) throw error;\n    if (!data.success) throw new Error(data.error || 'Customer creation PIN deduction failed');\n\n    console.log('‚úÖ Customer creation PIN deduction successful:', data);\n    return data;\n\n  } catch (error) {\n    console.error('‚ùå Customer creation PIN deduction failed:', error);\n    throw error;\n  }\n};\n\n/**\n * Admin allocate PINs to user\n */\nexport const adminAllocatePins = async (targetUserId, pinAmount, adminId) => {\n  try {\n    console.log('üîÑ Admin allocating PINs:', { targetUserId, pinAmount, adminId });\n\n    const { data, error } = await supabase.rpc('admin_allocate_pins', {\n      p_target_user_id: targetUserId,\n      p_pin_amount: Math.abs(pinAmount), // Ensure positive\n      p_admin_id: adminId\n    });\n\n    if (error) throw error;\n    if (!data.success) throw new Error(data.error || 'Admin PIN allocation failed');\n\n    console.log('‚úÖ Admin PIN allocation successful:', data);\n    return data;\n\n  } catch (error) {\n    console.error('‚ùå Admin PIN allocation failed:', error);\n    throw error;\n  }\n};\n\n/**\n * Admin deduct PINs from user\n */\nexport const adminDeductPins = async (targetUserId, pinAmount, adminId) => {\n  try {\n    console.log('üîÑ Admin deducting PINs:', { targetUserId, pinAmount, adminId });\n\n    const { data, error } = await supabase.rpc('admin_deduct_pins', {\n      p_target_user_id: targetUserId,\n      p_pin_amount: Math.abs(pinAmount), // Ensure positive (function will make it negative)\n      p_admin_id: adminId\n    });\n\n    if (error) throw error;\n    if (!data.success) throw new Error(data.error || 'Admin PIN deduction failed');\n\n    console.log('‚úÖ Admin PIN deduction successful:', data);\n    return data;\n\n  } catch (error) {\n    console.error('‚ùå Admin PIN deduction failed:', error);\n    throw error;\n  }\n};\n\n// =====================================================\n// PIN TRANSACTION QUERIES\n// =====================================================\n\n/**\n * Get PIN transactions for a user\n */\nexport const getUserPinTransactions = async (userId, limit = 50) => {\n  try {\n    const { data, error } = await supabase\n      .from('pin_transactions')\n      .select(`\n        id,\n        transaction_id,\n        action_type,\n        pin_change_value,\n        balance_before,\n        balance_after,\n        note,\n        created_at,\n        created_by,\n        related_entity_id,\n        creator:profiles!created_by(name, email)\n      `)\n      .eq('user_id', userId)\n      .order('created_at', { ascending: false })\n      .limit(limit);\n\n    if (error) throw error;\n\n    // Transform data for UI display\n    const transformedData = data.map(transaction => ({\n      ...transaction,\n      displayConfig: PIN_DISPLAY_CONFIG[transaction.action_type] || {\n        emoji: '‚ùì',\n        label: 'Unknown',\n        color: 'gray',\n        sign: ''\n      },\n      formattedAmount: formatPinAmount(transaction.action_type, transaction.pin_change_value),\n      creatorName: transaction.creator?.name || 'System'\n    }));\n\n    return transformedData;\n\n  } catch (error) {\n    console.error('‚ùå Failed to get user PIN transactions:', error);\n    throw error;\n  }\n};\n\n/**\n * Get all PIN transactions (Admin view)\n */\nexport const getAllPinTransactions = async (filters = {}, limit = 100) => {\n  try {\n    let query = supabase\n      .from('pin_transactions')\n      .select(`\n        id,\n        transaction_id,\n        user_id,\n        action_type,\n        pin_change_value,\n        balance_before,\n        balance_after,\n        note,\n        created_at,\n        created_by,\n        related_entity_id,\n        user:profiles!user_id(name, email, role),\n        creator:profiles!created_by(name, email)\n      `)\n      .order('created_at', { ascending: false })\n      .limit(limit);\n\n    // Apply filters\n    if (filters.actionType && filters.actionType !== 'all') {\n      query = query.eq('action_type', filters.actionType);\n    }\n\n    if (filters.userId) {\n      query = query.eq('user_id', filters.userId);\n    }\n\n    if (filters.dateFrom) {\n      query = query.gte('created_at', filters.dateFrom);\n    }\n\n    if (filters.dateTo) {\n      query = query.lte('created_at', filters.dateTo);\n    }\n\n    const { data, error } = await query;\n\n    if (error) throw error;\n\n    // Transform data for UI display\n    const transformedData = data.map(transaction => ({\n      ...transaction,\n      displayConfig: PIN_DISPLAY_CONFIG[transaction.action_type] || {\n        emoji: '‚ùì',\n        label: 'Unknown',\n        color: 'gray',\n        sign: ''\n      },\n      formattedAmount: formatPinAmount(transaction.action_type, transaction.pin_change_value),\n      userName: transaction.user?.name || 'Unknown User',\n      userEmail: transaction.user?.email || 'Unknown',\n      userRole: transaction.user?.role || 'unknown',\n      creatorName: transaction.creator?.name || 'System'\n    }));\n\n    return transformedData;\n\n  } catch (error) {\n    console.error('‚ùå Failed to get all PIN transactions:', error);\n    throw error;\n  }\n};\n\n/**\n * Get user's current PIN balance\n */\nexport const getUserPinBalance = async (userId) => {\n  try {\n    const { data, error } = await supabase\n      .from('profiles')\n      .select('pins')\n      .eq('id', userId)\n      .single();\n\n    if (error) throw error;\n\n    return data.pins || 0;\n\n  } catch (error) {\n    console.error('‚ùå Failed to get user PIN balance:', error);\n    throw error;\n  }\n};\n\n/**\n * Get PIN transaction statistics\n */\nexport const getPinTransactionStats = async (userId = null) => {\n  try {\n    let query = supabase\n      .from('pin_transactions')\n      .select('action_type, pin_change_value');\n\n    if (userId) {\n      query = query.eq('user_id', userId);\n    }\n\n    const { data, error } = await query;\n\n    if (error) throw error;\n\n    // Calculate statistics\n    const stats = {\n      totalTransactions: data.length,\n      customerCreations: data.filter(t => t.action_type === PIN_ACTION_TYPES.CUSTOMER_CREATION).length,\n      adminAllocations: data.filter(t => t.action_type === PIN_ACTION_TYPES.ADMIN_ALLOCATION).length,\n      adminDeductions: data.filter(t => t.action_type === PIN_ACTION_TYPES.ADMIN_DEDUCTION).length,\n      totalPinsAllocated: data\n        .filter(t => t.action_type === PIN_ACTION_TYPES.ADMIN_ALLOCATION)\n        .reduce((sum, t) => sum + Math.abs(t.pin_change_value), 0),\n      totalPinsDeducted: data\n        .filter(t => t.action_type !== PIN_ACTION_TYPES.ADMIN_ALLOCATION)\n        .reduce((sum, t) => sum + Math.abs(t.pin_change_value), 0)\n    };\n\n    return stats;\n\n  } catch (error) {\n    console.error('‚ùå Failed to get PIN transaction stats:', error);\n    throw error;\n  }\n};\n\n// =====================================================\n// UTILITY FUNCTIONS\n// =====================================================\n\n/**\n * Format PIN amount for display based on action type\n */\nexport const formatPinAmount = (actionType, pinChangeValue) => {\n  const config = PIN_DISPLAY_CONFIG[actionType];\n  if (!config) return pinChangeValue.toString();\n\n  const absValue = Math.abs(pinChangeValue);\n  \n  // Force correct sign based on action type\n  if (actionType === PIN_ACTION_TYPES.ADMIN_ALLOCATION) {\n    return `+${absValue}`;\n  } else {\n    return `-${absValue}`;\n  }\n};\n\n/**\n * Get display configuration for action type\n */\nexport const getActionTypeDisplay = (actionType) => {\n  return PIN_DISPLAY_CONFIG[actionType] || {\n    emoji: '‚ùì',\n    label: 'Unknown',\n    color: 'gray',\n    sign: ''\n  };\n};\n\n/**\n * Validate PIN transaction parameters\n */\nexport const validatePinTransaction = (actionType, pinAmount, userId) => {\n  const errors = [];\n\n  if (!Object.values(PIN_ACTION_TYPES).includes(actionType)) {\n    errors.push('Invalid action type');\n  }\n\n  if (!pinAmount || pinAmount <= 0) {\n    errors.push('PIN amount must be greater than 0');\n  }\n\n  if (!userId) {\n    errors.push('User ID is required');\n  }\n\n  return {\n    isValid: errors.length === 0,\n    errors\n  };\n};\n\n/**\n * Real-time PIN balance subscription\n */\nexport const subscribeToPinBalance = (userId, callback) => {\n  const subscription = supabase\n    .channel('pin-balance-changes')\n    .on(\n      'postgres_changes',\n      {\n        event: '*',\n        schema: 'public',\n        table: 'pin_transactions',\n        filter: `user_id=eq.${userId}`\n      },\n      (payload) => {\n        console.log('üì° PIN transaction change detected:', payload);\n        callback(payload);\n      }\n    )\n    .subscribe();\n\n  return subscription;\n};\n\n/**\n * Real-time PIN transactions subscription\n */\nexport const subscribeToPinTransactions = (callback, userId = null) => {\n  let filter = '';\n  if (userId) {\n    filter = `user_id=eq.${userId}`;\n  }\n\n  const subscription = supabase\n    .channel('pin-transactions-changes')\n    .on(\n      'postgres_changes',\n      {\n        event: '*',\n        schema: 'public',\n        table: 'pin_transactions',\n        filter: filter\n      },\n      (payload) => {\n        console.log('üì° PIN transactions change detected:', payload);\n        callback(payload);\n      }\n    )\n    .subscribe();\n\n  return subscription;\n};\n\nexport default {\n  // Core functions\n  executePinTransaction,\n  deductPinForCustomerCreation,\n  adminAllocatePins,\n  adminDeductPins,\n  \n  // Query functions\n  getUserPinTransactions,\n  getAllPinTransactions,\n  getUserPinBalance,\n  getPinTransactionStats,\n  \n  // Utility functions\n  formatPinAmount,\n  getActionTypeDisplay,\n  validatePinTransaction,\n  \n  // Real-time subscriptions\n  subscribeToPinBalance,\n  subscribeToPinTransactions,\n  \n  // Constants\n  PIN_ACTION_TYPES,\n  PIN_DISPLAY_CONFIG\n};\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Phone\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMjIgMTYuOTJ2M2EyIDIgMCAwIDEtMi4xOCAyIDE5Ljc5IDE5Ljc5IDAgMCAxLTguNjMtMy4wNyAxOS41IDE5LjUgMCAwIDEtNi02IDE5Ljc5IDE5Ljc5IDAgMCAxLTMuMDctOC42N0EyIDIgMCAwIDEgNC4xMSAyaDNhMiAyIDAgMCAxIDIgMS43MiAxMi44NCAxMi44NCAwIDAgMCAuNyAyLjgxIDIgMiAwIDAgMS0uNDUgMi4xMUw4LjA5IDkuOTFhMTYgMTYgMCAwIDAgNiA2bDEuMjctMS4yN2EyIDIgMCAwIDEgMi4xMS0uNDUgMTIuODQgMTIuODQgMCAwIDAgMi44MS43QTIgMiAwIDAgMSAyMiAxNi45MnoiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/phone\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Phone = createLucideIcon('Phone', [\n  [\n    'path',\n    {\n      d: 'M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z',\n      key: 'foiqr5',\n    },\n  ],\n]);\n\nexport default Phone;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name CreditCard\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cmVjdCB3aWR0aD0iMjAiIGhlaWdodD0iMTQiIHg9IjIiIHk9IjUiIHJ4PSIyIiAvPgogIDxsaW5lIHgxPSIyIiB4Mj0iMjIiIHkxPSIxMCIgeTI9IjEwIiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/credit-card\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst CreditCard = createLucideIcon('CreditCard', [\n  [\n    'rect',\n    { width: '20', height: '14', x: '2', y: '5', rx: '2', key: 'ynyp8z' },\n  ],\n  ['line', { x1: '2', x2: '22', y1: '10', y2: '10', key: '1b3vmo' }],\n]);\n\nexport default CreditCard;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Trash2\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMyA2aDE4IiAvPgogIDxwYXRoIGQ9Ik0xOSA2djE0YzAgMS0xIDItMiAySDdjLTEgMC0yLTEtMi0yVjYiIC8+CiAgPHBhdGggZD0iTTggNlY0YzAtMSAxLTIgMi0yaDRjMSAwIDIgMSAyIDJ2MiIgLz4KICA8bGluZSB4MT0iMTAiIHgyPSIxMCIgeTE9IjExIiB5Mj0iMTciIC8+CiAgPGxpbmUgeDE9IjE0IiB4Mj0iMTQiIHkxPSIxMSIgeTI9IjE3IiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/trash-2\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Trash2 = createLucideIcon('Trash2', [\n  ['path', { d: 'M3 6h18', key: 'd0wm0j' }],\n  ['path', { d: 'M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6', key: '4alrt4' }],\n  ['path', { d: 'M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2', key: 'v07s0e' }],\n  ['line', { x1: '10', x2: '10', y1: '11', y2: '17', key: '1uufr5' }],\n  ['line', { x1: '14', x2: '14', y1: '11', y2: '17', key: 'xtxkd' }],\n]);\n\nexport default Trash2;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name PenSquare\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTEgNEg0YTIgMiAwIDAgMC0yIDJ2MTRhMiAyIDAgMCAwIDIgMmgxNGEyIDIgMCAwIDAgMi0ydi03IiAvPgogIDxwYXRoIGQ9Ik0xOC41IDIuNWEyLjEyIDIuMTIgMCAwIDEgMyAzTDEyIDE1bC00IDEgMS00WiIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/pen-square\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst PenSquare = createLucideIcon('PenSquare', [\n  [\n    'path',\n    {\n      d: 'M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7',\n      key: '1qinfi',\n    },\n  ],\n  [\n    'path',\n    { d: 'M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z', key: 'w2jsv5' },\n  ],\n]);\n\nexport default PenSquare;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Users\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTYgMjF2LTJhNCA0IDAgMCAwLTQtNEg2YTQgNCAwIDAgMC00IDR2MiIgLz4KICA8Y2lyY2xlIGN4PSI5IiBjeT0iNyIgcj0iNCIgLz4KICA8cGF0aCBkPSJNMjIgMjF2LTJhNCA0IDAgMCAwLTMtMy44NyIgLz4KICA8cGF0aCBkPSJNMTYgMy4xM2E0IDQgMCAwIDEgMCA3Ljc1IiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/users\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Users = createLucideIcon('Users', [\n  ['path', { d: 'M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2', key: '1yyitq' }],\n  ['circle', { cx: '9', cy: '7', r: '4', key: 'nufk8' }],\n  ['path', { d: 'M22 21v-2a4 4 0 0 0-3-3.87', key: 'kshegd' }],\n  ['path', { d: 'M16 3.13a4 4 0 0 1 0 7.75', key: '1da9ce' }],\n]);\n\nexport default Users;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Search\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8Y2lyY2xlIGN4PSIxMSIgY3k9IjExIiByPSI4IiAvPgogIDxwYXRoIGQ9Im0yMSAyMS00LjMtNC4zIiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/search\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Search = createLucideIcon('Search', [\n  ['circle', { cx: '11', cy: '11', r: '8', key: '4ej97u' }],\n  ['path', { d: 'm21 21-4.3-4.3', key: '1qie3q' }],\n]);\n\nexport default Search;\n"],"names":["Plus","createLucideIcon","d","key","user","useAuth","showSuccess","showError","showWarning","handleApiError","useToast","useScrollAnimation","customers","setCustomers","useState","promoters","setPromoters","adminUsers","setAdminUsers","filteredCustomers","setFilteredCustomers","searchTerm","setSearchTerm","statusFilter","setStatusFilter","showModal","setShowModal","showDeleteModal","setShowDeleteModal","editingCustomer","setEditingCustomer","deletingCustomer","setDeletingCustomer","loading","setLoading","showPaymentManager","setShowPaymentManager","selectedCustomerForPayments","setSelectedCustomerForPayments","useEffect","loadCustomers","loadPromoters","loadAdminUsers","filtered","filter","customer","name","toLowerCase","email","phone","customerId","customer_id","searchLower","includes","status","async","data","error","supabase","from","select","eq","order","ascending","console","log","concat","length","closeModal","closeDeleteModal","_jsxs","_Fragment","children","_jsx","SharedStyles","AdminNavbar","UnifiedBackground","className","UnifiedButton","onClick","openCreateModal","UnifiedCard","Search","type","placeholder","value","onChange","e","target","SkeletonTable","rows","columns","colSpan","map","id","customerName","customerEmail","customerPhone","systemCustomerID","promoterName","promoterId","parent_promoter_id","promoter","find","p","getPromoterName","promoterSystemId","promoter_id","getPromoterSystemId","Users","Mail","Phone","currentStatus","newStatus","update","MessageFormatter","ENTITY_NAMES","CUSTOMER","toggleCustomerStatus","title","openPaymentManager","CreditCard","openEditModal","Edit","openDeleteModal","Trash2","UnifiedCustomerForm","isOpen","onClose","onSubmit","formData","mobile","state","city","pincode","address","parentPromoter","updated_at","Date","toISOString","success","ACTIONS","UPDATE","cardNo","Error","dbParams","p_name","p_mobile","p_state","p_city","p_pincode","p_address","p_customer_id","p_password","password","p_parent_promoter_id","p_email","promoterData","promoterError","single","promoterPins","pins","customerResult","customerError","rpc","message","pinResult","pinTransactionService","CREATE","balance_after","getAllAvailableParents","allPromoters","admin","role","isAdmin","isEditing","initialData","currentUserRole","PaymentManager","closePaymentManager","currentUser","delete","DELETE","PIN_ACTION_TYPES","CUSTOMER_CREATION","ADMIN_ALLOCATION","ADMIN_DEDUCTION","PIN_DISPLAY_CONFIG","emoji","label","color","sign","getUserPinBalance","userId","formatPinAmount","actionType","pinChangeValue","toString","absValue","Math","abs","getActionTypeDisplay","executePinTransaction","createdBy","relatedEntityId","relatedEntityName","_ref","p_user_id","p_action_type","p_pin_change_value","p_created_by","p_related_entity_id","p_related_entity_name","deductPinForCustomerCreation","p_promoter_id","p_customer_name","adminAllocatePins","targetUserId","pinAmount","adminId","p_target_user_id","p_pin_amount","p_admin_id","adminDeductPins","getUserPinTransactions","limit","arguments","undefined","transaction","_transaction$creator","_objectSpread","displayConfig","action_type","formattedAmount","pin_change_value","creatorName","creator","getAllPinTransactions","filters","query","dateFrom","gte","dateTo","lte","_transaction$user","_transaction$user2","_transaction$user3","_transaction$creator2","userName","userEmail","userRole","getPinTransactionStats","totalTransactions","customerCreations","t","adminAllocations","adminDeductions","totalPinsAllocated","reduce","sum","totalPinsDeducted","validatePinTransaction","errors","Object","values","push","isValid","subscribeToPinBalance","callback","channel","on","event","schema","table","payload","subscribe","subscribeToPinTransactions","width","height","x","y","rx","x1","x2","y1","y2","PenSquare","cx","cy","r"],"sourceRoot":""}
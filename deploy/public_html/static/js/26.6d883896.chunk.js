"use strict";(self.webpackChunkbrightplanet_ventures=self.webpackChunkbrightplanet_ventures||[]).push([[26],{26:(e,s,t)=>{t.r(s),t.d(s,{default:()=>_});var a=t(5043),r=t(6621),n=t(3216),l=t(5229),i=t(254),c=t(8268),d=t(2555),o=t(9213),x=t(1065),m=t(987),u=t(2699),h=t(430),g=t(3959),p=t(579);const j=e=>{let{isOpen:s,onClose:t,promoterId:r,onSuccess:n,onError:l}=e;const[c,j]=(0,a.useState)({requestedPins:"",reason:""}),[f,b]=(0,a.useState)({}),[y,N]=(0,a.useState)(!1),[v,w]=(0,a.useState)(!1);(0,a.useEffect)(()=>{s&&r&&P()},[s,r]);const P=async()=>{try{const e=await i.Ay.hasPendingRequests(r);w(e)}catch(e){console.error("Failed to check pending requests:",e)}},A=()=>{y||(j({requestedPins:"",reason:""}),b({}),t())};return s?(0,p.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:(0,p.jsx)(g.Xg,{className:"w-full max-w-md",variant:"glassDark",children:(0,p.jsxs)("div",{className:"p-6",children:[(0,p.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,p.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,p.jsx)("div",{className:"w-10 h-10 bg-gradient-to-r from-orange-500 to-yellow-500 rounded-xl flex items-center justify-center",children:(0,p.jsx)(o.A,{className:"w-5 h-5 text-white"})}),(0,p.jsx)("h3",{className:"text-xl font-semibold text-white",children:"Request PINs"})]}),(0,p.jsx)("button",{onClick:A,disabled:y,className:"text-gray-300 hover:text-white transition-colors disabled:opacity-50",children:(0,p.jsx)(x.A,{className:"w-5 h-5"})})]}),v&&(0,p.jsx)("div",{className:"mb-6 p-4 bg-yellow-500/10 border border-yellow-500/30 rounded-lg",children:(0,p.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,p.jsx)(m.A,{className:"w-5 h-5 text-yellow-400 mt-0.5 flex-shrink-0"}),(0,p.jsxs)("div",{children:[(0,p.jsx)("p",{className:"text-yellow-300 text-sm font-medium",children:"Pending Request Found"}),(0,p.jsx)("p",{className:"text-gray-300 text-sm mt-1",children:"You already have a pending PIN request. Please wait for admin approval before submitting a new request."})]})]})}),(0,p.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),(()=>{const e=i.Ay.validatePinRequest(parseInt(c.requestedPins),c.reason);if(!e.isValid){const s={};return e.errors.forEach(e=>{e.includes("PINs must be greater")||e.includes("more than 1000")?s.requestedPins=e:e.includes("Reason")&&(s.reason=e)}),b(s),!1}return b({}),!0})())if(v)l("You already have a pending PIN request. Please wait for admin approval.");else{N(!0);try{const e=await i.Ay.submitPinRequest(r,parseInt(c.requestedPins),c.reason||null);n("PIN Request Submitted Successfully!\n\nRequest ID: ".concat(e.request_number,"\nRequested PINs: ").concat(c.requestedPins,"\nStatus: Pending Admin Approval")),j({requestedPins:"",reason:""}),b({}),t()}catch(s){console.error("PIN request submission failed:",s),l("Failed to Submit PIN Request\n\nError: ".concat(s.message))}finally{N(!1)}}},className:"space-y-6",children:[(0,p.jsxs)("div",{children:[(0,p.jsxs)("label",{className:"block text-gray-300 text-sm font-medium mb-2",children:["Number of PINs ",(0,p.jsx)("span",{className:"text-red-400",children:"*"})]}),(0,p.jsx)("input",{type:"number",min:"1",max:"1000",value:c.requestedPins,onChange:e=>j((0,d.A)((0,d.A)({},c),{},{requestedPins:e.target.value})),placeholder:"Enter quantity (e.g., 10)",disabled:y||v,className:"w-full px-4 py-3 bg-gray-800/50 border rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 transition-colors ".concat(f.requestedPins?"border-red-500/50 focus:ring-red-500/20":"border-gray-700/50 focus:border-orange-500/50 focus:ring-orange-500/20")}),f.requestedPins&&(0,p.jsx)("p",{className:"text-red-400 text-xs mt-1",children:f.requestedPins}),(0,p.jsx)("p",{className:"text-gray-400 text-xs mt-1",children:"Request between 1-1000 PINs"})]}),(0,p.jsxs)("div",{children:[(0,p.jsxs)("label",{className:"block text-gray-300 text-sm font-medium mb-2",children:["Purpose/Reason ",(0,p.jsx)("span",{className:"text-gray-500",children:"(Optional)"})]}),(0,p.jsx)("textarea",{value:c.reason,onChange:e=>j((0,d.A)((0,d.A)({},c),{},{reason:e.target.value})),placeholder:"Explain why you need additional PINs (optional but encouraged)",rows:3,maxLength:500,disabled:y||v,className:"w-full px-4 py-3 bg-gray-800/50 border rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 resize-none transition-colors ".concat(f.reason?"border-red-500/50 focus:ring-red-500/20":"border-gray-700/50 focus:border-orange-500/50 focus:ring-orange-500/20")}),f.reason&&(0,p.jsx)("p",{className:"text-red-400 text-xs mt-1",children:f.reason}),(0,p.jsxs)("p",{className:"text-gray-400 text-xs mt-1",children:[c.reason.length,"/500 characters"]})]}),(0,p.jsx)("div",{className:"bg-blue-500/10 border border-blue-500/30 rounded-lg p-4",children:(0,p.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,p.jsx)(u.A,{className:"w-5 h-5 text-blue-400 mt-0.5 flex-shrink-0"}),(0,p.jsxs)("div",{children:[(0,p.jsx)("p",{className:"text-blue-300 text-sm font-medium",children:"PIN Request Process"}),(0,p.jsx)("p",{className:"text-gray-300 text-sm mt-1",children:"Your request will be sent to the admin for review. Once approved, the requested PINs will be automatically allocated to your account and you'll receive a notification."})]})]})}),(0,p.jsxs)("div",{className:"flex justify-end space-x-3 pt-2",children:[(0,p.jsx)(g.Rq,{type:"button",variant:"secondary",onClick:A,disabled:y,children:"Cancel"}),(0,p.jsx)(g.Rq,{type:"submit",disabled:!c.requestedPins||y||v,className:"flex items-center space-x-2 bg-gradient-to-r from-orange-500 to-yellow-500 hover:from-orange-600 hover:to-yellow-600 disabled:opacity-50 disabled:cursor-not-allowed",children:y?(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-white/30 border-t-white"}),(0,p.jsx)("span",{children:"Submitting..."})]}):(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(h.A,{className:"w-4 h-4"}),(0,p.jsx)("span",{children:"Submit Request"})]})})]})]})]})})}):null};t(1537);const f=function(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{autoRefresh:t=!0,refreshInterval:r=3e4,enableRealtime:n=!0}=s,[i,c]=(0,a.useState)(0),[d,o]=(0,a.useState)(!0),[x,m]=(0,a.useState)(null),[u,h]=(0,a.useState)(null),g=(0,a.useRef)(null),p=(0,a.useRef)(null),j=(0,a.useCallback)(async()=>{if(e)try{o(!0),m(null);const s=await l.Ay.getUserPinBalance(e);c(s),h(new Date)}catch(s){console.error("Failed to load PIN balance:",s),m(s.message)}finally{o(!1)}},[e]),f=(0,a.useCallback)(()=>{j()},[j]);return(0,a.useEffect)(()=>{if(!e||!n)return;const s=l.Ay.subscribeToPinBalance(e,e=>{console.log("\ud83d\udce1 PIN balance change detected:",e),j()});return g.current=s,()=>{g.current&&g.current.unsubscribe()}},[e,n,j]),(0,a.useEffect)(()=>{if(!t||!e)return;const s=setInterval(()=>{j()},r);return p.current=s,()=>{p.current&&clearInterval(p.current)}},[t,r,j,e]),(0,a.useEffect)(()=>{j()},[j]),{balance:i,loading:d,error:x,lastUpdated:u,refresh:f}},b=function(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{limit:t=50,autoRefresh:r=!0,refreshInterval:n=6e4,enableRealtime:i=!0,filters:c={}}=s,[d,o]=(0,a.useState)([]),[x,m]=(0,a.useState)(!0),[u,h]=(0,a.useState)(null),[g,p]=(0,a.useState)(null),j=(0,a.useRef)(null),f=(0,a.useRef)(null),b=(0,a.useCallback)(async()=>{if(e)try{m(!0),h(null);const s=await l.Ay.getUserPinTransactions(e,t);o(s),p(new Date)}catch(s){console.error("Failed to load PIN transactions:",s),h(s.message)}finally{m(!1)}},[e,t]),y=(0,a.useCallback)(()=>{b()},[b]);return(0,a.useEffect)(()=>{if(!e||!i)return;const s=l.Ay.subscribeToPinTransactions(e=>{console.log("\ud83d\udce1 PIN transactions change detected:",e),b()},e);return j.current=s,()=>{j.current&&j.current.unsubscribe()}},[e,i,b]),(0,a.useEffect)(()=>{if(!r||!e)return;const s=setInterval(()=>{b()},n);return f.current=s,()=>{f.current&&clearInterval(f.current)}},[r,n,b,e]),(0,a.useEffect)(()=>{b()},[b]),{transactions:d,loading:x,error:u,lastUpdated:g,refresh:y}},y=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{autoRefresh:t=!0,refreshInterval:r=12e4,enableRealtime:n=!1}=s,[i,c]=(0,a.useState)({totalTransactions:0,customerCreations:0,adminAllocations:0,adminDeductions:0,totalPinsAllocated:0,totalPinsDeducted:0}),[d,o]=(0,a.useState)(!0),[x,m]=(0,a.useState)(null),[u,h]=(0,a.useState)(null),g=(0,a.useRef)(null),p=(0,a.useCallback)(async()=>{try{o(!0),m(null);const s=await l.Ay.getPinTransactionStats(e);c(s),h(new Date)}catch(s){console.error("Failed to load PIN stats:",s),m(s.message)}finally{o(!1)}},[e]),j=(0,a.useCallback)(()=>{p()},[p]);return(0,a.useEffect)(()=>{if(!t)return;const e=setInterval(()=>{p()},r);return g.current=e,()=>{g.current&&clearInterval(g.current)}},[t,r,p]),(0,a.useEffect)(()=>{p()},[p]),{stats:i,loading:d,error:x,lastUpdated:u,refresh:j}},N=function(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const t=f(e,s),r=b(e,s),n=y(e,s),l=(0,a.useCallback)(()=>{t.refresh(),r.refresh(),n.refresh()},[t.refresh,r.refresh,n.refresh]);return{balance:t,transactions:r,stats:n,refreshAll:l,loading:t.loading||r.loading||n.loading}};var v=t(5559),w=t(2631),P=t(2380),A=t(98),q=t(9256),k=t(917);const _=function(){var e,s,t,l,d,m,u;const{user:f}=(0,r.As)();(0,n.Zp)(),(0,g.r9)();const[b,y]=(0,a.useState)("requests"),[_,I]=(0,a.useState)(""),[S,R]=(0,a.useState)("all"),[C,D]=(0,a.useState)(!1),[E,T]=(0,a.useState)([]),[F,L]=(0,a.useState)(!1),[M,B]=(0,a.useState)({totalRequests:0,pendingRequests:0,approvedRequests:0,rejectedRequests:0}),[U,z]=(0,a.useState)({show:!1,message:"",type:""}),{balance:X,transactions:Y,stats:O,refreshAll:Q,loading:V}=N(null===f||void 0===f?void 0:f.id,{autoRefresh:!0,refreshInterval:3e4,enableRealtime:!0});(0,a.useEffect)(()=>{var e;console.log("\ud83d\udd0d PIN Management Data:",{balance:X.balance,transactionsCount:null===(e=Y.transactions)||void 0===e?void 0:e.length,loading:V,userId:null===f||void 0===f?void 0:f.id})},[X.balance,Y.transactions,V,null===f||void 0===f?void 0:f.id]);const H=function(e){z({show:!0,message:e,type:arguments.length>1&&void 0!==arguments[1]?arguments[1]:"success"}),setTimeout(()=>{z({show:!1,message:"",type:""})},4e3)},W=(null===(e=Y.transactions)||void 0===e?void 0:e.filter(e=>{const s=!_||e.transaction_id.toLowerCase().includes(_.toLowerCase())||e.note.toLowerCase().includes(_.toLowerCase()),t="all"===S||e.action_type===S;return s&&t}))||[],Z=async()=>{try{L(!0);const e=await i.Ay.getPinRequests(f.id),s=await i.Ay.getPinRequestStats(f.id);T(e),B(s)}catch(e){console.error("Failed to load PIN requests:",e),H("Failed to load PIN requests","error")}finally{L(!1)}};return(0,a.useEffect)(()=>{null!==f&&void 0!==f&&f.id&&Z()},[null===f||void 0===f?void 0:f.id]),V||F?(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(g.wE,{}),(0,p.jsx)(v.A,{}),(0,p.jsx)(g.dQ,{children:(0,p.jsx)(w.YB,{type:"pin-management"})})]}):(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(g.wE,{}),(0,p.jsx)(v.A,{}),(0,p.jsxs)(g.dQ,{children:[(0,p.jsx)("div",{className:"min-h-screen p-8",children:(0,p.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,p.jsxs)("div",{className:"flex justify-between items-center mb-8","data-animate":!0,children:[(0,p.jsxs)("div",{children:[(0,p.jsx)("h1",{className:"text-4xl font-bold text-white mb-2",children:"PIN Management"}),(0,p.jsx)("p",{className:"text-gray-300",children:"Monitor your PIN balance and request new PINs"})]}),(0,p.jsxs)(g.Rq,{onClick:()=>D(!0),className:"flex items-center space-x-2",children:[(0,p.jsx)(P.A,{className:"w-5 h-5"}),(0,p.jsx)("span",{children:"Request PINs"})]})]}),(0,p.jsx)("div",{className:"flex space-x-1 mb-8","data-animate":!0,children:[{id:"requests",label:"Transaction History",icon:A.A},{id:"pin-requests",label:"PIN Requests",icon:h.A}].map(e=>{const s=e.icon;return(0,p.jsxs)("button",{onClick:()=>y(e.id),className:"flex items-center space-x-2 px-6 py-3 rounded-lg font-medium transition-all duration-300 ".concat(b===e.id?"bg-gradient-to-r from-indigo-500 to-purple-600 text-white shadow-lg":"bg-gray-800/50 text-gray-400 hover:bg-gray-700/50 hover:text-white"),children:[(0,p.jsx)(s,{className:"w-5 h-5"}),(0,p.jsx)("span",{children:e.label})]},e.id)})}),(0,p.jsx)("div",{className:"mb-8","data-animate":!0,children:(0,p.jsx)(g.Xg,{variant:"glassDark",className:"p-6",children:(0,p.jsxs)("div",{className:"flex items-center justify-between",children:[(0,p.jsxs)("div",{children:[(0,p.jsx)("p",{className:"text-gray-400 text-sm mb-1",children:"Current PIN Balance"}),(0,p.jsx)("h2",{className:"text-4xl font-bold text-white",children:X.balance||0}),(0,p.jsxs)("p",{className:"text-gray-500 text-xs mt-1",children:["Last updated: ",X.lastUpdated?new Date(X.lastUpdated).toLocaleTimeString():"Never"]})]}),(0,p.jsx)("div",{className:"bg-gradient-to-br from-indigo-500 to-purple-600 p-4 rounded-full",children:(0,p.jsx)(o.A,{className:"w-8 h-8 text-white"})})]})})}),(0,p.jsx)("div",{className:"mb-8","data-animate":!0,children:(0,p.jsx)(c.Wx,{stats:{totalTransactions:(null===(s=Y.transactions)||void 0===s?void 0:s.length)||0,customerCreations:(null===(t=Y.transactions)||void 0===t?void 0:t.filter(e=>"customer_creation"===e.action_type).reduce((e,s)=>e+Math.abs(s.pin_change_value||0),0))||0,adminAllocations:(null===(l=Y.transactions)||void 0===l?void 0:l.filter(e=>"admin_allocation"===e.action_type).reduce((e,s)=>e+Math.abs(s.pin_change_value||0),0))||0,adminDeductions:(null===(d=Y.transactions)||void 0===d?void 0:d.filter(e=>"admin_deduction"===e.action_type).reduce((e,s)=>e+Math.abs(s.pin_change_value||0),0))||0,totalPinsAllocated:(null===(m=Y.transactions)||void 0===m?void 0:m.filter(e=>"admin_allocation"===e.action_type).reduce((e,s)=>e+Math.abs(s.pin_change_value||0),0))||0,totalPinsDeducted:(null===(u=Y.transactions)||void 0===u?void 0:u.filter(e=>"admin_allocation"!==e.action_type).reduce((e,s)=>e+Math.abs(s.pin_change_value||0),0))||0},loading:V})}),(0,p.jsx)(g.Xg,{className:"p-6 mb-8",variant:"glassDark","data-animate":!0,children:(0,p.jsxs)("div",{className:"flex flex-col md:flex-row gap-4",children:[(0,p.jsxs)("div",{className:"flex-1 relative",children:[(0,p.jsx)(q.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),(0,p.jsx)("input",{type:"text",placeholder:"Search by transaction ID or notes...",value:_,onChange:e=>I(e.target.value),className:"w-full pl-10 pr-4 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-green-500"})]}),(0,p.jsx)("div",{className:"md:w-48",children:(0,p.jsxs)("select",{value:S,onChange:e=>R(e.target.value),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-green-500",children:[(0,p.jsx)("option",{value:"all",children:"All Actions"}),(0,p.jsx)("option",{value:"customer_creation",children:"Customer Creation"}),(0,p.jsx)("option",{value:"admin_allocation",children:"Admin Allocation"}),(0,p.jsx)("option",{value:"admin_deduction",children:"Admin Deduction"})]})})]})}),"requests"===b&&(0,p.jsx)(g.Xg,{className:"overflow-hidden",variant:"glassDark","data-animate":!0,children:V?(0,p.jsx)("div",{className:"flex items-center justify-center py-20",children:(0,p.jsxs)("div",{className:"text-center",children:[(0,p.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-400 mx-auto mb-4"}),(0,p.jsx)("p",{className:"text-gray-400",children:"Loading transaction history..."})]})}):(0,p.jsx)("div",{className:"overflow-x-auto",children:(0,p.jsxs)("table",{className:"w-full",children:[(0,p.jsx)("thead",{className:"bg-gray-800/50",children:(0,p.jsxs)("tr",{children:[(0,p.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Transaction ID"}),(0,p.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Pins"}),(0,p.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Action Type"}),(0,p.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Date"}),(0,p.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Notes"})]})}),(0,p.jsx)("tbody",{className:"divide-y divide-gray-700/50",children:0===W.length?(0,p.jsx)("tr",{children:(0,p.jsx)("td",{colSpan:"5",className:"px-6 py-12 text-center text-gray-400",children:"No transactions found"})}):W.map(e=>(0,p.jsxs)("tr",{className:"hover:bg-gray-800/30 transition-colors",children:[(0,p.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,p.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-purple-100 text-purple-800",children:e.transaction_id})}),(0,p.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,p.jsxs)("div",{className:"flex items-center",children:[(0,p.jsx)(o.A,{className:"w-4 h-4 mr-2 ".concat(e.pin_change_value>0?"text-green-400":"text-red-400")}),(0,p.jsxs)("span",{className:"text-lg font-bold ".concat(e.pin_change_value>0?"text-green-300":"text-red-300"),children:[e.pin_change_value>0?"+":"",e.pin_change_value]})]})}),(0,p.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,p.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ".concat("customer_creation"===e.action_type?"bg-blue-100 text-blue-800":"admin_allocation"===e.action_type?"bg-green-100 text-green-800":"admin_deduction"===e.action_type?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"),children:"customer_creation"===e.action_type?"\u274c Customer Creation":"admin_allocation"===e.action_type?"\u2705 Admin Allocation":"admin_deduction"===e.action_type?"\u274c Admin Deduction":"\u2753 Unknown"})}),(0,p.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-300",children:e.created_at?new Date(e.created_at).toLocaleDateString():"N/A"}),(0,p.jsx)("td",{className:"px-6 py-4 text-sm text-gray-300 max-w-xs truncate",children:e.note||"No notes"})]},e.id))})]})})}),"pin-requests"===b&&(0,p.jsx)(g.Xg,{className:"overflow-hidden",variant:"glassDark","data-animate":!0,children:F?(0,p.jsx)("div",{className:"flex items-center justify-center py-20",children:(0,p.jsxs)("div",{className:"text-center",children:[(0,p.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-400 mx-auto mb-4"}),(0,p.jsx)("p",{className:"text-gray-400",children:"Loading PIN requests..."})]})}):(0,p.jsx)("div",{className:"overflow-x-auto",children:(0,p.jsxs)("table",{className:"w-full",children:[(0,p.jsx)("thead",{className:"bg-gray-800/50",children:(0,p.jsxs)("tr",{children:[(0,p.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Request ID"}),(0,p.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"PINs"}),(0,p.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Status"}),(0,p.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Date"}),(0,p.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Reason"})]})}),(0,p.jsx)("tbody",{className:"divide-y divide-gray-700/50",children:0===E.length?(0,p.jsx)("tr",{children:(0,p.jsx)("td",{colSpan:"5",className:"px-6 py-12 text-center text-gray-400",children:"No PIN requests found. Submit your first request to get started!"})}):E.map(e=>(0,p.jsxs)("tr",{className:"hover:bg-gray-800/30 transition-colors",children:[(0,p.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,p.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-purple-100 text-purple-800",children:e.formattedRequestNumber||e.request_number})}),(0,p.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,p.jsxs)("div",{className:"flex items-center",children:[(0,p.jsx)(o.A,{className:"w-4 h-4 mr-2 text-blue-400"}),(0,p.jsx)("span",{className:"text-lg font-bold text-white",children:e.requested_pins||e.quantity})]})}),(0,p.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,p.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ".concat("pending"===e.status?"bg-yellow-100 text-yellow-800":"approved"===e.status?"bg-green-100 text-green-800":"rejected"===e.status?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"),children:"pending"===e.status?"\u23f3 Pending":"approved"===e.status?"\u2705 Approved":"rejected"===e.status?"\u274c Rejected":"\u2753 Unknown"})}),(0,p.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-300",children:e.created_at?new Date(e.created_at).toLocaleDateString():"N/A"}),(0,p.jsx)("td",{className:"px-6 py-4 text-sm text-gray-300 max-w-xs truncate",children:e.reason||"No reason provided"})]},e.id))})]})})})]})}),U.show&&(0,p.jsx)("div",{className:"fixed top-4 right-4 z-50 max-w-md p-4 rounded-lg shadow-lg border transition-all duration-300 ".concat("success"===U.type?"bg-green-500/10 border-green-500/30 text-green-300":"bg-red-500/10 border-red-500/30 text-red-300"),children:(0,p.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,p.jsx)("div",{className:"w-6 h-6 rounded-full flex items-center justify-center ".concat("success"===U.type?"bg-green-500":"bg-red-500"),children:"success"===U.type?(0,p.jsx)(k.A,{className:"w-4 h-4 text-white"}):(0,p.jsx)(x.A,{className:"w-4 h-4 text-white"})}),(0,p.jsx)("div",{className:"flex-1",children:(0,p.jsx)("p",{className:"text-sm font-medium whitespace-pre-line",children:U.message})}),(0,p.jsx)("button",{onClick:()=>z({show:!1,message:"",type:""}),className:"text-gray-400 hover:text-white transition-colors",children:(0,p.jsx)(x.A,{className:"w-4 h-4"})})]})}),(0,p.jsx)(j,{isOpen:C,onClose:()=>D(!1),promoterId:null===f||void 0===f?void 0:f.id,onSuccess:e=>{H(e,"success"),Z(),Q()},onError:e=>{H(e,"error")}})]})]})}},2631:(e,s,t)=>{t.d(s,{YB:()=>j});t(5043);var a=t(579);const r="rgba(247, 147, 30, 0.1)",n="rgba(255, 255, 255, 0.05)",l="\n  @keyframes bp-skeleton-shimmer {\n    0% {\n      background-position: -200px 0;\n    }\n    100% {\n      background-position: calc(200px + 100%) 0;\n    }\n  }\n  \n  .bp-skeleton-shimmer {\n    background: linear-gradient(\n      90deg,\n      ".concat(n," 25%,\n      ").concat(r," 50%,\n      ").concat(n," 75%\n    );\n    background-size: 200px 100%;\n    animation: bp-skeleton-shimmer 1.5s infinite linear;\n  }\n");if("undefined"!==typeof document&&!document.getElementById("bp-skeleton-styles")){const e=document.createElement("style");e.id="bp-skeleton-styles",e.textContent=l,document.head.appendChild(e)}const i=e=>{let{width:s="100%",height:t="1rem",className:r="",rounded:l="rounded-lg",animate:i=!0}=e;return(0,a.jsx)("div",{className:"".concat(l," border border-white/10 ").concat(i?"bp-skeleton-shimmer":""," ").concat(r),style:{width:s,height:t,background:i?void 0:n}})},c=e=>{let{className:s=""}=e;return(0,a.jsxs)("div",{className:"bg-white/5 backdrop-blur-sm border border-slate-200/10 rounded-xl p-4 h-full ".concat(s),children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,a.jsx)(i,{width:"3rem",height:"3rem",rounded:"rounded-xl"}),(0,a.jsx)(i,{width:"3rem",height:"2rem"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(i,{width:"70%",height:"1rem"}),(0,a.jsx)(i,{width:"90%",height:"0.75rem"})]})]})},d=e=>{let{rows:s=5,columns:t=4,className:r=""}=e;return(0,a.jsxs)("div",{className:"bg-white/5 backdrop-blur-sm border border-slate-200/10 rounded-xl overflow-hidden ".concat(r),children:[(0,a.jsx)("div",{className:"bg-white/5 p-4 border-b border-white/10",children:(0,a.jsx)("div",{className:"grid gap-4",style:{gridTemplateColumns:"repeat(".concat(t,", 1fr)")},children:Array.from({length:t}).map((e,s)=>(0,a.jsx)(i,{width:"80%",height:"1rem"},s))})}),(0,a.jsx)("div",{className:"divide-y divide-white/10",children:Array.from({length:s}).map((e,s)=>(0,a.jsx)("div",{className:"p-4",children:(0,a.jsx)("div",{className:"grid gap-4",style:{gridTemplateColumns:"repeat(".concat(t,", 1fr)")},children:Array.from({length:t}).map((e,s)=>(0,a.jsx)(i,{width:0===s?"90%":"70%",height:"1rem"},s))})},s))})]})},o=e=>{let{count:s=2,className:t=""}=e;return(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-".concat(Math.min(s,4)," gap-4 ").concat(t),children:Array.from({length:s}).map((e,s)=>(0,a.jsx)(c,{},s))})},x=e=>{let{count:s=6,className:t=""}=e;return(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 ".concat(t),children:Array.from({length:s}).map((e,s)=>(0,a.jsxs)("div",{className:"bg-white/5 backdrop-blur-sm border border-slate-200/10 rounded-xl p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(i,{width:"8rem",height:"0.75rem"}),(0,a.jsx)(i,{width:"4rem",height:"2rem"})]}),(0,a.jsx)(i,{width:"3rem",height:"3rem",rounded:"rounded-xl"})]}),(0,a.jsx)("div",{className:"mt-4",children:(0,a.jsx)(i,{width:"60%",height:"0.75rem"})})]},s))})},m=e=>{let{className:s=""}=e;return(0,a.jsx)("div",{className:"bg-white/5 backdrop-blur-sm border border-slate-200/10 rounded-xl p-4 ".concat(s),children:(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsx)(i,{width:"3rem",height:"3rem",rounded:"rounded-full"}),(0,a.jsxs)("div",{className:"flex-1 space-y-2",children:[(0,a.jsx)(i,{width:"60%",height:"1rem"}),(0,a.jsx)(i,{width:"40%",height:"0.75rem"})]}),(0,a.jsxs)("div",{className:"flex space-x-2",children:[(0,a.jsx)(i,{width:"2rem",height:"2rem",rounded:"rounded-lg"}),(0,a.jsx)(i,{width:"2rem",height:"2rem",rounded:"rounded-lg"})]})]})})},u=e=>{let{className:s="",showButton:t=!1}=e;return(0,a.jsxs)("div",{className:"flex justify-between items-center mb-8 ".concat(s),children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(i,{width:"15rem",height:"2.5rem",className:"mb-2"}),(0,a.jsx)(i,{width:"20rem",height:"1rem"})]}),t&&(0,a.jsx)(i,{width:"8rem",height:"2.5rem",rounded:"rounded-lg"})]})},h=e=>{let{tabs:s=3,className:t=""}=e;return(0,a.jsx)("div",{className:"flex space-x-1 mb-8 ".concat(t),children:Array.from({length:s}).map((e,s)=>(0,a.jsx)(i,{width:"8rem",height:"3rem",rounded:"rounded-lg"},s))})},g=e=>{let{className:s=""}=e;return(0,a.jsx)("div",{className:"bg-white/5 backdrop-blur-sm border border-slate-200/10 rounded-xl p-6 mb-8 ".concat(s),children:(0,a.jsxs)("div",{className:"flex flex-col md:flex-row gap-4",children:[(0,a.jsx)("div",{className:"flex-1",children:(0,a.jsx)(i,{width:"100%",height:"2.5rem",rounded:"rounded-lg"})}),(0,a.jsx)("div",{className:"md:w-48",children:(0,a.jsx)(i,{width:"100%",height:"2.5rem",rounded:"rounded-lg"})})]})})},p=e=>{let{className:s=""}=e;return(0,a.jsxs)("div",{className:"bg-white/5 backdrop-blur-sm border border-slate-200/10 rounded-xl p-6 ".concat(s),children:[(0,a.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(i,{width:"8rem",height:"1rem"}),(0,a.jsx)(i,{width:"6rem",height:"0.75rem"})]}),(0,a.jsx)(i,{width:"4rem",height:"1.5rem",rounded:"rounded-full"})]}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)(i,{width:"4rem",height:"0.75rem"}),(0,a.jsx)(i,{width:"6rem",height:"0.75rem"})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)(i,{width:"5rem",height:"0.75rem"}),(0,a.jsx)(i,{width:"7rem",height:"0.75rem"})]})]}),(0,a.jsxs)("div",{className:"flex justify-end space-x-2 mt-4 pt-4 border-t border-white/10",children:[(0,a.jsx)(i,{width:"4rem",height:"2rem",rounded:"rounded-lg"}),(0,a.jsx)(i,{width:"4rem",height:"2rem",rounded:"rounded-lg"})]})]})},j=e=>{let{type:s="dashboard"}=e;switch(s){case"dashboard":return(0,a.jsx)("div",{className:"min-h-screen p-8",children:(0,a.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,a.jsx)(u,{}),(0,a.jsxs)("div",{className:"space-y-8",children:[(0,a.jsx)(o,{count:4}),(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Array.from({length:6}).map((e,s)=>(0,a.jsx)(c,{},s))})]})]})});case"pin-management":return(0,a.jsx)("div",{className:"min-h-screen p-8",children:(0,a.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,a.jsx)(u,{showButton:!0}),(0,a.jsx)(h,{tabs:3}),(0,a.jsx)(x,{count:6}),(0,a.jsx)(g,{}),(0,a.jsx)(d,{rows:8,columns:5})]})});case"customers":case"promoters":return(0,a.jsx)("div",{className:"min-h-screen p-8",children:(0,a.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,a.jsx)(u,{showButton:!0}),(0,a.jsx)(g,{}),(0,a.jsx)("div",{className:"space-y-4",children:Array.from({length:8}).map((e,s)=>(0,a.jsx)(m,{},s))})]})});case"withdrawals":return(0,a.jsx)("div",{className:"min-h-screen p-8",children:(0,a.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,a.jsx)(u,{}),(0,a.jsx)(g,{}),(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Array.from({length:6}).map((e,s)=>(0,a.jsx)(p,{},s))})]})});default:return(0,a.jsx)(j,{type:"dashboard"})}}},2699:(e,s,t)=>{t.d(s,{A:()=>a});const a=(0,t(3797).A)("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z",key:"3xmgem"}]])}}]);
//# sourceMappingURL=26.6d883896.chunk.js.map
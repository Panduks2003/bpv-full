{"version":3,"file":"static/js/478.0a63003a.chunk.js","mappings":"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","sources":["../node_modules/lucide-react/src/icons/file-text.ts","services/pinRequestService.js","../node_modules/lucide-react/src/icons/send.ts","../node_modules/lucide-react/src/icons/x-circle.ts","components/PinRequestTable.js","../node_modules/lucide-react/src/icons/plus.ts","../node_modules/lucide-react/src/icons/user.ts","../node_modules/lucide-react/src/icons/calendar.ts","services/pinTransactionService.js","../node_modules/lucide-react/src/icons/trending-up.ts","../node_modules/lucide-react/src/icons/trending-down.ts","components/PinComponents.js","../node_modules/lucide-react/src/icons/pin.ts","../node_modules/lucide-react/src/icons/search.ts"],"sourcesContent":["import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name FileText\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTQuNSAySDZhMiAyIDAgMCAwLTIgMnYxNmEyIDIgMCAwIDAgMiAyaDEyYTIgMiAwIDAgMCAyLTJWNy41TDE0LjUgMnoiIC8+CiAgPHBvbHlsaW5lIHBvaW50cz0iMTQgMiAxNCA4IDIwIDgiIC8+CiAgPGxpbmUgeDE9IjE2IiB4Mj0iOCIgeTE9IjEzIiB5Mj0iMTMiIC8+CiAgPGxpbmUgeDE9IjE2IiB4Mj0iOCIgeTE9IjE3IiB5Mj0iMTciIC8+CiAgPGxpbmUgeDE9IjEwIiB4Mj0iOCIgeTE9IjkiIHkyPSI5IiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/file-text\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst FileText = createLucideIcon('FileText', [\n  [\n    'path',\n    {\n      d: 'M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z',\n      key: '1nnpy2',\n    },\n  ],\n  ['polyline', { points: '14 2 14 8 20 8', key: '1ew0cm' }],\n  ['line', { x1: '16', x2: '8', y1: '13', y2: '13', key: '14keom' }],\n  ['line', { x1: '16', x2: '8', y1: '17', y2: '17', key: '17nazh' }],\n  ['line', { x1: '10', x2: '8', y1: '9', y2: '9', key: '1a5vjj' }],\n]);\n\nexport default FileText;\n","/**\n * PIN REQUEST SERVICE\n * ===================\n * Service for handling PIN request and approval workflow\n */\n\nimport { supabase } from '../common/services/supabaseClient';\nimport pinTransactionService from './pinTransactionService';\n\n// =====================================================\n// CONSTANTS\n// =====================================================\n\nexport const PIN_REQUEST_STATUS = {\n  PENDING: 'pending',\n  APPROVED: 'approved',\n  REJECTED: 'rejected'\n};\n\nexport const PIN_REQUEST_CONFIG = {\n  [PIN_REQUEST_STATUS.PENDING]: {\n    emoji: 'ðŸŸ¡',\n    label: 'Pending',\n    color: 'yellow',\n    description: 'Waiting for admin approval'\n  },\n  [PIN_REQUEST_STATUS.APPROVED]: {\n    emoji: 'ðŸŸ¢',\n    label: 'Approved',\n    color: 'green',\n    description: 'PINs allocated successfully'\n  },\n  [PIN_REQUEST_STATUS.REJECTED]: {\n    emoji: 'ðŸ”´',\n    label: 'Rejected',\n    color: 'red',\n    description: 'Request declined by admin'\n  }\n};\n\n// =====================================================\n// PIN REQUEST FUNCTIONS\n// =====================================================\n\n/**\n * Submit a new PIN request\n */\nexport const submitPinRequest = async (promoterId, requestedPins, reason = null) => {\n  try {\n    console.log('ðŸ”„ Submitting PIN request:', { promoterId, requestedPins, reason });\n\n    const { data, error } = await supabase.rpc('submit_pin_request', {\n      p_promoter_id: promoterId,\n      p_requested_pins: requestedPins,\n      p_reason: reason\n    });\n\n    if (error) {\n      // Check if it's a missing function error, try direct table insert\n      if (error.code === '42883' || error.code === 'PGRST202') {\n        console.warn('submit_pin_request function not found. Using direct table insert.');\n        \n        // Validate input first\n        if (!requestedPins || requestedPins <= 0 || requestedPins > 1000) {\n          throw new Error('Requested PINs must be between 1 and 1000');\n        }\n\n        // Check for pending requests\n        const { data: pendingCheck } = await supabase\n          .from('pin_requests')\n          .select('id')\n          .eq('promoter_id', promoterId)\n          .eq('status', 'pending');\n\n        if (pendingCheck && pendingCheck.length > 0) {\n          throw new Error('You already have a pending PIN request. Please wait for admin approval.');\n        }\n\n        // Insert directly into table (using existing schema)\n        const { data: insertData, error: insertError } = await supabase\n          .from('pin_requests')\n          .insert({\n            promoter_id: promoterId,\n            quantity: requestedPins, // Use 'quantity' instead of 'requested_pins'\n            reason: reason || 'PIN request submitted', // Ensure reason is never null\n            category: 'standard', // Required field\n            urgency: 'normal' // Required field\n          })\n          .select('*')\n          .single();\n\n        if (insertError) throw insertError;\n\n        return {\n          success: true,\n          request_id: insertData.id,\n          request_number: insertData.request_id, // Use existing 'request_id' field\n          message: 'PIN request submitted successfully'\n        };\n      }\n      \n      // Check if it's a missing function error\n      if (error.message?.includes('does not exist')) {\n        throw new Error('PIN request system is not set up. Please contact administrator to run the database setup.');\n      }\n      console.error('âŒ PIN request submission failed:', error);\n      throw error;\n    }\n\n    if (!data.success) {\n      console.error('âŒ PIN request returned error:', data.error);\n      throw new Error(data.error || 'PIN request submission failed');\n    }\n\n    console.log('âœ… PIN request submitted successfully:', data);\n    return data;\n\n  } catch (error) {\n    console.error('âŒ PIN request service error:', error);\n    throw error;\n  }\n};\n\n/**\n * Get PIN requests for a promoter or all requests (admin)\n */\nexport const getPinRequests = async (promoterId = null, status = null, limit = 50) => {\n  try {\n    // First try to check if table exists by querying it directly\n    const { data: tableCheck, error: tableError } = await supabase\n      .from('pin_requests')\n      .select('id')\n      .limit(1);\n\n    // If table doesn't exist or RLS is blocking, return empty array\n    if (tableError && (tableError.code === '42P01' || tableError.code === '42703' || tableError.code === 'PGRST106' || tableError.code === 'PGRST301')) {\n      console.warn('PIN requests table not found or RLS policies blocking access. Please run the database setup script.');\n      return [];\n    }\n\n    // If table exists, use the RPC function\n    const { data, error } = await supabase.rpc('get_pin_requests', {\n      p_promoter_id: promoterId,\n      p_status: status,\n      p_limit: limit\n    });\n\n    if (error) {\n      // Check if it's a missing function error, fallback to direct query\n      if (error.code === '42883' || error.code === 'PGRST202') {\n        console.warn('get_pin_requests function not found. Using direct table query.');\n        \n        // Use simple query without complex joins to avoid relationship issues\n        console.warn('Using simple query without joins to avoid relationship issues.');\n        \n        let simpleQuery = supabase\n          .from('pin_requests')\n          .select('*')\n          .order('created_at', { ascending: false })\n          .limit(limit);\n\n        if (promoterId) {\n          simpleQuery = simpleQuery.eq('promoter_id', promoterId);\n        }\n        if (status) {\n          simpleQuery = simpleQuery.eq('status', status);\n        }\n\n        const { data: directData, error: directError } = await simpleQuery;\n        \n        if (directError) {\n          // If table doesn't exist or RLS is blocking, return empty array\n          if (directError.code === '42P01' || directError.code === 'PGRST200' || directError.code === 'PGRST301') {\n            console.warn('pin_requests table not found, relationships missing, or RLS blocking access. Returning empty array.');\n            return [];\n          }\n          throw directError;\n        }\n\n        // Transform the data to match expected format (map existing schema)\n        return directData.map(request => ({\n          ...request,\n          // Map existing schema to expected format\n          requested_pins: request.quantity, // Map quantity to requested_pins\n          request_number: request.request_id, // Map request_id to request_number\n          approved_by: request.processed_by, // Map processed_by to approved_by\n          approved_at: request.response_date, // Map response_date to approved_at\n          \n          promoter_name: 'Promoter', // Will be filled by separate query if needed\n          promoter_email: 'promoter@example.com', // Will be filled by separate query if needed\n          admin_name: null, // Will be filled by separate query if needed\n          statusConfig: PIN_REQUEST_CONFIG[request.status] || {\n            emoji: 'â“',\n            label: 'Unknown',\n            color: 'gray',\n            description: 'Unknown status'\n          },\n          formattedRequestNumber: request.formatted_request_id || `REQ-${String(request.request_id || request.request_number).padStart(3, '0')}`,\n          formattedDate: new Date(request.created_at).toLocaleDateString(),\n          formattedTime: new Date(request.created_at).toLocaleTimeString([], { \n            hour: '2-digit', \n            minute: '2-digit' \n          })\n        }));\n      }\n      \n      // Check if it's a missing table/function error\n      if (error.message?.includes('does not exist') || error.code === '42703') {\n        console.warn('PIN requests table/function not found. Returning empty array.');\n        return [];\n      }\n      throw error;\n    }\n\n    // Transform data for UI display\n    const transformedData = data.map(request => ({\n      ...request,\n      statusConfig: PIN_REQUEST_CONFIG[request.status] || {\n        emoji: 'â“',\n        label: 'Unknown',\n        color: 'gray',\n        description: 'Unknown status'\n      },\n      formattedRequestNumber: request.formatted_request_id || `REQ-${String(request.request_number).padStart(3, '0')}`,\n      formattedDate: new Date(request.created_at).toLocaleDateString(),\n      formattedTime: new Date(request.created_at).toLocaleTimeString([], { \n        hour: '2-digit', \n        minute: '2-digit' \n      })\n    }));\n\n    return transformedData;\n\n  } catch (error) {\n    console.error('âŒ Failed to get PIN requests:', error);\n    throw error;\n  }\n};\n\n/**\n * Approve a PIN request (Admin only)\n */\nexport const approvePinRequest = async (requestId, adminId, adminNotes = null) => {\n  try {\n    console.log('ðŸ”„ Approving PIN request:', { requestId, adminId, adminNotes });\n\n    const { data, error } = await supabase.rpc('approve_pin_request', {\n      p_request_id: requestId,\n      p_admin_id: adminId,\n      p_admin_notes: adminNotes\n    });\n\n    if (error) {\n      // If RPC function doesn't exist, use manual approval process\n      if (error.code === '42883' || error.code === 'PGRST202') {\n        console.warn('approve_pin_request function not found. Using manual approval process.');\n        return await manualApproveRequest(requestId, adminId, adminNotes);\n      }\n      console.error('âŒ PIN request approval failed:', error);\n      throw error;\n    }\n\n    if (!data.success) {\n      console.error('âŒ PIN request approval returned error:', data.error);\n      throw new Error(data.error || 'PIN request approval failed');\n    }\n\n    console.log('âœ… PIN request approved successfully:', data);\n    return data;\n\n  } catch (error) {\n    console.error('âŒ PIN request approval service error:', error);\n    throw error;\n  }\n};\n\n/**\n * Manual approval process when RPC function is not available\n */\nconst manualApproveRequest = async (requestId, adminId, adminNotes) => {\n  // Get the request details\n  const { data: request, error: requestError } = await supabase\n    .from('pin_requests')\n    .select('*')\n    .eq('id', requestId)\n    .eq('status', 'pending')\n    .single();\n\n  if (requestError || !request) {\n    throw new Error('Request not found or already processed');\n  }\n\n  console.log('ðŸ“‹ Request data for approval:', request);\n\n  // Use the unified PIN transaction service to allocate PINs\n  const pinResult = await pinTransactionService.adminAllocatePins(\n    request.promoter_id,\n    request.quantity || request.requested_pins, // Use quantity (existing schema) or requested_pins\n    adminId\n  );\n\n  if (!pinResult.success) {\n    throw new Error(`Failed to allocate PINs: ${pinResult.error}`);\n  }\n\n  // Update the request status (using existing schema)\n  const { error: updateError } = await supabase\n    .from('pin_requests')\n    .update({\n      status: 'approved',\n      processed_by: adminId, // Use existing field name\n      admin_notes: adminNotes,\n      response_date: new Date().toISOString() // Use existing field name\n    })\n    .eq('id', requestId);\n\n  if (updateError) {\n    throw new Error(`Failed to update request status: ${updateError.message}`);\n  }\n\n  return {\n    success: true,\n    request_id: requestId,\n    promoter_id: request.promoter_id,\n    allocated_pins: request.requested_pins,\n    new_balance: pinResult.balance_after,\n    message: 'PIN request approved and PINs allocated successfully'\n  };\n};\n\n/**\n * Reject a PIN request (Admin only)\n */\nexport const rejectPinRequest = async (requestId, adminId, adminNotes = null) => {\n  try {\n    console.log('ðŸ”„ Rejecting PIN request:', { requestId, adminId, adminNotes });\n\n    const { data, error } = await supabase.rpc('reject_pin_request', {\n      p_request_id: requestId,\n      p_admin_id: adminId,\n      p_admin_notes: adminNotes\n    });\n\n    if (error) {\n      // If RPC function doesn't exist, use manual rejection process\n      if (error.code === '42883' || error.code === 'PGRST202') {\n        console.warn('reject_pin_request function not found. Using manual rejection process.');\n        return await manualRejectRequest(requestId, adminId, adminNotes);\n      }\n      console.error('âŒ PIN request rejection failed:', error);\n      throw error;\n    }\n\n    if (!data.success) {\n      console.error('âŒ PIN request rejection returned error:', data.error);\n      throw new Error(data.error || 'PIN request rejection failed');\n    }\n\n    console.log('âœ… PIN request rejected successfully:', data);\n    return data;\n\n  } catch (error) {\n    console.error('âŒ PIN request rejection service error:', error);\n    throw error;\n  }\n};\n\n/**\n * Manual rejection process when RPC function is not available\n */\nconst manualRejectRequest = async (requestId, adminId, adminNotes) => {\n  // Get the request details\n  const { data: request, error: requestError } = await supabase\n    .from('pin_requests')\n    .select('*')\n    .eq('id', requestId)\n    .eq('status', 'pending')\n    .single();\n\n  if (requestError || !request) {\n    throw new Error('Request not found or already processed');\n  }\n\n  // Update the request status (using existing schema)\n  const { error: updateError } = await supabase\n    .from('pin_requests')\n    .update({\n      status: 'rejected',\n      processed_by: adminId, // Use existing field name\n      admin_notes: adminNotes || 'Request rejected by admin',\n      response_date: new Date().toISOString() // Use existing field name\n    })\n    .eq('id', requestId);\n\n  if (updateError) {\n    throw new Error(`Failed to update request status: ${updateError.message}`);\n  }\n\n  return {\n    success: true,\n    request_id: requestId,\n    promoter_id: request.promoter_id,\n    message: 'PIN request rejected'\n  };\n};\n\n/**\n * Get PIN request statistics\n */\nexport const getPinRequestStats = async (promoterId = null) => {\n  try {\n    const requests = await getPinRequests(promoterId);\n    \n    const stats = {\n      totalRequests: requests.length,\n      pendingRequests: requests.filter(r => r.status === PIN_REQUEST_STATUS.PENDING).length,\n      approvedRequests: requests.filter(r => r.status === PIN_REQUEST_STATUS.APPROVED).length,\n      rejectedRequests: requests.filter(r => r.status === PIN_REQUEST_STATUS.REJECTED).length,\n      totalPinsRequested: requests.reduce((sum, r) => sum + r.requested_pins, 0),\n      totalPinsApproved: requests\n        .filter(r => r.status === PIN_REQUEST_STATUS.APPROVED)\n        .reduce((sum, r) => sum + r.requested_pins, 0)\n    };\n\n    return stats;\n\n  } catch (error) {\n    console.error('âŒ Failed to get PIN request stats:', error);\n    // Return empty stats if system is not set up yet\n    return {\n      totalRequests: 0,\n      pendingRequests: 0,\n      approvedRequests: 0,\n      rejectedRequests: 0,\n      totalPinsRequested: 0,\n      totalPinsApproved: 0\n    };\n  }\n};\n\n/**\n * Check if promoter has pending requests\n */\nexport const hasPendingRequests = async (promoterId) => {\n  try {\n    const pendingRequests = await getPinRequests(promoterId, PIN_REQUEST_STATUS.PENDING, 1);\n    return pendingRequests.length > 0;\n  } catch (error) {\n    console.error('âŒ Failed to check pending requests:', error);\n    // Return false if system is not set up yet\n    return false;\n  }\n};\n\n/**\n * Real-time PIN requests subscription\n */\nexport const subscribeToPinRequests = (callback, promoterId = null) => {\n  let filter = '';\n  if (promoterId) {\n    filter = `promoter_id=eq.${promoterId}`;\n  }\n\n  const subscription = supabase\n    .channel('pin-requests-changes')\n    .on(\n      'postgres_changes',\n      {\n        event: '*',\n        schema: 'public',\n        table: 'pin_requests',\n        filter: filter\n      },\n      (payload) => {\n        console.log('ðŸ“¡ PIN requests change detected:', payload);\n        callback(payload);\n      }\n    )\n    .subscribe();\n\n  return subscription;\n};\n\n/**\n * Format PIN request for display\n */\nexport const formatPinRequest = (request) => {\n  return {\n    ...request,\n    displayTitle: `${request.formattedRequestNumber} - ${request.requested_pins} PIN${request.requested_pins > 1 ? 's' : ''}`,\n    displayStatus: `${request.statusConfig.emoji} ${request.statusConfig.label}`,\n    displayDate: `${request.formattedDate} at ${request.formattedTime}`,\n    displayReason: request.reason || 'No reason provided'\n  };\n};\n\n/**\n * Validate PIN request input\n */\nexport const validatePinRequest = (requestedPins, reason = '') => {\n  const errors = [];\n\n  if (!requestedPins || requestedPins <= 0) {\n    errors.push('Requested PINs must be greater than 0');\n  }\n\n  if (requestedPins > 1000) {\n    errors.push('Cannot request more than 1000 PINs at once');\n  }\n\n  if (reason && reason.length > 500) {\n    errors.push('Reason must be less than 500 characters');\n  }\n\n  return {\n    isValid: errors.length === 0,\n    errors\n  };\n};\n\nexport default {\n  submitPinRequest,\n  getPinRequests,\n  approvePinRequest,\n  rejectPinRequest,\n  getPinRequestStats,\n  hasPendingRequests,\n  subscribeToPinRequests,\n  formatPinRequest,\n  validatePinRequest,\n  PIN_REQUEST_STATUS,\n  PIN_REQUEST_CONFIG\n};\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Send\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJtMjIgMi03IDIwLTQtOS05LTRaIiAvPgogIDxwYXRoIGQ9Ik0yMiAyIDExIDEzIiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/send\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Send = createLucideIcon('Send', [\n  ['path', { d: 'm22 2-7 20-4-9-9-4Z', key: '1q3vgg' }],\n  ['path', { d: 'M22 2 11 13', key: 'nzbqef' }],\n]);\n\nexport default Send;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name XCircle\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8Y2lyY2xlIGN4PSIxMiIgY3k9IjEyIiByPSIxMCIgLz4KICA8cGF0aCBkPSJtMTUgOS02IDYiIC8+CiAgPHBhdGggZD0ibTkgOSA2IDYiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/x-circle\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst XCircle = createLucideIcon('XCircle', [\n  ['circle', { cx: '12', cy: '12', r: '10', key: '1mglay' }],\n  ['path', { d: 'm15 9-6 6', key: '1uzhvr' }],\n  ['path', { d: 'm9 9 6 6', key: 'z0biqf' }],\n]);\n\nexport default XCircle;\n","/**\n * PIN REQUEST TABLE COMPONENT\n * ============================\n * Table for displaying PIN request status and history\n */\n\nimport React, { memo } from 'react';\nimport { FileText, Clock, CheckCircle, XCircle, User, Calendar } from 'lucide-react';\n\nconst PinRequestTable = memo(({ \n  requests, \n  loading = false,\n  showPromoter = false, // For admin view\n  emptyMessage = \"No PIN requests found\",\n  onApprove = null, // Admin action callback\n  onReject = null, // Admin action callback\n  showActions = false // Show approve/reject buttons\n}) => {\n  \n  const getStatusIcon = (status) => {\n    switch (status) {\n      case 'pending':\n        return <Clock className=\"w-4 h-4 text-yellow-400\" />;\n      case 'approved':\n        return <CheckCircle className=\"w-4 h-4 text-green-400\" />;\n      case 'rejected':\n        return <XCircle className=\"w-4 h-4 text-red-400\" />;\n      default:\n        return <FileText className=\"w-4 h-4 text-gray-400\" />;\n    }\n  };\n\n  const getStatusBadge = (request) => {\n    const config = request.statusConfig;\n    const colorClasses = {\n      yellow: 'bg-yellow-500/20 text-yellow-400 border-yellow-500/30',\n      green: 'bg-green-500/20 text-green-400 border-green-500/30',\n      red: 'bg-red-500/20 text-red-400 border-red-500/30',\n      gray: 'bg-gray-500/20 text-gray-400 border-gray-500/30'\n    };\n\n    return (\n      <span className={`inline-flex items-center space-x-1 px-2.5 py-1 rounded-full text-xs font-medium border ${colorClasses[config.color]}`}>\n        {getStatusIcon(request.status)}\n        <span>{config.emoji} {config.label}</span>\n      </span>\n    );\n  };\n\n  if (loading) {\n    return (\n      <div className=\"overflow-x-auto\">\n        <table className=\"w-full\">\n          <thead className=\"bg-gray-800/50\">\n            <tr>\n              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider\">Request ID</th>\n              {showPromoter && <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider\">Promoter</th>}\n              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider\">PINs</th>\n              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider\">Status</th>\n              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider\">Date</th>\n              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider\">Reason</th>\n              {showActions && <th className=\"px-6 py-3 text-center text-xs font-medium text-gray-300 uppercase tracking-wider\">Actions</th>}\n            </tr>\n          </thead>\n          <tbody className=\"divide-y divide-gray-700/50\">\n            {[1, 2, 3, 4, 5].map(i => (\n              <tr key={i} className=\"animate-pulse\">\n                <td className=\"px-6 py-4\"><div className=\"h-4 bg-gray-700 rounded w-20\"></div></td>\n                {showPromoter && <td className=\"px-6 py-4\"><div className=\"h-4 bg-gray-700 rounded w-32\"></div></td>}\n                <td className=\"px-6 py-4\"><div className=\"h-4 bg-gray-700 rounded w-12\"></div></td>\n                <td className=\"px-6 py-4\"><div className=\"h-4 bg-gray-700 rounded w-24\"></div></td>\n                <td className=\"px-6 py-4\"><div className=\"h-4 bg-gray-700 rounded w-20\"></div></td>\n                <td className=\"px-6 py-4\"><div className=\"h-4 bg-gray-700 rounded w-40\"></div></td>\n                {showActions && <td className=\"px-6 py-4\"><div className=\"h-4 bg-gray-700 rounded w-24\"></div></td>}\n              </tr>\n            ))}\n          </tbody>\n        </table>\n      </div>\n    );\n  }\n\n  if (requests.length === 0) {\n    return (\n      <div className=\"text-center py-12\">\n        <FileText className=\"w-16 h-16 text-gray-600 mb-4 mx-auto\" />\n        <p className=\"text-gray-300 text-lg mb-2\">{emptyMessage}</p>\n        <p className=\"text-gray-400 text-sm\">PIN requests will appear here when submitted.</p>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"overflow-x-auto\">\n      <table className=\"w-full\">\n        <thead className=\"bg-gray-800/50\">\n          <tr>\n            <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider\">Request ID</th>\n            {showPromoter && (\n              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider\">Promoter</th>\n            )}\n            <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider\">PINs</th>\n            <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider\">Status</th>\n            <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider\">Date</th>\n            <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider\">Reason</th>\n            {showPromoter && (\n              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider\">Admin Response</th>\n            )}\n          </tr>\n        </thead>\n        <tbody className=\"divide-y divide-gray-700/50\">\n          {requests.map((request) => (\n            <tr key={request.id} className=\"hover:bg-gray-800/30 transition-colors\">\n              {/* Request ID */}\n              <td className=\"px-6 py-4 whitespace-nowrap\">\n                <span className=\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-purple-100 text-purple-800\">\n                  {request.formattedRequestNumber}\n                </span>\n              </td>\n              \n              {/* Promoter (Admin view only) */}\n              {showPromoter && (\n                <td className=\"px-6 py-4 whitespace-nowrap\">\n                  <div className=\"flex items-center space-x-2\">\n                    <User className=\"w-4 h-4 text-gray-400\" />\n                    <div>\n                      <div className=\"text-sm font-medium text-white\">{request.promoter_name || 'Promoter'}</div>\n                      <div className=\"text-xs text-gray-400\">{request.promoter_email || 'Email not available'}</div>\n                    </div>\n                  </div>\n                </td>\n              )}\n              \n              {/* Requested PINs */}\n              <td className=\"px-6 py-4 whitespace-nowrap\">\n                <div className=\"flex items-center space-x-2\">\n                  <div className=\"w-8 h-8 bg-orange-500/20 rounded-lg flex items-center justify-center\">\n                    <span className=\"text-orange-400 text-sm font-bold\">{request.requested_pins}</span>\n                  </div>\n                  <span className=\"text-gray-300 text-sm\">PIN{request.requested_pins > 1 ? 's' : ''}</span>\n                </div>\n              </td>\n              \n              {/* Status */}\n              <td className=\"px-6 py-4 whitespace-nowrap\">\n                {getStatusBadge(request)}\n              </td>\n              \n              {/* Date */}\n              <td className=\"px-6 py-4 whitespace-nowrap\">\n                <div className=\"flex items-center space-x-2\">\n                  <Calendar className=\"w-4 h-4 text-gray-400\" />\n                  <div>\n                    <div className=\"text-sm text-white\">{request.formattedDate}</div>\n                    <div className=\"text-xs text-gray-400\">{request.formattedTime}</div>\n                  </div>\n                </div>\n              </td>\n              \n              {/* Reason */}\n              <td className=\"px-6 py-4 text-sm text-gray-300 max-w-xs\">\n                <div className=\"truncate\" title={request.reason || 'No reason provided'}>\n                  {request.reason || (\n                    <span className=\"text-gray-500 italic\">No reason provided</span>\n                  )}\n                </div>\n              </td>\n              \n              {/* Admin Response (Admin view only) */}\n              {showPromoter && (\n                <td className=\"px-6 py-4 text-sm text-gray-300 max-w-xs\">\n                  {request.admin_notes ? (\n                    <div>\n                      <div className=\"truncate\" title={request.admin_notes}>\n                        {request.admin_notes}\n                      </div>\n                      {request.admin_name && (\n                        <div className=\"text-xs text-gray-500 mt-1\">\n                          by {request.admin_name}\n                        </div>\n                      )}\n                    </div>\n                  ) : (\n                    <span className=\"text-gray-500 italic\">\n                      {request.status === 'pending' ? 'Awaiting review' : 'No notes'}\n                    </span>\n                  )}\n                </td>\n              )}\n              \n              {/* Actions (Admin only) */}\n              {showActions && (\n                <td className=\"px-6 py-4 whitespace-nowrap text-center\">\n                  {request.status === 'pending' ? (\n                    <div className=\"flex items-center justify-center space-x-2\">\n                      <button\n                        onClick={() => onApprove && onApprove(request)}\n                        className=\"inline-flex items-center px-3 py-1.5 bg-green-600 hover:bg-green-700 text-white text-xs font-medium rounded-lg transition-colors\"\n                        title=\"Approve and allocate PINs\"\n                      >\n                        <CheckCircle className=\"w-3 h-3 mr-1\" />\n                        Approve\n                      </button>\n                      <button\n                        onClick={() => onReject && onReject(request)}\n                        className=\"inline-flex items-center px-3 py-1.5 bg-red-600 hover:bg-red-700 text-white text-xs font-medium rounded-lg transition-colors\"\n                        title=\"Reject request\"\n                      >\n                        <XCircle className=\"w-3 h-3 mr-1\" />\n                        Reject\n                      </button>\n                    </div>\n                  ) : (\n                    <span className=\"text-gray-500 text-xs italic\">\n                      {request.status === 'approved' ? 'Approved' : 'Rejected'}\n                    </span>\n                  )}\n                </td>\n              )}\n            </tr>\n          ))}\n        </tbody>\n      </table>\n    </div>\n  );\n});\n\nPinRequestTable.displayName = 'PinRequestTable';\n\nexport default PinRequestTable;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Plus\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNNSAxMmgxNCIgLz4KICA8cGF0aCBkPSJNMTIgNXYxNCIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/plus\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Plus = createLucideIcon('Plus', [\n  ['path', { d: 'M5 12h14', key: '1ays0h' }],\n  ['path', { d: 'M12 5v14', key: 's699le' }],\n]);\n\nexport default Plus;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name User\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTkgMjF2LTJhNCA0IDAgMCAwLTQtNEg5YTQgNCAwIDAgMC00IDR2MiIgLz4KICA8Y2lyY2xlIGN4PSIxMiIgY3k9IjciIHI9IjQiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/user\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst User = createLucideIcon('User', [\n  ['path', { d: 'M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2', key: '975kel' }],\n  ['circle', { cx: '12', cy: '7', r: '4', key: '17ys0d' }],\n]);\n\nexport default User;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Calendar\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cmVjdCB3aWR0aD0iMTgiIGhlaWdodD0iMTgiIHg9IjMiIHk9IjQiIHJ4PSIyIiByeT0iMiIgLz4KICA8bGluZSB4MT0iMTYiIHgyPSIxNiIgeTE9IjIiIHkyPSI2IiAvPgogIDxsaW5lIHgxPSI4IiB4Mj0iOCIgeTE9IjIiIHkyPSI2IiAvPgogIDxsaW5lIHgxPSIzIiB4Mj0iMjEiIHkxPSIxMCIgeTI9IjEwIiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/calendar\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Calendar = createLucideIcon('Calendar', [\n  [\n    'rect',\n    {\n      width: '18',\n      height: '18',\n      x: '3',\n      y: '4',\n      rx: '2',\n      ry: '2',\n      key: 'eu3xkr',\n    },\n  ],\n  ['line', { x1: '16', x2: '16', y1: '2', y2: '6', key: 'm3sa8f' }],\n  ['line', { x1: '8', x2: '8', y1: '2', y2: '6', key: '18kwsl' }],\n  ['line', { x1: '3', x2: '21', y1: '10', y2: '10', key: 'xt86sb' }],\n]);\n\nexport default Calendar;\n","/**\n * UNIFIED PIN TRANSACTION SERVICE\n * ================================\n * Centralized service for all PIN operations across Admin, Promoter, and Customer systems\n * Ensures complete uniformity and standardization\n */\n\nimport { supabase } from '../common/services/supabaseClient';\n\n// =====================================================\n// CONSTANTS - Standardized Action Types\n// =====================================================\n\nexport const PIN_ACTION_TYPES = {\n  CUSTOMER_CREATION: 'customer_creation',    // âŒ Customer Creation (- PIN)\n  ADMIN_ALLOCATION: 'admin_allocation',      // âœ… Admin Allocation (+ PIN)\n  ADMIN_DEDUCTION: 'admin_deduction'         // âŒ Admin Deduction (- PIN)\n};\n\nexport const PIN_DISPLAY_CONFIG = {\n  [PIN_ACTION_TYPES.CUSTOMER_CREATION]: {\n    emoji: 'âŒ',\n    label: 'Customer Creation',\n    color: 'red',\n    sign: '-'\n  },\n  [PIN_ACTION_TYPES.ADMIN_ALLOCATION]: {\n    emoji: 'âœ…',\n    label: 'Admin Allocation',\n    color: 'green',\n    sign: '+'\n  },\n  [PIN_ACTION_TYPES.ADMIN_DEDUCTION]: {\n    emoji: 'âŒ',\n    label: 'Admin Deduction',\n    color: 'red',\n    sign: '-'\n  }\n};\n\n// =====================================================\n// CORE PIN TRANSACTION FUNCTIONS\n// =====================================================\n\n/**\n * Execute a PIN transaction using the unified system\n */\nexport const executePinTransaction = async ({\n  userId,\n  actionType,\n  pinChangeValue,\n  createdBy = null,\n  relatedEntityId = null,\n  relatedEntityName = null\n}) => {\n  try {\n    console.log('ðŸ”„ Executing PIN transaction:', {\n      userId,\n      actionType,\n      pinChangeValue,\n      createdBy,\n      relatedEntityId,\n      relatedEntityName\n    });\n\n    const { data, error } = await supabase.rpc('execute_pin_transaction', {\n      p_user_id: userId,\n      p_action_type: actionType,\n      p_pin_change_value: pinChangeValue,\n      p_created_by: createdBy,\n      p_related_entity_id: relatedEntityId,\n      p_related_entity_name: relatedEntityName\n    });\n\n    if (error) {\n      console.error('âŒ PIN transaction failed:', error);\n      throw error;\n    }\n\n    if (!data.success) {\n      console.error('âŒ PIN transaction returned error:', data.error);\n      throw new Error(data.error || 'PIN transaction failed');\n    }\n\n    console.log('âœ… PIN transaction successful:', data);\n    return data;\n\n  } catch (error) {\n    console.error('âŒ PIN transaction service error:', error);\n    throw error;\n  }\n};\n\n/**\n * Deduct PIN for customer creation\n */\nexport const deductPinForCustomerCreation = async (promoterId, customerId, customerName) => {\n  try {\n    console.log('ðŸ”„ Deducting PIN for customer creation:', { promoterId, customerId, customerName });\n\n    const { data, error } = await supabase.rpc('deduct_pin_for_customer_creation', {\n      p_promoter_id: promoterId,\n      p_customer_id: customerId,\n      p_customer_name: customerName\n    });\n\n    if (error) throw error;\n    if (!data.success) throw new Error(data.error || 'Customer creation PIN deduction failed');\n\n    console.log('âœ… Customer creation PIN deduction successful:', data);\n    return data;\n\n  } catch (error) {\n    console.error('âŒ Customer creation PIN deduction failed:', error);\n    throw error;\n  }\n};\n\n/**\n * Admin allocate PINs to user\n */\nexport const adminAllocatePins = async (targetUserId, pinAmount, adminId) => {\n  try {\n    console.log('ðŸ”„ Admin allocating PINs:', { targetUserId, pinAmount, adminId });\n\n    const { data, error } = await supabase.rpc('admin_allocate_pins', {\n      p_target_user_id: targetUserId,\n      p_pin_amount: Math.abs(pinAmount), // Ensure positive\n      p_admin_id: adminId\n    });\n\n    if (error) throw error;\n    if (!data.success) throw new Error(data.error || 'Admin PIN allocation failed');\n\n    console.log('âœ… Admin PIN allocation successful:', data);\n    return data;\n\n  } catch (error) {\n    console.error('âŒ Admin PIN allocation failed:', error);\n    throw error;\n  }\n};\n\n/**\n * Admin deduct PINs from user\n */\nexport const adminDeductPins = async (targetUserId, pinAmount, adminId) => {\n  try {\n    console.log('ðŸ”„ Admin deducting PINs:', { targetUserId, pinAmount, adminId });\n\n    const { data, error } = await supabase.rpc('admin_deduct_pins', {\n      p_target_user_id: targetUserId,\n      p_pin_amount: Math.abs(pinAmount), // Ensure positive (function will make it negative)\n      p_admin_id: adminId\n    });\n\n    if (error) throw error;\n    if (!data.success) throw new Error(data.error || 'Admin PIN deduction failed');\n\n    console.log('âœ… Admin PIN deduction successful:', data);\n    return data;\n\n  } catch (error) {\n    console.error('âŒ Admin PIN deduction failed:', error);\n    throw error;\n  }\n};\n\n// =====================================================\n// PIN TRANSACTION QUERIES\n// =====================================================\n\n/**\n * Get PIN transactions for a user\n */\nexport const getUserPinTransactions = async (userId, limit = 50) => {\n  try {\n    const { data, error } = await supabase\n      .from('pin_transactions')\n      .select(`\n        id,\n        transaction_id,\n        action_type,\n        pin_change_value,\n        balance_before,\n        balance_after,\n        note,\n        created_at,\n        created_by,\n        related_entity_id,\n        creator:profiles!created_by(name, email)\n      `)\n      .eq('user_id', userId)\n      .order('created_at', { ascending: false })\n      .limit(limit);\n\n    if (error) throw error;\n\n    // Transform data for UI display\n    const transformedData = data.map(transaction => ({\n      ...transaction,\n      displayConfig: PIN_DISPLAY_CONFIG[transaction.action_type] || {\n        emoji: 'â“',\n        label: 'Unknown',\n        color: 'gray',\n        sign: ''\n      },\n      formattedAmount: formatPinAmount(transaction.action_type, transaction.pin_change_value),\n      creatorName: transaction.creator?.name || 'System'\n    }));\n\n    return transformedData;\n\n  } catch (error) {\n    console.error('âŒ Failed to get user PIN transactions:', error);\n    throw error;\n  }\n};\n\n/**\n * Get all PIN transactions (Admin view)\n */\nexport const getAllPinTransactions = async (filters = {}, limit = 100) => {\n  try {\n    let query = supabase\n      .from('pin_transactions')\n      .select(`\n        id,\n        transaction_id,\n        user_id,\n        action_type,\n        pin_change_value,\n        balance_before,\n        balance_after,\n        note,\n        created_at,\n        created_by,\n        related_entity_id,\n        user:profiles!user_id(name, email, role),\n        creator:profiles!created_by(name, email)\n      `)\n      .order('created_at', { ascending: false })\n      .limit(limit);\n\n    // Apply filters\n    if (filters.actionType && filters.actionType !== 'all') {\n      query = query.eq('action_type', filters.actionType);\n    }\n\n    if (filters.userId) {\n      query = query.eq('user_id', filters.userId);\n    }\n\n    if (filters.dateFrom) {\n      query = query.gte('created_at', filters.dateFrom);\n    }\n\n    if (filters.dateTo) {\n      query = query.lte('created_at', filters.dateTo);\n    }\n\n    const { data, error } = await query;\n\n    if (error) throw error;\n\n    // Transform data for UI display\n    const transformedData = data.map(transaction => ({\n      ...transaction,\n      displayConfig: PIN_DISPLAY_CONFIG[transaction.action_type] || {\n        emoji: 'â“',\n        label: 'Unknown',\n        color: 'gray',\n        sign: ''\n      },\n      formattedAmount: formatPinAmount(transaction.action_type, transaction.pin_change_value),\n      userName: transaction.user?.name || 'Unknown User',\n      userEmail: transaction.user?.email || 'Unknown',\n      userRole: transaction.user?.role || 'unknown',\n      creatorName: transaction.creator?.name || 'System'\n    }));\n\n    return transformedData;\n\n  } catch (error) {\n    console.error('âŒ Failed to get all PIN transactions:', error);\n    throw error;\n  }\n};\n\n/**\n * Get user's current PIN balance\n */\nexport const getUserPinBalance = async (userId) => {\n  try {\n    const { data, error } = await supabase\n      .from('profiles')\n      .select('pins')\n      .eq('id', userId)\n      .single();\n\n    if (error) throw error;\n\n    return data.pins || 0;\n\n  } catch (error) {\n    console.error('âŒ Failed to get user PIN balance:', error);\n    throw error;\n  }\n};\n\n/**\n * Get PIN transaction statistics\n */\nexport const getPinTransactionStats = async (userId = null) => {\n  try {\n    let query = supabase\n      .from('pin_transactions')\n      .select('action_type, pin_change_value');\n\n    if (userId) {\n      query = query.eq('user_id', userId);\n    }\n\n    const { data, error } = await query;\n\n    if (error) throw error;\n\n    // Calculate statistics\n    const stats = {\n      totalTransactions: data.length,\n      customerCreations: data.filter(t => t.action_type === PIN_ACTION_TYPES.CUSTOMER_CREATION).length,\n      adminAllocations: data.filter(t => t.action_type === PIN_ACTION_TYPES.ADMIN_ALLOCATION).length,\n      adminDeductions: data.filter(t => t.action_type === PIN_ACTION_TYPES.ADMIN_DEDUCTION).length,\n      totalPinsAllocated: data\n        .filter(t => t.action_type === PIN_ACTION_TYPES.ADMIN_ALLOCATION)\n        .reduce((sum, t) => sum + Math.abs(t.pin_change_value), 0),\n      totalPinsDeducted: data\n        .filter(t => t.action_type !== PIN_ACTION_TYPES.ADMIN_ALLOCATION)\n        .reduce((sum, t) => sum + Math.abs(t.pin_change_value), 0)\n    };\n\n    return stats;\n\n  } catch (error) {\n    console.error('âŒ Failed to get PIN transaction stats:', error);\n    throw error;\n  }\n};\n\n// =====================================================\n// UTILITY FUNCTIONS\n// =====================================================\n\n/**\n * Format PIN amount for display based on action type\n */\nexport const formatPinAmount = (actionType, pinChangeValue) => {\n  const config = PIN_DISPLAY_CONFIG[actionType];\n  if (!config) return pinChangeValue.toString();\n\n  const absValue = Math.abs(pinChangeValue);\n  \n  // Force correct sign based on action type\n  if (actionType === PIN_ACTION_TYPES.ADMIN_ALLOCATION) {\n    return `+${absValue}`;\n  } else {\n    return `-${absValue}`;\n  }\n};\n\n/**\n * Get display configuration for action type\n */\nexport const getActionTypeDisplay = (actionType) => {\n  return PIN_DISPLAY_CONFIG[actionType] || {\n    emoji: 'â“',\n    label: 'Unknown',\n    color: 'gray',\n    sign: ''\n  };\n};\n\n/**\n * Validate PIN transaction parameters\n */\nexport const validatePinTransaction = (actionType, pinAmount, userId) => {\n  const errors = [];\n\n  if (!Object.values(PIN_ACTION_TYPES).includes(actionType)) {\n    errors.push('Invalid action type');\n  }\n\n  if (!pinAmount || pinAmount <= 0) {\n    errors.push('PIN amount must be greater than 0');\n  }\n\n  if (!userId) {\n    errors.push('User ID is required');\n  }\n\n  return {\n    isValid: errors.length === 0,\n    errors\n  };\n};\n\n/**\n * Real-time PIN balance subscription\n */\nexport const subscribeToPinBalance = (userId, callback) => {\n  const subscription = supabase\n    .channel('pin-balance-changes')\n    .on(\n      'postgres_changes',\n      {\n        event: '*',\n        schema: 'public',\n        table: 'pin_transactions',\n        filter: `user_id=eq.${userId}`\n      },\n      (payload) => {\n        console.log('ðŸ“¡ PIN transaction change detected:', payload);\n        callback(payload);\n      }\n    )\n    .subscribe();\n\n  return subscription;\n};\n\n/**\n * Real-time PIN transactions subscription\n */\nexport const subscribeToPinTransactions = (callback, userId = null) => {\n  let filter = '';\n  if (userId) {\n    filter = `user_id=eq.${userId}`;\n  }\n\n  const subscription = supabase\n    .channel('pin-transactions-changes')\n    .on(\n      'postgres_changes',\n      {\n        event: '*',\n        schema: 'public',\n        table: 'pin_transactions',\n        filter: filter\n      },\n      (payload) => {\n        console.log('ðŸ“¡ PIN transactions change detected:', payload);\n        callback(payload);\n      }\n    )\n    .subscribe();\n\n  return subscription;\n};\n\nexport default {\n  // Core functions\n  executePinTransaction,\n  deductPinForCustomerCreation,\n  adminAllocatePins,\n  adminDeductPins,\n  \n  // Query functions\n  getUserPinTransactions,\n  getAllPinTransactions,\n  getUserPinBalance,\n  getPinTransactionStats,\n  \n  // Utility functions\n  formatPinAmount,\n  getActionTypeDisplay,\n  validatePinTransaction,\n  \n  // Real-time subscriptions\n  subscribeToPinBalance,\n  subscribeToPinTransactions,\n  \n  // Constants\n  PIN_ACTION_TYPES,\n  PIN_DISPLAY_CONFIG\n};\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name TrendingUp\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cG9seWxpbmUgcG9pbnRzPSIyMiA3IDEzLjUgMTUuNSA4LjUgMTAuNSAyIDE3IiAvPgogIDxwb2x5bGluZSBwb2ludHM9IjE2IDcgMjIgNyAyMiAxMyIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/trending-up\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst TrendingUp = createLucideIcon('TrendingUp', [\n  ['polyline', { points: '22 7 13.5 15.5 8.5 10.5 2 17', key: '126l90' }],\n  ['polyline', { points: '16 7 22 7 22 13', key: 'kwv8wd' }],\n]);\n\nexport default TrendingUp;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name TrendingDown\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cG9seWxpbmUgcG9pbnRzPSIyMiAxNyAxMy41IDguNSA4LjUgMTMuNSAyIDciIC8+CiAgPHBvbHlsaW5lIHBvaW50cz0iMTYgMTcgMjIgMTcgMjIgMTEiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/trending-down\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst TrendingDown = createLucideIcon('TrendingDown', [\n  ['polyline', { points: '22 17 13.5 8.5 8.5 13.5 2 7', key: '1r2t7k' }],\n  ['polyline', { points: '16 17 22 17 22 11', key: '11uiuu' }],\n]);\n\nexport default TrendingDown;\n","/**\n * STANDARDIZED PIN UI COMPONENTS\n * ==============================\n * Unified components for displaying PIN information across all modules\n */\n\nimport React, { memo, useState, useEffect } from 'react';\nimport { Pin, TrendingUp, TrendingDown, Clock, CheckCircle, XCircle, AlertCircle } from 'lucide-react';\nimport { PIN_ACTION_TYPES, PIN_DISPLAY_CONFIG, formatPinAmount, getActionTypeDisplay } from '../services/pinTransactionService';\n\n// =====================================================\n// PIN BALANCE DISPLAY COMPONENT\n// =====================================================\n\nexport const PinBalance = memo(({ \n  balance, \n  size = 'medium', \n  showIcon = true, \n  className = '',\n  animated = false \n}) => {\n  const sizeClasses = {\n    small: 'text-lg',\n    medium: 'text-2xl',\n    large: 'text-4xl',\n    xl: 'text-6xl'\n  };\n\n  const iconSizes = {\n    small: 'w-4 h-4',\n    medium: 'w-6 h-6', \n    large: 'w-8 h-8',\n    xl: 'w-12 h-12'\n  };\n\n  return (\n    <div className={`flex items-center space-x-2 ${className}`}>\n      {showIcon && (\n        <Pin className={`text-purple-400 ${iconSizes[size]} ${animated ? 'animate-pulse' : ''}`} />\n      )}\n      <span className={`font-bold text-white ${sizeClasses[size]} ${animated ? 'transition-all duration-300' : ''}`}>\n        {balance || 0}\n      </span>\n      <span className=\"text-gray-400 text-sm font-normal\">\n        PIN{balance !== 1 ? 's' : ''}\n      </span>\n    </div>\n  );\n});\n\n// =====================================================\n// PIN CHANGE INDICATOR COMPONENT\n// =====================================================\n\nexport const PinChangeIndicator = memo(({ \n  actionType, \n  amount, \n  size = 'medium',\n  showIcon = true \n}) => {\n  const config = getActionTypeDisplay(actionType);\n  const formattedAmount = formatPinAmount(actionType, amount);\n  \n  const sizeClasses = {\n    small: 'text-sm px-2 py-1',\n    medium: 'text-base px-3 py-1.5',\n    large: 'text-lg px-4 py-2'\n  };\n\n  const iconSizes = {\n    small: 'w-3 h-3',\n    medium: 'w-4 h-4',\n    large: 'w-5 h-5'\n  };\n\n  const colorClasses = {\n    green: 'bg-green-500/20 text-green-400 border-green-500/30',\n    red: 'bg-red-500/20 text-red-400 border-red-500/30',\n    gray: 'bg-gray-500/20 text-gray-400 border-gray-500/30'\n  };\n\n  const IconComponent = config.sign === '+' ? TrendingUp : TrendingDown;\n\n  return (\n    <div className={`\n      inline-flex items-center space-x-1 rounded-full border font-medium\n      ${sizeClasses[size]} \n      ${colorClasses[config.color]}\n    `}>\n      {showIcon && (\n        <IconComponent className={iconSizes[size]} />\n      )}\n      <span>{formattedAmount}</span>\n    </div>\n  );\n});\n\n// =====================================================\n// ACTION TYPE BADGE COMPONENT\n// =====================================================\n\nexport const ActionTypeBadge = memo(({ \n  actionType, \n  size = 'medium',\n  showEmoji = true \n}) => {\n  const config = getActionTypeDisplay(actionType);\n  \n  const sizeClasses = {\n    small: 'text-xs px-2 py-1',\n    medium: 'text-sm px-2.5 py-1',\n    large: 'text-base px-3 py-1.5'\n  };\n\n  const colorClasses = {\n    green: 'bg-green-100 text-green-800',\n    red: 'bg-red-100 text-red-800', \n    blue: 'bg-blue-100 text-blue-800',\n    gray: 'bg-gray-100 text-gray-800'\n  };\n\n  // Map action types to appropriate background colors\n  const getBackgroundColor = (actionType) => {\n    switch (actionType) {\n      case PIN_ACTION_TYPES.ADMIN_ALLOCATION:\n        return 'green';\n      case PIN_ACTION_TYPES.CUSTOMER_CREATION:\n      case PIN_ACTION_TYPES.ADMIN_DEDUCTION:\n        return 'red';\n      default:\n        return 'gray';\n    }\n  };\n\n  const bgColor = getBackgroundColor(actionType);\n\n  return (\n    <span className={`\n      inline-flex items-center space-x-1 rounded-full font-medium\n      ${sizeClasses[size]}\n      ${colorClasses[bgColor]}\n    `}>\n      {showEmoji && <span>{config.emoji}</span>}\n      <span>{config.label}</span>\n    </span>\n  );\n});\n\n// =====================================================\n// PIN TRANSACTION ROW COMPONENT\n// =====================================================\n\nexport const PinTransactionRow = memo(({ \n  transaction, \n  showUser = false,\n  showCreator = false,\n  compact = false \n}) => {\n  const config = getActionTypeDisplay(transaction.action_type);\n  const formattedDate = new Date(transaction.created_at).toLocaleDateString();\n  const formattedTime = new Date(transaction.created_at).toLocaleTimeString([], { \n    hour: '2-digit', \n    minute: '2-digit' \n  });\n\n  if (compact) {\n    return (\n      <div className=\"flex items-center justify-between py-2 border-b border-gray-700/50 last:border-b-0\">\n        <div className=\"flex items-center space-x-3\">\n          <ActionTypeBadge actionType={transaction.action_type} size=\"small\" />\n          <span className=\"text-gray-300 text-sm\">{transaction.note}</span>\n        </div>\n        <div className=\"flex items-center space-x-3\">\n          <PinChangeIndicator \n            actionType={transaction.action_type} \n            amount={transaction.pin_change_value}\n            size=\"small\"\n          />\n          <span className=\"text-gray-400 text-xs\">{formattedDate}</span>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <tr className=\"hover:bg-gray-800/30 transition-colors\">\n      <td className=\"px-6 py-4 whitespace-nowrap\">\n        <span className=\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-purple-100 text-purple-800\">\n          {transaction.transaction_id}\n        </span>\n      </td>\n      \n      {showUser && (\n        <td className=\"px-6 py-4 whitespace-nowrap\">\n          <div className=\"text-sm font-medium text-white\">{transaction.userName}</div>\n          <div className=\"text-xs text-gray-400\">{transaction.userEmail}</div>\n        </td>\n      )}\n      \n      <td className=\"px-6 py-4 whitespace-nowrap\">\n        <PinChangeIndicator \n          actionType={transaction.action_type} \n          amount={transaction.pin_change_value}\n        />\n      </td>\n      \n      <td className=\"px-6 py-4 whitespace-nowrap\">\n        <ActionTypeBadge actionType={transaction.action_type} />\n      </td>\n      \n      <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-300\">\n        <div>{formattedDate}</div>\n        <div className=\"text-xs text-gray-500\">{formattedTime}</div>\n      </td>\n      \n      <td className=\"px-6 py-4 text-sm text-gray-300 max-w-xs\">\n        <div className=\"truncate\" title={transaction.note}>\n          {transaction.note}\n        </div>\n      </td>\n      \n      {showCreator && (\n        <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-300\">\n          {transaction.creatorName}\n        </td>\n      )}\n      \n      <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-400\">\n        {transaction.balance_after}\n      </td>\n    </tr>\n  );\n});\n\n// =====================================================\n// PIN STATISTICS CARDS COMPONENT\n// =====================================================\n\nexport const PinStatsCards = memo(({ stats, loading = false }) => {\n  if (loading) {\n    return (\n      <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6\">\n        {[1, 2, 3, 4].map(i => (\n          <div key={i} className=\"bg-gray-800/50 rounded-lg p-6 animate-pulse\">\n            <div className=\"h-4 bg-gray-700 rounded mb-2\"></div>\n            <div className=\"h-8 bg-gray-700 rounded mb-4\"></div>\n            <div className=\"h-3 bg-gray-700 rounded w-2/3\"></div>\n          </div>\n        ))}\n      </div>\n    );\n  }\n\n  const cards = [\n    {\n      title: 'Total Transactions',\n      value: stats.totalTransactions,\n      icon: Clock,\n      color: 'purple',\n      gradient: 'from-purple-500 to-pink-600'\n    },\n    {\n      title: 'Customer Creations',\n      value: stats.customerCreations,\n      icon: XCircle,\n      color: 'red',\n      gradient: 'from-red-500 to-pink-600'\n    },\n    {\n      title: 'Admin Allocations',\n      value: stats.adminAllocations,\n      icon: CheckCircle,\n      color: 'green',\n      gradient: 'from-green-500 to-emerald-600'\n    },\n    {\n      title: 'Total PINs Allocated',\n      value: stats.totalPinsAllocated,\n      icon: TrendingUp,\n      color: 'blue',\n      gradient: 'from-blue-500 to-indigo-600'\n    }\n  ];\n\n  return (\n    <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6\">\n      {cards.map((card, index) => {\n        const Icon = card.icon;\n        return (\n          <div key={index} className=\"bg-gray-800/50 backdrop-blur-sm rounded-lg p-6 border border-gray-700/50 hover:border-gray-600/50 transition-all duration-300\">\n            <div className=\"flex items-center justify-between\">\n              <div>\n                <p className=\"text-gray-300 text-sm font-medium\">{card.title}</p>\n                <p className=\"text-3xl font-bold text-white mt-1\">{card.value}</p>\n              </div>\n              <div className={`w-14 h-14 bg-gradient-to-r ${card.gradient} rounded-xl flex items-center justify-center shadow-lg`}>\n                <Icon className=\"w-7 h-7 text-white\" />\n              </div>\n            </div>\n          </div>\n        );\n      })}\n    </div>\n  );\n});\n\n// =====================================================\n// PIN TRANSACTION TABLE COMPONENT\n// =====================================================\n\nexport const PinTransactionTable = memo(({ \n  transactions, \n  loading = false,\n  showUser = false,\n  showCreator = false,\n  emptyMessage = \"No PIN transactions found\"\n}) => {\n  if (loading) {\n    return (\n      <div className=\"overflow-x-auto\">\n        <table className=\"w-full\">\n          <thead className=\"bg-gray-800/50\">\n            <tr>\n              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider\">Transaction ID</th>\n              {showUser && <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider\">User</th>}\n              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider\">PINs</th>\n              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider\">Action Type</th>\n              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider\">Date</th>\n              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider\">Notes</th>\n              {showCreator && <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider\">Created By</th>}\n              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider\">Balance After</th>\n            </tr>\n          </thead>\n          <tbody className=\"divide-y divide-gray-700/50\">\n            {[1, 2, 3, 4, 5].map(i => (\n              <tr key={i} className=\"animate-pulse\">\n                <td className=\"px-6 py-4\"><div className=\"h-4 bg-gray-700 rounded w-24\"></div></td>\n                {showUser && <td className=\"px-6 py-4\"><div className=\"h-4 bg-gray-700 rounded w-32\"></div></td>}\n                <td className=\"px-6 py-4\"><div className=\"h-4 bg-gray-700 rounded w-16\"></div></td>\n                <td className=\"px-6 py-4\"><div className=\"h-4 bg-gray-700 rounded w-28\"></div></td>\n                <td className=\"px-6 py-4\"><div className=\"h-4 bg-gray-700 rounded w-20\"></div></td>\n                <td className=\"px-6 py-4\"><div className=\"h-4 bg-gray-700 rounded w-40\"></div></td>\n                {showCreator && <td className=\"px-6 py-4\"><div className=\"h-4 bg-gray-700 rounded w-24\"></div></td>}\n                <td className=\"px-6 py-4\"><div className=\"h-4 bg-gray-700 rounded w-12\"></div></td>\n              </tr>\n            ))}\n          </tbody>\n        </table>\n      </div>\n    );\n  }\n\n  if (transactions.length === 0) {\n    return (\n      <div className=\"text-center py-12\">\n        <Pin className=\"w-16 h-16 text-gray-600 mb-4 mx-auto\" />\n        <p className=\"text-gray-300 text-lg mb-2\">{emptyMessage}</p>\n        <p className=\"text-gray-400 text-sm\">PIN transactions will appear here when they occur.</p>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"overflow-x-auto\">\n      <table className=\"w-full\">\n        <thead className=\"bg-gray-800/50\">\n          <tr>\n            <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider\">Transaction ID</th>\n            {showUser && <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider\">User</th>}\n            <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider\">PINs</th>\n            <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider\">Action Type</th>\n            <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider\">Date</th>\n            <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider\">Notes</th>\n            {showCreator && <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider\">Created By</th>}\n            <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider\">Balance After</th>\n          </tr>\n        </thead>\n        <tbody className=\"divide-y divide-gray-700/50\">\n          {transactions.map((transaction) => (\n            <PinTransactionRow \n              key={transaction.id}\n              transaction={transaction}\n              showUser={showUser}\n              showCreator={showCreator}\n            />\n          ))}\n        </tbody>\n      </table>\n    </div>\n  );\n});\n\n// =====================================================\n// PIN BALANCE WIDGET COMPONENT\n// =====================================================\n\nexport const PinBalanceWidget = memo(({ \n  userId, \n  title = \"PIN Balance\",\n  showRefresh = true,\n  autoRefresh = false,\n  refreshInterval = 30000 \n}) => {\n  const [balance, setBalance] = useState(0);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n\n  const loadBalance = async () => {\n    try {\n      setLoading(true);\n      setError(null);\n      \n      const { getUserPinBalance } = await import('../services/pinTransactionService');\n      const currentBalance = await getUserPinBalance(userId);\n      setBalance(currentBalance);\n      \n    } catch (err) {\n      console.error('Failed to load PIN balance:', err);\n      setError(err.message);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    if (userId) {\n      loadBalance();\n    }\n  }, [userId]);\n\n  useEffect(() => {\n    if (autoRefresh && userId) {\n      const interval = setInterval(loadBalance, refreshInterval);\n      return () => clearInterval(interval);\n    }\n  }, [autoRefresh, refreshInterval, userId]);\n\n  if (loading) {\n    return (\n      <div className=\"bg-gray-800/50 rounded-lg p-6 animate-pulse\">\n        <div className=\"h-4 bg-gray-700 rounded mb-2 w-24\"></div>\n        <div className=\"h-8 bg-gray-700 rounded w-16\"></div>\n      </div>\n    );\n  }\n\n  if (error) {\n    return (\n      <div className=\"bg-red-500/10 border border-red-500/30 rounded-lg p-6\">\n        <div className=\"flex items-center space-x-2\">\n          <AlertCircle className=\"w-5 h-5 text-red-400\" />\n          <span className=\"text-red-300 text-sm\">Failed to load balance</span>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"bg-gradient-to-br from-purple-500/10 to-pink-500/10 border border-purple-500/30 rounded-lg p-6\">\n      <div className=\"flex items-center justify-between mb-2\">\n        <h3 className=\"text-purple-300 text-sm font-medium uppercase tracking-wider\">{title}</h3>\n        {showRefresh && (\n          <button\n            onClick={loadBalance}\n            className=\"text-purple-400 hover:text-purple-300 transition-colors\"\n            title=\"Refresh balance\"\n          >\n            <Clock className=\"w-4 h-4\" />\n          </button>\n        )}\n      </div>\n      <PinBalance balance={balance} size=\"large\" animated />\n    </div>\n  );\n});\n\nexport default {\n  PinBalance,\n  PinChangeIndicator,\n  ActionTypeBadge,\n  PinTransactionRow,\n  PinStatsCards,\n  PinTransactionTable,\n  PinBalanceWidget\n};\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Pin\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8bGluZSB4MT0iMTIiIHgyPSIxMiIgeTE9IjE3IiB5Mj0iMjIiIC8+CiAgPHBhdGggZD0iTTUgMTdoMTR2LTEuNzZhMiAyIDAgMCAwLTEuMTEtMS43OWwtMS43OC0uOUEyIDIgMCAwIDEgMTUgMTAuNzZWNmgxYTIgMiAwIDAgMCAwLTRIOGEyIDIgMCAwIDAgMCA0aDF2NC43NmEyIDIgMCAwIDEtMS4xMSAxLjc5bC0xLjc4LjlBMiAyIDAgMCAwIDUgMTUuMjRaIiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/pin\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Pin = createLucideIcon('Pin', [\n  ['line', { x1: '12', x2: '12', y1: '17', y2: '22', key: '1jrz49' }],\n  [\n    'path',\n    {\n      d: 'M5 17h14v-1.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V6h1a2 2 0 0 0 0-4H8a2 2 0 0 0 0 4h1v4.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24Z',\n      key: '13yl11',\n    },\n  ],\n]);\n\nexport default Pin;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Search\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8Y2lyY2xlIGN4PSIxMSIgY3k9IjExIiByPSI4IiAvPgogIDxwYXRoIGQ9Im0yMSAyMS00LjMtNC4zIiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/search\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Search = createLucideIcon('Search', [\n  ['circle', { cx: '11', cy: '11', r: '8', key: '4ej97u' }],\n  ['path', { d: 'm21 21-4.3-4.3', key: '1qie3q' }],\n]);\n\nexport default Search;\n"],"names":["FileText","createLucideIcon","d","key","points","x1","x2","y1","y2","PIN_REQUEST_STATUS","PENDING","APPROVED","REJECTED","PIN_REQUEST_CONFIG","emoji","label","color","description","getPinRequests","async","promoterId","arguments","length","undefined","status","limit","data","tableCheck","error","tableError","supabase","from","select","code","console","warn","rpc","p_promoter_id","p_status","p_limit","_error$message2","simpleQuery","order","ascending","eq","directData","directError","map","request","_objectSpread","requested_pins","quantity","request_number","request_id","approved_by","processed_by","approved_at","response_date","promoter_name","promoter_email","admin_name","statusConfig","formattedRequestNumber","formatted_request_id","concat","String","padStart","formattedDate","Date","created_at","toLocaleDateString","formattedTime","toLocaleTimeString","hour","minute","message","includes","manualApproveRequest","requestId","adminId","adminNotes","requestError","single","Error","log","pinResult","pinTransactionService","promoter_id","success","updateError","update","admin_notes","toISOString","allocated_pins","new_balance","balance_after","manualRejectRequest","submitPinRequest","requestedPins","reason","p_requested_pins","p_reason","_error$message","pendingCheck","insertData","insertError","insert","category","urgency","id","approvePinRequest","p_request_id","p_admin_id","p_admin_notes","rejectPinRequest","getPinRequestStats","requests","totalRequests","pendingRequests","filter","r","approvedRequests","rejectedRequests","totalPinsRequested","reduce","sum","totalPinsApproved","hasPendingRequests","subscribeToPinRequests","callback","channel","on","event","schema","table","payload","subscribe","formatPinRequest","displayTitle","displayStatus","displayDate","displayReason","validatePinRequest","errors","push","isValid","Send","XCircle","cx","cy","PinRequestTable","memo","_ref","loading","showPromoter","emptyMessage","onApprove","onReject","showActions","getStatusIcon","_jsx","Clock","className","CheckCircle","getStatusBadge","config","_jsxs","yellow","green","red","gray","children","i","User","Calendar","title","onClick","displayName","Plus","width","height","x","y","rx","ry","PIN_ACTION_TYPES","CUSTOMER_CREATION","ADMIN_ALLOCATION","ADMIN_DEDUCTION","PIN_DISPLAY_CONFIG","sign","getUserPinBalance","userId","pins","formatPinAmount","actionType","pinChangeValue","toString","absValue","Math","abs","getActionTypeDisplay","executePinTransaction","createdBy","relatedEntityId","relatedEntityName","p_user_id","p_action_type","p_pin_change_value","p_created_by","p_related_entity_id","p_related_entity_name","deductPinForCustomerCreation","customerId","customerName","p_customer_id","p_customer_name","adminAllocatePins","targetUserId","pinAmount","p_target_user_id","p_pin_amount","adminDeductPins","getUserPinTransactions","transaction","_transaction$creator","displayConfig","action_type","formattedAmount","pin_change_value","creatorName","creator","name","getAllPinTransactions","filters","query","dateFrom","gte","dateTo","lte","_transaction$user","_transaction$user2","_transaction$user3","_transaction$creator2","userName","user","userEmail","email","userRole","role","getPinTransactionStats","totalTransactions","customerCreations","t","adminAllocations","adminDeductions","totalPinsAllocated","totalPinsDeducted","validatePinTransaction","Object","values","subscribeToPinBalance","subscribeToPinTransactions","TrendingUp","TrendingDown","PinChangeIndicator","_ref2","amount","size","showIcon","IconComponent","small","medium","large","ActionTypeBadge","_ref3","showEmoji","bgColor","getBackgroundColor","blue","PinStatsCards","_ref5","stats","cards","value","icon","gradient","card","index","Icon","Pin","Search"],"sourceRoot":""}
"use strict";(self.webpackChunkbrightplanet_ventures=self.webpackChunkbrightplanet_ventures||[]).push([[730],{1065:(e,t,s)=>{s.d(t,{A:()=>a});const a=(0,s(3797).A)("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]])},1730:(e,t,s)=>{s.r(t),s.d(t,{default:()=>y});var a=s(5043),r=s(6621),l=s(3216),n=s(1460),i=s(3959),c=s(987),d=s(917),o=s(3458),x=s(9120),m=s(8775),h=s(9256),u=s(1065),p=s(1754),g=s(6127),j=s(7662),f=s(9363),w=(s(3203),s(579));const b=(0,a.memo)(e=>{let{status:t}=e;const s=(0,a.useMemo)(()=>({pending:{color:"bg-yellow-500",icon:o.A,text:"Pending"},approved:{color:"bg-blue-500",icon:d.A,text:"Approved"},completed:{color:"bg-green-500",icon:d.A,text:"Completed"},rejected:{color:"bg-red-500",icon:u.A,text:"Rejected"}}),[]),r=s[t]||s.pending,l=r.icon;return(0,w.jsxs)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium text-white ".concat(r.color),children:[(0,w.jsx)(l,{className:"w-3 h-3 mr-1"}),r.text]})});const y=function(){var e,t,s,y,v;const{user:N,logout:A}=(0,r.As)(),{showSuccess:k,showError:q,showWarning:S,handleApiError:_}=((0,l.Zp)(),(0,f.dj)());(0,i.r9)(),(0,j.Bx)("AdminWithdrawals");const[C,R]=(0,j.pA)([]),[D,M]=(0,a.useState)("all"),[I,E]=(0,a.useState)(!0),[L,X]=(0,a.useState)(""),[O,T]=(0,a.useState)(""),[W,P]=(0,a.useState)(""),{searchTerm:V,setSearchTerm:B,filteredData:F}=(0,j.X3)(C,["profiles.name","id"],300),{openModal:z,closeModal:H,isModalOpen:J,getModalData:U}=(0,j.Aq)();(0,a.useEffect)(()=>{Q()},[]);const Q=async()=>{try{E(!0);const{data:e,error:t}=await g.ND.from("withdrawal_requests").select("\n          *,\n          profiles!withdrawal_requests_promoter_id_fkey(\n            name,\n            email,\n            phone,\n            promoter_id\n          )\n        ").order("created_at",{ascending:!1});t?(console.error("Error loading withdrawal requests:",t),R([])):R(e||[])}catch(e){console.error("Error:",e),R([])}finally{E(!1)}},Y=(0,a.useMemo)(()=>"all"===D?F:F.filter(e=>e.status===D),[F,D]),Z=C.length,G=C.filter(e=>"pending"===e.status).length,K=C.filter(e=>"approved"===e.status).length,$=C.filter(e=>"completed"===e.status).reduce((e,t)=>e+(t.amount||0),0),ee=C.filter(e=>"rejected"===e.status).length,[te,se]=(0,a.useState)(null),[ae,re]=(0,a.useState)(""),le=(0,a.useCallback)((e,t)=>{se(e),re(t),z("actionModal",{request:e,action:t})},[z]),ne=(0,a.useCallback)(e=>{se(e),z("detailsModal",e)},[z]),ie=(0,a.useCallback)(()=>{H("actionModal"),X(""),T(""),P("")},[H]),ce=(0,a.useCallback)(()=>{H("detailsModal")},[H]);return I?(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(i.wE,{}),(0,w.jsx)(n.A,{}),(0,w.jsx)(p.YB,{type:"cards"})]}):(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(i.wE,{}),(0,w.jsx)(n.A,{}),(0,w.jsxs)(i.dQ,{children:[(0,w.jsx)("div",{className:"min-h-screen p-8",children:(0,w.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,w.jsx)("div",{className:"flex justify-between items-center mb-8","data-animate":!0,children:(0,w.jsxs)("div",{children:[(0,w.jsx)("h1",{className:"text-4xl font-bold text-white mb-2",children:"Withdrawal Management"}),(0,w.jsx)("p",{className:"text-gray-300",children:"Process withdrawal requests and manage approval workflows"})]})}),(0,w.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-6 mb-8","data-animate":!0,children:[(0,w.jsx)(i.Xg,{className:"p-6 bg-white/95 border border-gray-200 shadow-lg",children:(0,w.jsxs)("div",{className:"flex items-center justify-between",children:[(0,w.jsxs)("div",{children:[(0,w.jsx)("p",{className:"text-gray-600 text-sm font-medium",children:"Total Requests"}),(0,w.jsx)("p",{className:"text-3xl font-bold text-gray-900 mt-1",children:Z})]}),(0,w.jsx)("div",{className:"w-14 h-14 bg-gradient-to-r from-blue-500 to-indigo-600 rounded-xl flex items-center justify-center shadow-lg",children:(0,w.jsx)(x.A,{className:"w-7 h-7 text-white"})})]})}),(0,w.jsx)(i.Xg,{className:"p-6 bg-white/95 border border-gray-200 shadow-lg",children:(0,w.jsxs)("div",{className:"flex items-center justify-between",children:[(0,w.jsxs)("div",{children:[(0,w.jsx)("p",{className:"text-gray-600 text-sm font-medium",children:"Pending Requests"}),(0,w.jsx)("p",{className:"text-3xl font-bold text-gray-900 mt-1",children:G})]}),(0,w.jsx)("div",{className:"w-14 h-14 bg-gradient-to-r from-yellow-500 to-orange-600 rounded-xl flex items-center justify-center shadow-lg",children:(0,w.jsx)(o.A,{className:"w-7 h-7 text-white"})})]})}),(0,w.jsx)(i.Xg,{className:"p-6 bg-white/95 border border-gray-200 shadow-lg",children:(0,w.jsxs)("div",{className:"flex items-center justify-between",children:[(0,w.jsxs)("div",{children:[(0,w.jsx)("p",{className:"text-gray-600 text-sm font-medium",children:"Approved Requests"}),(0,w.jsx)("p",{className:"text-3xl font-bold text-gray-900 mt-1",children:K})]}),(0,w.jsx)("div",{className:"w-14 h-14 bg-gradient-to-r from-blue-500 to-indigo-600 rounded-xl flex items-center justify-center shadow-lg",children:(0,w.jsx)(d.A,{className:"w-7 h-7 text-white"})})]})}),(0,w.jsx)(i.Xg,{className:"p-6 bg-white/95 border border-gray-200 shadow-lg",children:(0,w.jsxs)("div",{className:"flex items-center justify-between",children:[(0,w.jsxs)("div",{children:[(0,w.jsx)("p",{className:"text-gray-600 text-sm font-medium",children:"Completed Amount"}),(0,w.jsxs)("p",{className:"text-3xl font-bold text-gray-900 mt-1",children:["\u20b9",$.toLocaleString()]})]}),(0,w.jsx)("div",{className:"w-14 h-14 bg-gradient-to-r from-green-500 to-emerald-600 rounded-xl flex items-center justify-center shadow-lg",children:(0,w.jsx)(x.A,{className:"w-7 h-7 text-white"})})]})}),(0,w.jsx)(i.Xg,{className:"p-6 bg-white/95 border border-gray-200 shadow-lg",children:(0,w.jsxs)("div",{className:"flex items-center justify-between",children:[(0,w.jsxs)("div",{children:[(0,w.jsx)("p",{className:"text-gray-600 text-sm font-medium",children:"Rejected Requests"}),(0,w.jsx)("p",{className:"text-3xl font-bold text-gray-900 mt-1",children:ee})]}),(0,w.jsx)("div",{className:"w-14 h-14 bg-gradient-to-r from-red-500 to-pink-600 rounded-xl flex items-center justify-center shadow-lg",children:(0,w.jsx)(u.A,{className:"w-7 h-7 text-white"})})]})})]}),(0,w.jsx)(i.Xg,{className:"p-6 mb-8","data-animate":!0,children:(0,w.jsxs)("div",{className:"flex flex-col md:flex-row gap-4",children:[(0,w.jsxs)("div",{className:"flex-1 relative",children:[(0,w.jsx)(h.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),(0,w.jsx)("input",{type:"text",placeholder:"Search by promoter name or request ID...",value:V,onChange:e=>B(e.target.value),className:"w-full pl-10 pr-4 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-green-500"})]}),(0,w.jsx)("div",{className:"flex gap-4",children:(0,w.jsxs)("select",{value:D,onChange:e=>M(e.target.value),className:"px-4 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-green-500",children:[(0,w.jsx)("option",{value:"all",children:"All Status"}),(0,w.jsx)("option",{value:"pending",children:"Pending"}),(0,w.jsx)("option",{value:"approved",children:"Approved"}),(0,w.jsx)("option",{value:"completed",children:"Completed"}),(0,w.jsx)("option",{value:"rejected",children:"Rejected"})]})})]})}),(0,w.jsx)(i.Xg,{className:"overflow-hidden","data-animate":!0,children:0===Y.length?(0,w.jsxs)("div",{className:"p-12 text-center",children:[(0,w.jsx)(c.A,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),(0,w.jsx)("h3",{className:"text-lg font-medium text-white mb-2",children:"No Withdrawal Requests"}),(0,w.jsx)("p",{className:"text-gray-400",children:0===C.length?"No withdrawal requests have been submitted yet.":"No requests match your current filters."})]}):(0,w.jsx)("div",{className:"overflow-x-auto",children:(0,w.jsxs)("table",{className:"w-full",children:[(0,w.jsx)("thead",{className:"bg-gray-700",children:(0,w.jsxs)("tr",{children:[(0,w.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Request ID"}),(0,w.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Promoter Details"}),(0,w.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Amount"}),(0,w.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Status"}),(0,w.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Request Date"}),(0,w.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Actions"})]})}),(0,w.jsx)("tbody",{className:"bg-gray-800 divide-y divide-gray-700",children:Y.map(e=>{var t,s;return(0,w.jsxs)("tr",{className:"hover:bg-gray-700",children:[(0,w.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-white",children:(0,w.jsx)("p",{className:"font-semibold",children:e.request_number||"N/A"})}),(0,w.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-300",children:(0,w.jsxs)("div",{children:[(0,w.jsx)("p",{className:"text-white font-medium",children:(null===(t=e.profiles)||void 0===t?void 0:t.name)||"Unknown"}),(0,w.jsx)("p",{className:"text-xs text-gray-400",children:(null===(s=e.profiles)||void 0===s?void 0:s.promoter_id)||"No ID"})]})}),(0,w.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-white font-semibold",children:["\u20b9",(e.amount||0).toLocaleString()]}),(0,w.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,w.jsx)(b,{status:e.status})}),(0,w.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-300",children:new Date(e.created_at||Date.now()).toLocaleDateString()}),(0,w.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:(0,w.jsxs)("div",{className:"flex space-x-2",children:[(0,w.jsx)("button",{onClick:()=>ne(e),className:"text-blue-400 hover:text-blue-300 transition-colors",children:(0,w.jsx)(m.A,{className:"w-4 h-4"})}),"pending"===e.status&&(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)("button",{onClick:()=>le(e,"approved"),className:"text-green-400 hover:text-green-300 transition-colors",title:"Approve Request",children:(0,w.jsx)(d.A,{className:"w-4 h-4"})}),(0,w.jsx)("button",{onClick:()=>le(e,"rejected"),className:"text-red-400 hover:text-red-300 transition-colors",title:"Reject Request",children:(0,w.jsx)(u.A,{className:"w-4 h-4"})})]}),"approved"===e.status&&(0,w.jsx)("button",{onClick:()=>le(e,"completed"),className:"text-blue-400 hover:text-blue-300 transition-colors",title:"Mark as Completed",children:(0,w.jsx)(x.A,{className:"w-4 h-4"})})]})})]},e.id)})})]})})})]})}),J("actionModal")&&te&&(0,w.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:(0,w.jsx)(i.Xg,{className:"w-full max-w-md",children:(0,w.jsxs)("div",{className:"p-6",children:[(0,w.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,w.jsxs)("h3",{className:"text-xl font-semibold text-white",children:["approved"===ae&&"Approve Withdrawal Request","rejected"===ae&&"Reject Withdrawal Request","completed"===ae&&"Mark as Completed"]}),(0,w.jsx)("button",{onClick:ie,className:"text-gray-400 hover:text-white transition-colors",children:(0,w.jsx)(u.A,{className:"w-5 h-5"})})]}),(0,w.jsxs)("div",{className:"space-y-4 mb-6",children:[(0,w.jsxs)("div",{className:"bg-gray-800/50 p-4 rounded-lg",children:[(0,w.jsx)("p",{className:"text-gray-400 text-sm",children:"Request Details"}),(0,w.jsxs)("p",{className:"text-white font-medium",children:["Amount: \u20b9",null===(e=te.amount)||void 0===e?void 0:e.toLocaleString()]}),(0,w.jsxs)("p",{className:"text-gray-300 text-sm",children:["Promoter: ",null===(t=te.profiles)||void 0===t?void 0:t.name]}),(0,w.jsxs)("p",{className:"text-gray-300 text-sm",children:["Request ID: ",te.request_number||te.id]})]}),"rejected"===ae&&(0,w.jsxs)("div",{children:[(0,w.jsx)("label",{className:"block text-gray-400 text-sm mb-2",children:"Rejection Reason *"}),(0,w.jsx)("textarea",{value:W,onChange:e=>P(e.target.value),className:"w-full px-4 py-2 bg-gray-800/50 border border-gray-700/50 rounded-lg text-white focus:outline-none focus:border-red-500/50",placeholder:"Enter reason for rejection...",rows:"3",required:!0})]}),"completed"===ae&&(0,w.jsxs)("div",{children:[(0,w.jsx)("label",{className:"block text-gray-400 text-sm mb-2",children:"Transaction ID *"}),(0,w.jsx)("input",{type:"text",value:O,onChange:e=>T(e.target.value),className:"w-full px-4 py-2 bg-gray-800/50 border border-gray-700/50 rounded-lg text-white focus:outline-none focus:border-green-500/50",placeholder:"Enter transaction/reference ID...",required:!0})]}),(0,w.jsxs)("div",{children:[(0,w.jsx)("label",{className:"block text-gray-400 text-sm mb-2",children:"Admin Notes (Optional)"}),(0,w.jsx)("textarea",{value:L,onChange:e=>X(e.target.value),className:"w-full px-4 py-2 bg-gray-800/50 border border-gray-700/50 rounded-lg text-white focus:outline-none focus:border-blue-500/50",placeholder:"Add any additional notes...",rows:"2"})]})]}),(0,w.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,w.jsx)(i.Rq,{variant:"secondary",onClick:ie,children:"Cancel"}),(0,w.jsxs)(i.Rq,{onClick:()=>(async(e,t)=>{try{let s={status:t,processed_at:(new Date).toISOString(),processed_by:N.id};"approved"===t&&L?s.admin_notes=L:"rejected"===t&&W?(s.rejection_reason=W,s.admin_notes=L):"completed"===t&&O&&(s.transaction_id=O,s.completed_at=(new Date).toISOString(),s.admin_notes=L),console.log("\ud83d\udd04 Updating withdrawal request:",e,"with data:",s);const{data:a,error:r}=await g.ND.from("withdrawal_requests").update(s).eq("id",e).select();if(r)return console.error("\u274c Error updating withdrawal request:",r),void alert("Failed to update withdrawal request: "+r.message);console.log("\u2705 Withdrawal request updated successfully:",a),alert("Withdrawal request ".concat(t," successfully!")),H("actionModal"),X(""),T(""),P(""),Q()}catch(s){console.error("Error:",s),alert("An error occurred while updating the request.")}})(te.id,ae),disabled:"rejected"===ae&&!W||"completed"===ae&&!O,className:"".concat("approved"===ae?"bg-green-600 hover:bg-green-700":"rejected"===ae?"bg-red-600 hover:bg-red-700":"bg-blue-600 hover:bg-blue-700"," disabled:opacity-50 disabled:cursor-not-allowed"),children:["approved"===ae&&"Approve Request","rejected"===ae&&"Reject Request","completed"===ae&&"Mark Completed"]})]})]})})}),J("detailsModal")&&te&&(0,w.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:(0,w.jsx)(i.Xg,{className:"w-full max-w-2xl",children:(0,w.jsxs)("div",{className:"p-6",children:[(0,w.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,w.jsx)("h3",{className:"text-xl font-semibold text-white",children:"Withdrawal Request Details"}),(0,w.jsx)("button",{onClick:ce,className:"text-gray-400 hover:text-white transition-colors",children:(0,w.jsx)(u.A,{className:"w-5 h-5"})})]}),(0,w.jsxs)("div",{className:"space-y-6",children:[(0,w.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,w.jsxs)("div",{children:[(0,w.jsx)("p",{className:"text-gray-400 text-sm",children:"Request ID"}),(0,w.jsx)("p",{className:"text-white font-mono",children:te.id})]}),(0,w.jsxs)("div",{children:[(0,w.jsx)("p",{className:"text-gray-400 text-sm",children:"Status"}),(0,w.jsx)("div",{className:"mt-1",children:(0,w.jsx)(b,{status:te.status})})]})]}),(0,w.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,w.jsxs)("div",{children:[(0,w.jsx)("p",{className:"text-gray-400 text-sm",children:"Amount"}),(0,w.jsxs)("p",{className:"text-2xl font-bold text-white",children:["\u20b9",null===(s=te.amount)||void 0===s?void 0:s.toLocaleString()]})]}),(0,w.jsxs)("div",{children:[(0,w.jsx)("p",{className:"text-gray-400 text-sm",children:"Promoter"}),(0,w.jsx)("p",{className:"text-white",children:null===(y=te.profiles)||void 0===y?void 0:y.name}),(0,w.jsx)("p",{className:"text-gray-300 text-sm",children:null===(v=te.profiles)||void 0===v?void 0:v.email})]})]}),(0,w.jsxs)("div",{children:[(0,w.jsx)("p",{className:"text-gray-400 text-sm",children:"Reason"}),(0,w.jsx)("p",{className:"text-white",children:te.reason||"No reason provided"})]}),te.bank_details&&(0,w.jsxs)("div",{children:[(0,w.jsx)("p",{className:"text-gray-400 text-sm",children:"Bank Details"}),(0,w.jsxs)("div",{className:"bg-gray-800/50 p-4 rounded-lg mt-1",children:[(0,w.jsxs)("p",{className:"text-white",children:["Bank: ",te.bank_details.bank_name]}),(0,w.jsxs)("p",{className:"text-white",children:["Account: ",te.bank_details.account_number]}),(0,w.jsxs)("p",{className:"text-white",children:["Holder: ",te.bank_details.account_holder]}),(0,w.jsxs)("p",{className:"text-white",children:["IFSC: ",te.bank_details.ifsc]})]})]}),(0,w.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,w.jsxs)("div",{children:[(0,w.jsx)("p",{className:"text-gray-400 text-sm",children:"Request Date"}),(0,w.jsx)("p",{className:"text-white",children:new Date(te.created_at).toLocaleString()})]}),te.processed_at&&(0,w.jsxs)("div",{children:[(0,w.jsx)("p",{className:"text-gray-400 text-sm",children:"Processed Date"}),(0,w.jsx)("p",{className:"text-white",children:new Date(te.processed_at).toLocaleString()})]})]}),te.completed_at&&(0,w.jsxs)("div",{children:[(0,w.jsx)("p",{className:"text-gray-400 text-sm",children:"Completed Date"}),(0,w.jsx)("p",{className:"text-white",children:new Date(te.completed_at).toLocaleString()})]}),te.transaction_id&&(0,w.jsxs)("div",{children:[(0,w.jsx)("p",{className:"text-gray-400 text-sm",children:"Transaction ID"}),(0,w.jsx)("p",{className:"text-white font-mono",children:te.transaction_id})]}),te.admin_notes&&(0,w.jsxs)("div",{children:[(0,w.jsx)("p",{className:"text-gray-400 text-sm",children:"Admin Notes"}),(0,w.jsx)("p",{className:"text-white",children:te.admin_notes})]}),te.rejection_reason&&(0,w.jsxs)("div",{className:"bg-red-500/10 border border-red-500/20 rounded-lg p-4",children:[(0,w.jsx)("p",{className:"text-red-400 text-sm font-medium",children:"Rejection Reason"}),(0,w.jsx)("p",{className:"text-white mt-1",children:te.rejection_reason})]})]}),(0,w.jsx)("div",{className:"flex justify-end mt-6",children:(0,w.jsx)(i.Rq,{variant:"secondary",onClick:ce,children:"Close"})})]})})})]})]})}},7662:(e,t,s)=>{s.d(t,{Aq:()=>d,Bx:()=>c,X3:()=>i,pA:()=>n});var a=s(2555),r=s(5043);new Map;class l{constructor(){this.subscriptions=new Map,this.syncIntervals=new Map,this.isVisible=!0,this.setupVisibilityListener()}setupVisibilityListener(){document.addEventListener("visibilitychange",()=>{this.isVisible=!document.hidden,this.isVisible?this.resumeAllSyncs():this.pauseAllSyncs()})}subscribe(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3e4;if(this.subscriptions.set(e,t),this.isVisible){const a=setInterval(async()=>{if(this.isVisible)try{await t()}catch(s){console.error("Background sync failed for ".concat(e,":"),s)}},s);this.syncIntervals.set(e,a)}}unsubscribe(e){const t=this.syncIntervals.get(e);t&&(clearInterval(t),this.syncIntervals.delete(e)),this.subscriptions.delete(e)}pauseAllSyncs(){this.syncIntervals.forEach(e=>{clearInterval(e)}),this.syncIntervals.clear()}resumeAllSyncs(){this.subscriptions.forEach((e,t)=>{const s=setInterval(async()=>{if(this.isVisible)try{await e()}catch(s){console.error("Background sync failed for ".concat(t,":"),s)}},3e4);this.syncIntervals.set(t,s)})}destroy(){this.pauseAllSyncs(),this.subscriptions.clear()}}new l;const n=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const[s,a]=r.useState(e),l=(0,r.useRef)(e);return[s,(0,r.useCallback)(e=>{const s="function"===typeof e?e(l.current):e;(t?!t(l.current,s):JSON.stringify(l.current)!==JSON.stringify(s))&&(l.current=s,a(s))},[t])]},i=function(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:300;const[a,l]=r.useState(""),[n,i]=r.useState(e),c=(0,r.useCallback)(((e,t)=>{let s;return function(){for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];clearTimeout(s),s=setTimeout(()=>{clearTimeout(s),e(...r)},t)}})((e,s)=>{if(!e.trim())return void i(s);const a=s.filter(s=>t.some(t=>{const a=t.split(".").reduce((e,t)=>null===e||void 0===e?void 0:e[t],s);return null===a||void 0===a?void 0:a.toString().toLowerCase().includes(e.toLowerCase())}));i(a)},s),[t,s]);return(0,r.useEffect)(()=>{c(a,e||[])},[a,e,c]),{searchTerm:a,setSearchTerm:l,filteredData:n}},c=e=>{const t=(0,r.useRef)(0),s=(0,r.useRef)(Date.now());return(0,r.useEffect)(()=>{t.current+=1}),(0,r.useEffect)(()=>{const a=Date.now()-s.current;return console.log("\ud83c\udfaf ".concat(e," loaded in ").concat(a,"ms")),()=>{console.log("\ud83d\udcca ".concat(e," rendered ").concat(t.current," times"))}},[e]),{renderCount:t.current}},d=()=>{const[e,t]=r.useState({});return{openModal:(0,r.useCallback)(function(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;t(t=>(0,a.A)((0,a.A)({},t),{},{[e]:{isOpen:!0,data:s}}))},[]),closeModal:(0,r.useCallback)(e=>{t(t=>(0,a.A)((0,a.A)({},t),{},{[e]:{isOpen:!1,data:null}}))},[]),isModalOpen:(0,r.useCallback)(t=>{var s;return(null===(s=e[t])||void 0===s?void 0:s.isOpen)||!1},[e]),getModalData:(0,r.useCallback)(t=>{var s;return(null===(s=e[t])||void 0===s?void 0:s.data)||null},[e])}}},9120:(e,t,s)=>{s.d(t,{A:()=>a});const a=(0,s(3797).A)("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]])},9256:(e,t,s)=>{s.d(t,{A:()=>a});const a=(0,s(3797).A)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])}}]);
//# sourceMappingURL=730.35979e15.chunk.js.map
{"version":3,"file":"static/js/745.aa6d343b.chunk.js","mappings":"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","sources":["../node_modules/lucide-react/src/icons/award.ts","components/UnifiedPromoterForm.js","promoter/pages/MyPromoters.js"],"sourcesContent":["import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Award\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8Y2lyY2xlIGN4PSIxMiIgY3k9IjgiIHI9IjYiIC8+CiAgPHBhdGggZD0iTTE1LjQ3NyAxMi44OSAxNyAyMmwtNS0zLTUgMyAxLjUyMy05LjExIiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/award\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Award = createLucideIcon('Award', [\n  ['circle', { cx: '12', cy: '8', r: '6', key: '1vp47v' }],\n  ['path', { d: 'M15.477 12.89 17 22l-5-3-5 3 1.523-9.11', key: 'em7aur' }],\n]);\n\nexport default Award;\n","import React, { useState, useEffect, useCallback, useMemo } from 'react';\nimport { supabase } from '../common/services/supabaseClient';\nimport { Loader, Eye, EyeOff, CheckCircle, AlertCircle, Info, X } from 'lucide-react';\nimport MobileValidationService from '../common/services/mobileValidationService';\n\n/**\n * UnifiedPromoterForm - A comprehensive, uniform promoter creation form\n * \n * Features:\n * - Auto-generated BPVP IDs (BPVP01, BPVP02, etc.)\n * - Optional email support with shared email capability\n * - Hierarchical parent promoter selection\n * - Real-time validation and error handling\n * - Clean, consistent UI following brand guidelines\n * - Role/Level selection with default 'Affiliate'\n * - Status toggle (Active/Inactive)\n * - Comprehensive form validation\n */\n\nconst UnifiedPromoterForm = React.memo(({\n  onSubmit,\n  onCancel,\n  loading = false,\n  editingPromoter = null,\n  availableParents = [],\n  adminUsers = []\n}) => {\n  // Form state\n  const [formData, setFormData] = useState({\n    name: '',\n    email: '',\n    hasEmail: false, // Email is now optional (metadata only)\n    password: 'password123', // Auto-assigned default password\n    confirmPassword: 'password123', // Auto-assigned default password\n    mobile: '', // Mobile is now mandatory (single field)\n    address: '',\n    parentPromoter: ''\n  });\n\n  // Validation and UI state\n  const [formErrors, setFormErrors] = useState({});\n  const [showPassword, setShowPassword] = useState(false);\n  const [showConfirmPassword, setShowConfirmPassword] = useState(false);\n  const [mobileValidationState, setMobileValidationState] = useState({\n    isValidating: false,\n    isValid: false,\n    message: ''\n  });\n\n  // Role and status are now handled automatically by backend\n\n  // Populate form with editing promoter data\n  useEffect(() => {\n    if (editingPromoter) {\n      const promoterEmail = editingPromoter.email || '';\n      // Check if email is a real email (not a placeholder like noemail+uuid@brightplanetventures.local)\n      const hasRealEmail = promoterEmail &&\n        !promoterEmail.includes('noemail+') &&\n        !promoterEmail.includes('@brightplanetventures.local');\n\n      setFormData({\n        name: editingPromoter.name || '',\n        email: hasRealEmail ? promoterEmail : '',\n        hasEmail: hasRealEmail,\n        password: 'password123', // Keep default password for editing\n        confirmPassword: 'password123', // Keep default password for editing\n        mobile: editingPromoter.mobile || editingPromoter.phone || '',\n        address: editingPromoter.address || '',\n        parentPromoter: editingPromoter.parent_promoter_id || ''\n      });\n\n      // Set mobile validation as valid for existing promoters\n      setMobileValidationState({ isValidating: false, isValid: true, message: '' });\n\n      // Clear any form errors when editing\n      setFormErrors({});\n    }\n  }, [editingPromoter]);\n\n  // Combine and format parent promoter options\n  const parentPromoterOptions = useMemo(() => {\n    const adminOptions = (adminUsers || []).map(admin => ({\n      id: admin.id,\n      label: `ðŸ‘‘ ${admin.name} (Admin)`,\n      type: 'admin'\n    }));\n\n    const promoterOptions = (availableParents || []).map(promoter => ({\n      id: promoter.id || promoter._id,\n      label: promoter.isCurrentUser\n        ? `${promoter.promoter_id || 'CURRENT'} - ${promoter.name} (You)`\n        : `${promoter.promoter_id || 'N/A'} - ${promoter.name || 'Unknown'}`,\n      type: 'promoter'\n    }));\n\n    // Admin users first, then promoters\n    return [...adminOptions, ...promoterOptions];\n  }, [adminUsers, availableParents]);\n\n  // Real-time form validation with mobile number uniqueness check\n  const validateField = useCallback(async (field, value) => {\n    let errors = { ...formErrors };\n\n    switch (field) {\n      case 'name':\n        if (!value || !value.trim()) {\n          errors.name = 'Name is required';\n        } else if (value.trim().length < 2) {\n          errors.name = 'Name must be at least 2 characters';\n        } else if (!/^[a-zA-Z\\s]+$/.test(value.trim())) {\n          errors.name = 'Name must contain only letters and spaces';\n        }\n        break;\n\n      case 'email':\n        if (formData.hasEmail) {\n          if (!value || !value.trim()) {\n            errors.email = 'Email address is required';\n          } else {\n            const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n            if (!emailRegex.test(value.trim())) {\n              errors.email = 'Please enter a valid email address';\n            }\n          }\n        }\n        break;\n\n      case 'password':\n        if (!editingPromoter) { // Only validate password for new promoters\n          if (!value) {\n            errors.password = 'Password is required';\n          } else if (value.length < 8) {\n            errors.password = 'Password must be at least 8 characters';\n          } else if (!/(?=.*[a-zA-Z])(?=.*\\d)/.test(value)) {\n            errors.password = 'Password must contain both letters and numbers';\n          }\n        }\n        break;\n\n      case 'confirmPassword':\n        if (!editingPromoter && value !== formData.password) {\n          errors.confirmPassword = 'Passwords do not match';\n        }\n        break;\n\n      case 'mobile':\n        if (!value) {\n          errors.mobile = 'Mobile number is required';\n        } else {\n          // Client-side validation first\n          const clientValidation = MobileValidationService.validateMobileFormat(value);\n          if (!clientValidation.is_valid) {\n            errors.mobile = clientValidation.error;\n          } else {\n            // Server-side validation for uniqueness\n            try {\n              const serverValidation = await MobileValidationService.validateMobileNumber(\n                value,\n                editingPromoter?.id || null,\n                null,\n                'promoter' // Explicitly pass role to enforce uniqueness\n              );\n\n              if (!serverValidation.success || !serverValidation.is_valid) {\n                errors.mobile = serverValidation.error || 'Mobile number validation failed';\n              }\n            } catch (error) {\n              errors.mobile = 'Mobile number validation service unavailable';\n            }\n          }\n        }\n        break;\n\n      case 'parentPromoter':\n        if (!value && parentPromoterOptions.length > 0) {\n          errors.parentPromoter = 'Parent promoter selection is required';\n        }\n        break;\n\n      default:\n        break;\n    }\n\n    setFormErrors(errors);\n    return errors;\n  }, [formData, formErrors, editingPromoter]);\n\n  // Handle input changes with real-time validation\n  const handleInputChange = useCallback((fieldName, value) => {\n    setFormData(prev => ({ ...prev, [fieldName]: value }));\n\n    // Real-time validation (for non-async fields)\n    const fieldErrors = validateField(fieldName, value);\n    setFormErrors(prev => ({ ...prev, ...fieldErrors }));\n\n    // Clear error if field is now valid\n    if (!fieldErrors[fieldName] && formErrors[fieldName]) {\n      setFormErrors(prev => {\n        const newErrors = { ...prev };\n        delete newErrors[fieldName];\n        return newErrors;\n      });\n    }\n  }, [validateField, formErrors]);\n\n  // Async mobile number validation with debouncing\n  const validateMobileNumber = useCallback(async (mobileNumber) => {\n    if (!mobileNumber) {\n      setFormErrors(prev => ({ ...prev, mobile: 'Mobile number is required' }));\n      setMobileValidationState({ isValidating: false, isValid: false, message: '' });\n      return;\n    }\n\n    // Skip validation for existing promoters when editing\n    if (editingPromoter) {\n      setMobileValidationState({ isValidating: false, isValid: true, message: '' });\n      // Properly remove mobile error by deleting the key\n      setFormErrors(prev => {\n        const newErrors = { ...prev };\n        delete newErrors.mobile;\n        return newErrors;\n      });\n      return;\n    }\n\n    // Client-side validation first\n    const clientValidation = MobileValidationService.validateMobileFormat(mobileNumber);\n    if (!clientValidation.is_valid) {\n      setFormErrors(prev => ({ ...prev, mobile: clientValidation.error }));\n      setMobileValidationState({ isValidating: false, isValid: false, message: '' });\n      return;\n    }\n\n    // Set loading state\n    setMobileValidationState({ isValidating: true, isValid: false, message: 'Validating mobile number...' });\n    // Properly remove mobile error while validating\n    setFormErrors(prev => {\n      const newErrors = { ...prev };\n      delete newErrors.mobile;\n      return newErrors;\n    });\n\n    // Server-side validation for uniqueness\n    try {\n      const serverValidation = await MobileValidationService.validateMobileNumber(\n        mobileNumber,\n        editingPromoter?.id || null,\n        null,\n        'promoter'\n      );\n\n      if (!serverValidation.success || !serverValidation.is_valid) {\n        const errorMessage = serverValidation.error || 'Mobile number validation failed';\n        setFormErrors(prev => ({ ...prev, mobile: errorMessage }));\n        setMobileValidationState({\n          isValidating: false,\n          isValid: false,\n          message: errorMessage\n        });\n      } else {\n        // Properly remove mobile error on success\n        setFormErrors(prev => {\n          const newErrors = { ...prev };\n          delete newErrors.mobile;\n          return newErrors;\n        });\n        setMobileValidationState({\n          isValidating: false,\n          isValid: true,\n          message: ''\n        });\n      }\n    } catch (error) {\n      const errorMessage = 'Mobile number validation service unavailable';\n      setFormErrors(prev => ({ ...prev, mobile: errorMessage }));\n      setMobileValidationState({\n        isValidating: false,\n        isValid: false,\n        message: errorMessage\n      });\n    }\n  }, [editingPromoter]);\n\n  // Debounced mobile validation\n  const debouncedMobileValidation = useCallback(\n    (value) => {\n      const timeoutId = setTimeout(() => {\n        validateMobileNumber(value);\n      }, 500);\n\n      return () => clearTimeout(timeoutId);\n    },\n    [validateMobileNumber]\n  );\n\n  // Comprehensive form validation\n  const validateForm = useCallback(() => {\n    const errors = {};\n\n    // Validate all fields\n    Object.keys(formData).forEach(fieldName => {\n      const fieldErrors = validateField(fieldName, formData[fieldName]);\n      Object.assign(errors, fieldErrors);\n    });\n\n    // Additional validations - promoter ID, role, and status are handled by backend\n\n    setFormErrors(errors);\n    return Object.keys(errors).length === 0;\n  }, [formData, validateField, editingPromoter]);\n\n  // Parent promoter selection is now mandatory - no auto-selection\n\n  // Handle form submission\n  const handleSubmit = useCallback(async (e) => {\n    e.preventDefault();\n\n    if (!validateForm()) {\n      return;\n    }\n\n    // Prepare submission data for new Promoter ID system\n    const submissionData = {\n      name: formData.name,\n      email: formData.hasEmail && formData.email ? formData.email : null,\n      password: formData.password,\n      mobile: formData.mobile, // Use mobile field instead of phone\n      address: formData.address || null,\n      parentPromoter: formData.parentPromoter || null,\n      // Note: Promoter ID will be auto-generated by the backend\n      useNewSystem: true // Flag to indicate using new Promoter ID system\n    };\n\n    await onSubmit(submissionData);\n  }, [formData, validateForm, onSubmit]);\n\n  return (\n    <div className=\"bg-gray-800 rounded-lg p-6 w-full max-w-2xl mx-4 max-h-[90vh] overflow-y-auto\">\n      {/* Header */}\n      <div className=\"flex items-center justify-between border-b border-gray-700 pb-4 mb-6\">\n        <div>\n          <h3 className=\"text-xl font-semibold text-white\">\n            {editingPromoter ? 'Edit Promoter' : 'Create New Promoter'}\n          </h3>\n          {editingPromoter && (\n            <p className=\"text-gray-400 text-sm mt-1\">\n              Update promoter information and hierarchy\n            </p>\n          )}\n        </div>\n        <button\n          type=\"button\"\n          onClick={onCancel}\n          className=\"text-gray-400 hover:text-white transition-colors\"\n          disabled={loading}\n        >\n          <X className=\"w-5 h-5\" />\n        </button>\n      </div>\n\n      <form onSubmit={handleSubmit} className=\"space-y-5\">\n        {/* Promoter ID will be auto-generated after creation - no field shown */}\n\n        {/* Name */}\n        <div>\n          <label className=\"block text-sm font-medium text-gray-300 mb-2\">\n            Full Name\n            <span className=\"text-orange-400 ml-1\">*</span>\n          </label>\n          <input\n            type=\"text\"\n            value={formData.name}\n            onChange={(e) => handleInputChange('name', e.target.value)}\n            className={`w-full px-4 py-3 bg-gray-700 border rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-orange-500 ${formErrors.name ? 'border-red-500' : 'border-gray-600'\n              }`}\n            placeholder=\"Enter full name (letters and spaces only)\"\n          />\n          {formErrors.name && (\n            <p className=\"text-red-400 text-sm mt-1\">{formErrors.name}</p>\n          )}\n        </div>\n\n        {/* Email Field - Now Optional */}\n        <div className=\"mb-4\">\n          <div className=\"flex items-center mb-2\">\n            <input\n              type=\"checkbox\"\n              id=\"hasEmail\"\n              checked={formData.hasEmail}\n              onChange={(e) => {\n                const hasEmail = e.target.checked;\n                setFormData(prev => ({\n                  ...prev,\n                  hasEmail,\n                  email: hasEmail ? prev.email : ''\n                }));\n                if (!hasEmail) {\n                  setFormErrors(prev => {\n                    const newErrors = { ...prev };\n                    delete newErrors.email;\n                    return newErrors;\n                  });\n                }\n              }}\n              className=\"mr-2 h-4 w-4 text-orange-600 focus:ring-orange-500 border-gray-600 rounded bg-gray-700\"\n            />\n            <label htmlFor=\"hasEmail\" className=\"text-sm font-medium text-gray-300\">\n              Add Email Address\n            </label>\n          </div>\n\n          {formData.hasEmail && (\n            <>\n              <input\n                type=\"email\"\n                value={formData.email}\n                onChange={(e) => handleInputChange('email', e.target.value)}\n                className={`w-full px-4 py-3 bg-gray-700 border rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-orange-500 ${formErrors.email ? 'border-red-500' : 'border-gray-600'\n                  }`}\n                placeholder=\"Enter email address (can be shared with others)\"\n              />\n              {formErrors.email && (\n                <p className=\"text-red-400 text-sm mt-1\">{formErrors.email}</p>\n              )}\n            </>\n          )}\n\n        </div>\n\n\n        {/* Mobile Number */}\n        <div>\n          <label className=\"block text-sm font-medium text-gray-300 mb-2\">\n            Mobile Number\n            <span className=\"text-orange-400 ml-1\">*</span>\n          </label>\n          <p className=\"text-xs text-gray-400 mb-2\">\n            Mobile number is mandatory and must be unique. SMS will be sent to this number.\n          </p>\n          <div className=\"relative\">\n            <input\n              type=\"tel\"\n              value={formData.mobile}\n              onChange={(e) => {\n                const value = e.target.value.replace(/\\D/g, '').slice(0, 10);\n                setFormData(prev => ({ ...prev, mobile: value }));\n\n                // Clear validation state when typing\n                setMobileValidationState({ isValidating: false, isValid: false, message: '' });\n                // Properly remove mobile error key\n                setFormErrors(prev => {\n                  const newErrors = { ...prev };\n                  delete newErrors.mobile;\n                  return newErrors;\n                });\n\n                // Trigger validation when 10 digits are entered\n                if (value.length === 10) {\n                  // Use debounced validation\n                  const timeoutId = setTimeout(() => {\n                    validateMobileNumber(value);\n                  }, 500);\n\n                  // Clear previous timeout\n                  return () => clearTimeout(timeoutId);\n                }\n              }}\n              className={`w-full px-4 py-3 bg-gray-700 border rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-orange-500 pr-12 ${formErrors.mobile ? 'border-red-500' :\n                mobileValidationState.isValid ? 'border-green-500' :\n                  mobileValidationState.isValidating ? 'border-blue-500' : 'border-gray-600'\n                }`}\n              placeholder=\"Enter 10-digit mobile number\"\n              maxLength={10}\n            />\n\n            {/* Validation status icons */}\n            <div className=\"absolute right-3 top-1/2 transform -translate-y-1/2\">\n              {mobileValidationState.isValidating && (\n                <Loader className=\"w-5 h-5 text-blue-400 animate-spin\" />\n              )}\n              {mobileValidationState.isValid && (\n                <CheckCircle className=\"w-5 h-5 text-green-400\" />\n              )}\n              {formErrors.mobile && (\n                <AlertCircle className=\"w-5 h-5 text-red-400\" />\n              )}\n            </div>\n          </div>\n\n          {/* Real-time validation messages */}\n          {formErrors.mobile && (\n            <div className=\"mt-2 p-2 bg-red-900 border border-red-700 rounded-lg\">\n              <p className=\"text-red-400 text-sm flex items-center\">\n                <AlertCircle className=\"w-4 h-4 mr-2\" />\n                {formErrors.mobile}\n              </p>\n            </div>\n          )}\n\n          {/* Loading state during validation */}\n          {mobileValidationState.isValidating && (\n            <div className=\"mt-2 p-2 bg-blue-900 border border-blue-700 rounded-lg\">\n              <p className=\"text-blue-400 text-sm flex items-center\">\n                <Loader className=\"w-4 h-4 mr-2 animate-spin\" />\n                {mobileValidationState.message}\n              </p>\n            </div>\n          )}\n\n        </div>\n\n        {/* Address */}\n        <div>\n          <label className=\"block text-sm font-medium text-gray-300 mb-2\">\n            Address\n            <span className=\"text-gray-500 text-xs ml-2\">(Optional)</span>\n          </label>\n          <textarea\n            value={formData.address}\n            onChange={(e) => handleInputChange('address', e.target.value)}\n            className=\"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-orange-500\"\n            placeholder=\"Enter full postal address (optional)\"\n            rows={3}\n          />\n        </div>\n\n        {/* Parent Promoter */}\n        <div>\n          <label className=\"block text-sm font-medium text-gray-300 mb-2\">\n            Parent Promoter\n            <span className=\"text-orange-400 ml-1\">*</span>\n          </label>\n          <p className=\"text-xs text-gray-400 mb-2\">\n            Parent promoter is mandatory for hierarchy management.\n          </p>\n          <select\n            value={formData.parentPromoter}\n            onChange={(e) => handleInputChange('parentPromoter', e.target.value)}\n            disabled={parentPromoterOptions.length === 1 || editingPromoter}\n            className={`w-full px-4 py-3 bg-gray-700 border rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-orange-500 ${formErrors.parentPromoter ? 'border-red-500' : 'border-gray-600'\n              } ${(parentPromoterOptions.length === 1 || editingPromoter) ? 'opacity-75 cursor-not-allowed' : ''}`}\n          >\n            <option value=\"\" disabled>Select parent promoter *</option>\n            {parentPromoterOptions.map((option) => (\n              <option key={option.id} value={option.id}>\n                {option.label}\n              </option>\n            ))}\n          </select>\n          {formErrors.parentPromoter && (\n            <p className=\"text-red-400 text-sm mt-1\">{formErrors.parentPromoter}</p>\n          )}\n        </div>\n\n        {/* Role and Status are automatically set by the backend */}\n\n        {/* Form Actions */}\n        <div className=\"flex justify-end space-x-4 pt-6 border-t border-gray-700\">\n          <button\n            type=\"button\"\n            onClick={onCancel}\n            className=\"px-6 py-3 text-gray-300 hover:text-white transition-colors\"\n            disabled={loading}\n          >\n            Cancel\n          </button>\n          <button\n            type=\"submit\"\n            disabled={loading || Object.keys(formErrors).length > 0 || (!editingPromoter && (!formData.mobile || formData.mobile.length !== 10 || !formData.parentPromoter || mobileValidationState.isValidating || (formData.mobile.length === 10 && !mobileValidationState.isValid)))}\n            className=\"px-6 py-3 bg-gradient-to-r from-orange-500 to-orange-600 text-white rounded-lg hover:from-orange-600 hover:to-orange-700 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2\"\n          >\n            {loading ? (\n              <>\n                <Loader className=\"w-4 h-4 animate-spin\" />\n                <span>{editingPromoter ? 'Updating...' : 'Creating...'}</span>\n              </>\n            ) : (\n              <>\n                <CheckCircle className=\"w-4 h-4\" />\n                <span>{editingPromoter ? 'Update Promoter' : 'Create Promoter'}</span>\n              </>\n            )}\n          </button>\n        </div>\n      </form>\n    </div>\n  );\n});\n\nUnifiedPromoterForm.displayName = 'UnifiedPromoterForm';\n\nexport default UnifiedPromoterForm;\n","import React, { useState, useEffect, useRef } from 'react';\nimport { createPortal } from 'react-dom';\nimport { useAuth } from \"../../common/context/AuthContext\";\nimport { useNavigate } from 'react-router-dom';\nimport { supabase } from \"../../common/services/supabaseClient\"\n// import PromoterNavbar removed - handled by ConditionalNavbar in App.js\nimport UnifiedPromoterForm from '../../components/UnifiedPromoterForm';\nimport {\n  UnifiedBackground,\n  UnifiedCard,\n  UnifiedButton,\n  useScrollAnimation,\n  SharedStyles\n} from \"../../common/components/SharedTheme\";\nimport { useUnifiedToast } from \"../../common\";\nimport { SkeletonFullPage } from '../components/skeletons';\nimport {\n  Users,\n  Search,\n  Plus,\n  Phone,\n  Mail,\n  Loader,\n  Calendar,\n  X,\n  ArrowLeft,\n  Award,\n  Download,\n  CheckCircle,\n  AlertCircle,\n  Loader2\n} from 'lucide-react';\nimport { exportPromotersToCSV, exportPromotersToPDF } from '../../common/utils/exportUtils';\n\n// MultiStage Loading Component\nconst MultiStageLoading = ({ stage }) => {\n  const getStageContent = () => {\n    switch (stage) {\n      case 'promoters':\n        return {\n          icon: <Users className=\"w-8 h-8 text-blue-400 animate-pulse\" />,\n          title: 'Loading Promoters...',\n          description: 'Fetching promoter data from database'\n        };\n      case 'hierarchy':\n        return {\n          icon: <Award className=\"w-8 h-8 text-green-400 animate-pulse\" />,\n          title: 'Building Hierarchy...',\n          description: 'Analyzing promoter network structure'\n        };\n      case 'complete':\n        return {\n          icon: <CheckCircle className=\"w-8 h-8 text-orange-400 animate-bounce\" />,\n          title: 'Almost Done...',\n          description: 'Finalizing data loading'\n        };\n      case 'error':\n        return {\n          icon: <AlertCircle className=\"w-8 h-8 text-red-400\" />,\n          title: 'Error Loading Data',\n          description: 'Please refresh the page and try again'\n        };\n      default:\n        return {\n          icon: <Loader2 className=\"w-8 h-8 text-orange-400 animate-spin\" />,\n          title: 'Initializing...',\n          description: 'Preparing to load your data'\n        };\n    }\n  };\n\n  const content = getStageContent();\n\n  return (\n    <div className=\"flex flex-col items-center justify-center p-12 space-y-4\">\n      <div className=\"relative\">\n        {content.icon}\n        <div className=\"absolute inset-0 rounded-full bg-blue-400/20 animate-ping\"></div>\n      </div>\n      <div className=\"text-center\">\n        <h3 className=\"text-lg font-semibold text-white mb-2\">{content.title}</h3>\n        <p className=\"text-sm text-slate-400\">{content.description}</p>\n\n        {/* Progress indicators */}\n        <div className=\"flex items-center justify-center space-x-2 mt-4\">\n          <div className={`w-2 h-2 rounded-full transition-colors duration-300 ${stage === 'promoters' || stage === 'hierarchy' || stage === 'complete' ? 'bg-blue-400' : 'bg-slate-600'\n            }`}></div>\n          <div className={`w-2 h-2 rounded-full transition-colors duration-300 ${stage === 'hierarchy' || stage === 'complete' ? 'bg-blue-400' : 'bg-slate-600'\n            }`}></div>\n          <div className={`w-2 h-2 rounded-full transition-colors duration-300 ${stage === 'complete' ? 'bg-blue-400' : 'bg-slate-600'\n            }`}></div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nfunction MyPromoters() {\n  const { user } = useAuth();\n  const navigate = useNavigate();\n  const { showSuccess, showError } = useUnifiedToast();\n  const [loading, setLoading] = useState(true);\n  const [loadingStage, setLoadingStage] = useState('initial'); // 'initial', 'promoters', 'hierarchy', 'complete'\n  const [promoters, setPromoters] = useState([]);\n  const [filteredPromoters, setFilteredPromoters] = useState([]);\n  const [error, setError] = useState(null);\n  const [searchTerm, setSearchTerm] = useState('');\n  const [statusFilter, setStatusFilter] = useState('all');\n  const [sortBy, setSortBy] = useState('created_at'); // 'created_at' or 'promoter_id' (to match admin style sort)\n  const [showDownloadMenu, setShowDownloadMenu] = useState(false);\n  const downloadButtonRef = useRef(null);\n  const [downloadMenuPosition, setDownloadMenuPosition] = useState({ top: 0, right: 0 });\n\n  // Pagination states\n  const [currentPage, setCurrentPage] = useState(1);\n  const [entriesPerPage, setEntriesPerPage] = useState(10);\n  const [selectedPromoter, setSelectedPromoter] = useState(null);\n  const [showDetailsModal, setShowDetailsModal] = useState(false);\n  const [showCreateModal, setShowCreateModal] = useState(false);\n  const [submitting, setSubmitting] = useState(false);\n  const [stats, setStats] = useState({\n    total: 0,\n    level1: 0,\n    level2Plus: 0,\n    maxDepth: 0\n  });\n\n  useScrollAnimation();\n\n  useEffect(() => {\n    loadMyPromoters();\n  }, [user]);\n\n  const loadMyPromoters = async () => {\n    if (!user?.promoter_id) return;\n\n    try {\n      setLoading(true);\n      setLoadingStage('promoters');\n      setError('');\n\n      // Get COMPLETE downline hierarchy using new get_promoter_downline_tree function\n      const { data: downlineResult, error: downlineError } = await supabase\n        .rpc('get_promoter_downline_tree', { p_promoter_code: user.promoter_id });\n\n      if (downlineError) {\n        // Fallback to direct children query\n        setLoadingStage('hierarchy');\n        const { data: promotersData, error: promotersError } = await supabase\n          .from('profiles')\n          .select(`\n            id,\n            name,\n            email,\n            phone,\n            mobile,\n            promoter_id,\n            role_level,\n            status,\n            parent_promoter_id,\n            pins,\n            created_at,\n            updated_at,\n            parent_promoter:parent_promoter_id(\n              id,\n              name,\n              promoter_id,\n              role\n            )\n          `)\n          .eq('role', 'promoter')\n          .eq('parent_promoter_id', user.id)\n          .order('created_at', { ascending: false });\n\n        if (promotersError) {\n          setError(`Failed to load promoters: ${promotersError.message || 'Unknown error'}`);\n          return;\n        }\n\n        return processPromotersData(promotersData || []);\n      }\n\n      // Process the downline tree result\n      setLoadingStage('hierarchy');\n      if (downlineResult?.success && downlineResult?.downline_tree) {\n\n        const downlinePromoters = downlineResult.downline_tree;\n\n        // Get parent promoter info for each promoter in downline\n        const parentIds = downlinePromoters.map(p => {\n          // Find parent ID from profiles table using promoter code\n          return null; // We'll get this from the path information\n        }).filter(Boolean);\n\n        // Transform downline tree data to match expected format\n        // First, fetch mobile numbers for all promoters in the list to ensure we have contact info\n        // The RPC returns 'code' (promoter_id) not UUID id, so we fetch by promoter_id\n        const promoterCodes = downlinePromoters.map(p => p.code).filter(Boolean);\n        let profileMap = {};\n\n        if (promoterCodes.length > 0) {\n          const { data: profilesData } = await supabase\n            .from('profiles')\n            .select('promoter_id, mobile, phone')\n            .in('promoter_id', promoterCodes);\n\n          if (profilesData) {\n            profilesData.forEach(p => {\n              profileMap[p.promoter_id] = p;\n            });\n          }\n        }\n\n        const promotersData = downlinePromoters.map(promoter => {\n          const profile = profileMap[promoter.code] || {};\n          // Determine parent from path\n          let parentPromoter = null;\n          if (promoter.path && promoter.path.length > 1) {\n            // Parent is second-to-last in the path\n            const parentCode = promoter.path[promoter.path.length - 2];\n            if (parentCode !== user.promoter_id) {\n              // Find parent in the downline list\n              const parent = downlinePromoters.find(p => p.code === parentCode);\n              if (parent) {\n                parentPromoter = {\n                  id: parent.id || parentCode,\n                  name: parent.name,\n                  promoter_id: parent.code,\n                  role: 'promoter'\n                };\n              }\n            } else {\n              // Direct child - parent is current user\n              parentPromoter = {\n                id: user.id,\n                name: user.name,\n                promoter_id: user.promoter_id,\n                role: 'promoter'\n              };\n            }\n          } else {\n            // Direct child - parent is current user\n            parentPromoter = {\n              id: user.id,\n              name: user.name,\n              promoter_id: user.promoter_id,\n              role: 'promoter'\n            };\n          }\n\n          return {\n            id: promoter.id || promoter.code,\n            name: promoter.name,\n            email: promoter.email,\n            phone: profile.phone || promoter.phone,\n            mobile: profile.mobile || promoter.mobile,\n            promoter_id: promoter.code,\n            role_level: promoter.role_level,\n            status: promoter.status,\n            parent_promoter_id: parentPromoter?.id,\n            pins: 0, // Default value\n            created_at: promoter.created_at,\n            updated_at: promoter.created_at,\n            parent_promoter: parentPromoter,\n            hierarchy_level: promoter.level, // Add hierarchy level from tree\n            hierarchy_path: promoter.path // Add full path\n          };\n        });\n\n        return processPromotersData(promotersData);\n      }\n\n      // No downline found\n      setPromoters([]);\n      setFilteredPromoters([]);\n      setLoading(false);\n      setLoadingStage('complete');\n    } catch (err) {\n      setError('Failed to load promoters: ' + err.message);\n      setLoadingStage('error');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Process promoters data to add display fields\n  const processPromotersData = (promotersData) => {\n    if (!promotersData) {\n      setPromoters([]);\n      setFilteredPromoters([]);\n      setStats({\n        total: 0,\n        level1: 0,\n        level2Plus: 0,\n        maxDepth: 0\n      });\n      setLoading(false);\n      return;\n    }\n\n    // Transform data to include additional fields for display\n    const transformedPromoters = (promotersData || []).map((promoter, index) => ({\n      id: promoter?.id || index + 1,\n      promoter_id: promoter?.promoter_id || `BPVP${String(index + 1).padStart(2, '0')}`,\n      name: promoter?.name || 'Unknown Promoter',\n      email: promoter?.email || 'No email',\n      phone: promoter?.phone || promoter?.mobile || 'No phone',\n      mobile: promoter?.mobile,\n      joinDate: promoter?.created_at ? new Date(promoter.created_at).toISOString().split('T')[0] : '2024-01-01',\n      affiliate_level: promoter?.role_level === 'Affiliate' ? 1 : 2,\n      can_create_promoters: true, // Default for new promoters\n      can_create_customers: true, // Default for new promoters\n      commission_rate: 0.05, // Default commission rate\n      status: promoter?.status || 'Active',\n      pins: promoter?.pins || 0,\n      parent_promoter: promoter?.parent_promoter || null,\n      level: promoter?.level || 1, // Add level from hierarchy\n      hierarchy_level: promoter?.hierarchy_level || 1, // Preserve hierarchy level from tree\n      hierarchy_path: promoter?.hierarchy_path || [], // Preserve hierarchy path\n      originalData: promoter\n    }));\n\n    // Calculate hierarchy statistics\n    const hierarchyStats = {\n      total: transformedPromoters.length,\n      level1: transformedPromoters.filter(p => p.hierarchy_level === 1).length,\n      level2Plus: transformedPromoters.filter(p => p.hierarchy_level >= 2).length,\n      maxDepth: transformedPromoters.length > 0 ? Math.max(...transformedPromoters.map(p => p.hierarchy_level || 1)) : 0\n    };\n\n    setPromoters(transformedPromoters);\n    setFilteredPromoters(transformedPromoters);\n    setStats(hierarchyStats);\n    setLoading(false);\n  };\n\n  // Filter and search logic\n  useEffect(() => {\n    let filtered = promoters || [];\n\n    // Apply search filter\n    if (searchTerm) {\n      filtered = filtered.filter(promoter => {\n        const name = (promoter?.name || '').toLowerCase();\n        const email = (promoter?.email || '').toLowerCase();\n        const promoterId = (promoter?.promoter_id || '').toLowerCase();\n        const phone = (promoter?.phone || '').toLowerCase();\n        const mobile = (promoter?.mobile || '').toLowerCase();\n        const searchLower = (searchTerm || '').toLowerCase();\n\n        return name.includes(searchLower) ||\n          email.includes(searchLower) ||\n          promoterId.includes(searchLower) ||\n          phone.includes(searchLower);\n      });\n    }\n\n    // Apply status filter\n    if (statusFilter && statusFilter !== 'all') {\n      filtered = filtered.filter(promoter => {\n        const promoterStatus = (promoter?.status || 'active').toLowerCase();\n        return promoterStatus === statusFilter.toLowerCase();\n      });\n    }\n\n    // Apply sorting\n    if (sortBy === 'promoter_id') {\n      filtered = [...filtered].sort((a, b) => {\n        const idA = (a.promoter_id || '').toLowerCase();\n        const idB = (b.promoter_id || '').toLowerCase();\n        return idA.localeCompare(idB);\n      });\n    } else {\n      // Default sort by created_at (newest first)\n      filtered = [...filtered].sort((a, b) => {\n        const dateA = new Date(a.created_at || a.joinDate || 0);\n        const dateB = new Date(b.created_at || b.joinDate || 0);\n        return dateB.getTime() - dateA.getTime();\n      });\n    }\n\n    setFilteredPromoters(filtered);\n    setCurrentPage(1); // Reset to first page when filters change\n  }, [promoters, searchTerm, statusFilter, sortBy]);\n\n  const openDetailsModal = (promoter) => {\n    setSelectedPromoter(promoter);\n    setShowDetailsModal(true);\n  };\n\n  const closeDetailsModal = () => {\n    setShowDetailsModal(false);\n    setSelectedPromoter(null);\n  };\n\n  const openCreateModal = () => {\n    setShowCreateModal(true);\n  };\n\n  const closeCreateModal = () => {\n    setShowCreateModal(false);\n  };\n\n  // Handle download - PDF\n  const handleDownloadPDF = async () => {\n    try {\n      // Enrich promoters with parent promoter name (self for promoter view)\n      const enrichedPromoters = filteredPromoters.map(promoter => ({\n        ...promoter,\n        parent_promoter_name: user?.name || 'Current Promoter'\n      }));\n      await exportPromotersToPDF(enrichedPromoters, 'my_promoters');\n      setShowDownloadMenu(false);\n    } catch (error) {\n      showError('Failed to export PDF: ' + error.message);\n    }\n  };\n\n  // Handle download - CSV\n  const handleDownloadCSV = () => {\n    try {\n      // Enrich promoters with parent promoter name (self for promoter view)\n      const enrichedPromoters = filteredPromoters.map(promoter => ({\n        ...promoter,\n        parent_promoter_name: user?.name || 'Current Promoter'\n      }));\n      exportPromotersToCSV(enrichedPromoters, 'my_promoters');\n      setShowDownloadMenu(false);\n    } catch (error) {\n      showError('Failed to export CSV: ' + error.message);\n    }\n  };\n\n\n  const handleCreatePromoter = async (formData) => {\n    try {\n\n      // Validate required fields\n      if (!formData.name || formData.name.trim() === '') {\n        throw new Error('Name is required for promoter creation.');\n      }\n\n      if (!formData.password || formData.password.trim() === '') {\n        throw new Error('Password is required for promoter creation.');\n      }\n\n      if (!formData.phone || formData.phone.trim() === '') {\n        throw new Error('Phone number is required for promoter creation.');\n      }\n\n      // Step 1: Generate unique auth email\n      const timestamp = Date.now();\n      const randomNum = Math.floor(Math.random() * 1000000);\n      let authEmail = `promo${timestamp}${randomNum}@brightplanet.com`;\n\n      // Step 2: Create auth user via backend service to avoid auth state changes\n\n      let authData, authError;\n\n      try {\n        // Try to create user via backend service first (if available)\n        const API_URL = process.env.REACT_APP_API_URL || 'http://localhost:5001/api';\n        const backendResponse = await fetch(`${API_URL}/create-promoter-auth`, {\n          method: 'POST',\n          headers: { 'Content-Type': 'application/json' },\n          body: JSON.stringify({\n            email: authEmail,\n            password: formData.password,\n            userData: {\n              role: 'promoter',\n              name: formData.name,\n              phone: formData.phone\n            }\n          })\n        });\n\n        if (backendResponse.ok) {\n          const result = await backendResponse.json();\n          authData = { user: result.user };\n        } else {\n          throw new Error('Backend service not available');\n        }\n\n      } catch (backendError) {\n        throw new Error('Backend service not available. Please ensure the backend API is running to safely create promoter auth without changing your session.');\n      }\n\n      if (authError) {\n        if (authError.message?.includes('already registered')) {\n          throw new Error(`Email ${authEmail} is already registered. Please try again.`);\n        }\n        throw new Error('Failed to create auth user: ' + authError.message);\n      }\n\n      if (!authData.user) {\n        throw new Error('Failed to create auth user: No user data returned');\n      }\n\n\n      // Step 2b: Manually confirm the email in database\n      const { error: confirmError } = await supabase.rpc('confirm_promoter_email', {\n        p_user_id: authData.user.id\n      });\n\n      if (confirmError) {\n      } else {\n      }\n\n      // Step 3: Create promoter profile in database\n      const { data: result, error } = await supabase.rpc('create_promoter_with_auth_id', {\n        p_name: formData.name.trim(),\n        p_user_id: authData.user.id,\n        p_auth_email: authEmail,\n        p_password: formData.password.trim(),\n        p_phone: formData.phone.trim(),\n        p_email: formData.email && formData.email.trim() ? formData.email.trim() : null,\n        p_address: formData.address && formData.address.trim() ? formData.address.trim() : null,\n        p_parent_promoter_id: user.id, // Current promoter as parent\n        p_role_level: 'Affiliate',\n        p_status: 'Active'\n      });\n\n      if (error) {\n        throw error;\n      }\n\n      if (!result || !result.success) {\n        throw new Error(result?.error || 'Failed to create promoter profile');\n      }\n\n\n      // Reload promoters and close modal\n      await loadMyPromoters();\n      closeCreateModal();\n\n      // Show clean success message with toast\n      showSuccess(`Promoter Created Successfully!\\n\\nPromoter ID: ${result.promoter_id}\\nName: ${result.name}\\nLogin: Use Promoter ID + Password`);\n\n    } catch (error) {\n      showError(`Failed to create promoter: ${error.message}`);\n    }\n  };\n\n\n\n  return (\n    <>\n      <SharedStyles />\n      {/* PromoterNavbar removed - handled by ConditionalNavbar in App.js */}\n      <UnifiedBackground>\n        <div className=\"min-h-screen pt-40 px-8 pb-8\">\n          <div className=\"max-w-7xl mx-auto\">\n            {/* Header */}\n            <div className=\"flex justify-between items-center mb-8\" data-animate>\n              <div>\n                <h1 className=\"text-2xl font-bold text-white mb-2\">\n                  My Promoters\n                </h1>\n                <p className=\"text-gray-400\">\n                  Manage and track your promoter network\n                </p>\n                {error && (\n                  <p className=\"text-red-400 text-sm mt-2\">âš ï¸ {error}</p>\n                )}\n              </div>\n            </div>\n\n            {/* Stats Cards */}\n            <div className=\"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8\" data-animate>\n              <UnifiedCard className=\"p-6\">\n                <div className=\"flex items-center justify-between\">\n                  <div>\n                    <p className=\"text-sm text-gray-400 mb-1\">Total Downline</p>\n                    <p className=\"text-3xl font-bold text-white\">{stats.total}</p>\n                  </div>\n                  <div className=\"w-12 h-12 bg-blue-500/20 rounded-lg flex items-center justify-center\">\n                    <Users className=\"w-6 h-6 text-blue-400\" />\n                  </div>\n                </div>\n              </UnifiedCard>\n\n              <UnifiedCard className=\"p-6\">\n                <div className=\"flex items-center justify-between\">\n                  <div>\n                    <p className=\"text-sm text-gray-400 mb-1\">Level 1 (Direct)</p>\n                    <p className=\"text-3xl font-bold text-white\">{stats.level1 || 0}</p>\n                  </div>\n                  <div className=\"w-12 h-12 bg-green-500/20 rounded-lg flex items-center justify-center\">\n                    <Award className=\"w-6 h-6 text-green-400\" />\n                  </div>\n                </div>\n              </UnifiedCard>\n\n              <UnifiedCard className=\"p-6\">\n                <div className=\"flex items-center justify-between\">\n                  <div>\n                    <p className=\"text-sm text-gray-400 mb-1\">Level 2+</p>\n                    <p className=\"text-3xl font-bold text-white\">{stats.level2Plus || 0}</p>\n                  </div>\n                  <div className=\"w-12 h-12 bg-purple-500/20 rounded-lg flex items-center justify-center\">\n                    <Award className=\"w-6 h-6 text-purple-400\" />\n                  </div>\n                </div>\n              </UnifiedCard>\n\n              <UnifiedCard className=\"p-6\">\n                <div className=\"flex items-center justify-between\">\n                  <div>\n                    <p className=\"text-sm text-gray-400 mb-1\">Max Depth</p>\n                    <p className=\"text-3xl font-bold text-white\">{stats.maxDepth || 0}</p>\n                  </div>\n                  <div className=\"w-12 h-12 bg-orange-500/20 rounded-lg flex items-center justify-center\">\n                    <Award className=\"w-6 h-6 text-orange-400\" />\n                  </div>\n                </div>\n              </UnifiedCard>\n            </div>\n\n            {/* Search and Filters */}\n            <UnifiedCard className=\"mb-6\" data-animate style={{ overflow: 'visible' }}>\n              {/* Single Row Layout - All elements in one line */}\n              <div className=\"flex flex-wrap items-center gap-3\">\n                {/* Search Input - Takes more space */}\n                <div className=\"flex-1 min-w-[300px]\">\n                  <div className=\"relative\">\n                    <input\n                      type=\"text\"\n                      placeholder=\"Search by name, email, promoter ID, or phone...\"\n                      value={searchTerm}\n                      onChange={(e) => setSearchTerm(e.target.value)}\n                      className=\"w-full h-10 px-3 bg-gray-700 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-all text-sm\"\n                    />\n                    {/* Search Icon */}\n                    <div className=\"absolute right-3 top-1/2 transform -translate-y-1/2 pointer-events-none\">\n                      <svg className=\"w-4 h-4 text-gray-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z\" />\n                      </svg>\n                    </div>\n                  </div>\n                </div>\n\n                {/* Status Filter */}\n                <div className=\"relative\">\n                  <select\n                    value={statusFilter}\n                    onChange={(e) => setStatusFilter(e.target.value)}\n                    className=\"appearance-none h-10 bg-gray-700 border border-gray-600 rounded-lg text-white px-3 pr-8 focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-all cursor-pointer hover:bg-gray-650 text-sm\"\n                  >\n                    <option value=\"all\">All Status</option>\n                    <option value=\"active\">Active</option>\n                    <option value=\"inactive\">Inactive</option>\n                  </select>\n                  {/* Custom Dropdown Arrow */}\n                  <div className=\"absolute right-3 top-1/2 transform -translate-y-1/2 pointer-events-none\">\n                    <svg className=\"w-3 h-3 text-gray-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M19 9l-7 7-7-7\" />\n                    </svg>\n                  </div>\n                </div>\n\n                {/* Sort Buttons */}\n                <div className=\"flex items-center gap-1 h-10 px-3 bg-gray-700/30 rounded-lg border border-gray-600/50\">\n                  <button\n                    onClick={() => setSortBy('created_at')}\n                    className={`px-2 py-2 text-sm rounded-md transition-all font-medium whitespace-nowrap ${sortBy === 'created_at'\n                      ? 'bg-orange-500 text-white shadow-md'\n                      : 'text-gray-300 bg-gray-700/50 hover:bg-gray-600/50 hover:text-white'\n                      }`}\n                    title=\"Sort by Newest\"\n                  >\n                    Newest\n                  </button>\n                  <button\n                    onClick={() => setSortBy('promoter_id')}\n                    className={`px-2 py-2 text-sm rounded-md transition-all font-medium whitespace-nowrap ${sortBy === 'promoter_id'\n                      ? 'bg-orange-500 text-white shadow-md'\n                      : 'text-gray-300 bg-gray-700/50 hover:bg-gray-600/50 hover:text-white'\n                      }`}\n                    title=\"Sort by ID\"\n                  >\n                    By ID\n                  </button>\n                </div>\n\n                {/* Pagination Controls */}\n                <div className=\"flex items-center gap-2 h-10 px-3 bg-gray-700/30 rounded-lg border border-gray-600/50\">\n                  <span className=\"text-gray-300 text-xs font-medium whitespace-nowrap\">Show</span>\n                  <div className=\"relative\">\n                    <input\n                      type=\"number\"\n                      min=\"1\"\n                      max=\"100\"\n                      value={entriesPerPage}\n                      onChange={(e) => {\n                        const value = Math.min(100, Math.max(1, parseInt(e.target.value) || 10));\n                        setEntriesPerPage(value);\n                        setCurrentPage(1);\n                      }}\n                      className=\"w-12 h-6 bg-gray-600 border border-gray-500 rounded text-white text-xs pl-2 pr-1 py-1 focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-orange-500 hover:bg-gray-500 transition-all text-center\"\n                      placeholder=\"10\"\n                    />\n                  </div>\n                  <span className=\"text-gray-300 text-xs font-medium whitespace-nowrap\">per page</span>\n                </div>\n\n                {/* Status Badge */}\n                {filteredPromoters.length > 0 && (\n                  <div className=\"flex items-center gap-2 h-10 px-3 bg-gray-700/30 rounded-lg border border-gray-600/50\">\n                    <div className=\"w-2 h-2 bg-orange-400 rounded-full animate-pulse\"></div>\n                    <span className=\"text-gray-300 text-sm font-medium\">\n                      Showing <span className=\"text-orange-300 font-bold\">{((currentPage - 1) * entriesPerPage) + 1}</span> to <span className=\"text-orange-300 font-bold\">{Math.min(currentPage * entriesPerPage, filteredPromoters.length)}</span> of <span className=\"text-orange-300 font-bold\">{filteredPromoters.length}</span> promoters\n                    </span>\n                  </div>\n                )}\n\n                {/* Download Button */}\n                <div className=\"relative\" ref={downloadButtonRef}>\n                  <UnifiedButton\n                    onClick={() => {\n                      if (downloadButtonRef.current) {\n                        const rect = downloadButtonRef.current.getBoundingClientRect();\n                        setDownloadMenuPosition({\n                          top: rect.bottom + 8,\n                          right: window.innerWidth - rect.right\n                        });\n                      }\n                      setShowDownloadMenu(!showDownloadMenu);\n                    }}\n                    className=\"flex items-center space-x-2 px-3 py-2 text-sm bg-blue-600 hover:bg-blue-500 border border-blue-500\"\n                  >\n                    <Download className=\"w-4 h-4\" />\n                    <span>Export</span>\n                  </UnifiedButton>\n\n                  {showDownloadMenu && createPortal(\n                    <>\n                      <div\n                        className=\"fixed inset-0 z-[9998]\"\n                        onClick={() => setShowDownloadMenu(false)}\n                      />\n                      <div\n                        className=\"fixed w-48 bg-gray-800 border-2 border-gray-600 rounded-lg shadow-2xl z-[9999]\"\n                        style={{\n                          top: `${downloadMenuPosition.top}px`,\n                          right: `${downloadMenuPosition.right}px`,\n                          minWidth: '12rem'\n                        }}\n                      >\n                        <button\n                          onClick={handleDownloadPDF}\n                          className=\"w-full text-left px-4 py-3 text-white hover:bg-gray-700 rounded-t-lg flex items-center space-x-2 transition-colors\"\n                        >\n                          <span>ðŸ“„ PDF</span>\n                        </button>\n                        <button\n                          onClick={handleDownloadCSV}\n                          className=\"w-full text-left px-4 py-3 text-white hover:bg-gray-700 rounded-b-lg flex items-center space-x-2 transition-colors\"\n                        >\n                          <span>ðŸ“Š CSV</span>\n                        </button>\n                      </div>\n                    </>,\n                    document.body\n                  )}\n                </div>\n              </div>\n            </UnifiedCard>\n\n            {/* Complete Downline Hierarchy Table */}\n            <UnifiedCard className=\"overflow-hidden\" data-animate>\n              <div className=\"px-6 py-4 bg-gray-700 border-b border-gray-600\">\n                <div className=\"flex items-center justify-between\">\n                  <div>\n                    <h3 className=\"text-lg font-semibold text-white flex items-center\">\n                      <Users className=\"w-5 h-5 mr-2 text-blue-400\" />\n                      Complete Downline Hierarchy\n                    </h3>\n                  </div>\n                  <div className=\"text-sm text-gray-400\">\n                    {filteredPromoters.length} of {promoters.length} promoters\n                  </div>\n                </div>\n              </div>\n              {loading ? (\n                <MultiStageLoading stage={loadingStage} />\n              ) : (\n                <div className=\"overflow-x-auto\">\n                  <table className=\"w-full\">\n                    <thead className=\"bg-gray-700\">\n                      <tr>\n                        <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider\">Promoter Details</th>\n                        <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider\">Contact Details</th>\n                        <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider\">Parent Promoter</th>\n                        <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider\">Hierarchy Level</th>\n                        <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider\">Status</th>\n                        <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider\">Pins</th>\n                      </tr>\n                    </thead>\n                    <tbody className=\"bg-gray-800 divide-y divide-gray-700\">\n                      {filteredPromoters.length === 0 ? (\n                        <tr>\n                          <td colSpan=\"6\" className=\"px-6 py-12 text-center text-gray-400\">\n                            {promoters.length === 0 ? 'No promoters found. Start by creating your first promoter!' : 'No promoters match your search criteria.'}\n                          </td>\n                        </tr>\n                      ) : (\n                        (() => {\n                          // Pagination logic\n                          const indexOfLastPromoter = currentPage * entriesPerPage;\n                          const indexOfFirstPromoter = indexOfLastPromoter - entriesPerPage;\n                          const currentPromoters = filteredPromoters.slice(indexOfFirstPromoter, indexOfLastPromoter);\n\n                          return currentPromoters.map((promoter) => {\n                            return (\n                              <tr key={promoter.id} className=\"hover:bg-gray-700\">\n                                <td className=\"px-6 py-4 whitespace-nowrap\">\n                                  <div className=\"flex items-center\">\n                                    <div className=\"w-8 h-8 bg-gradient-to-r from-blue-400 to-purple-500 rounded-full flex items-center justify-center mr-3\">\n                                      <span className=\"text-white text-sm font-bold\">{(promoter?.name || 'U').charAt(0)}</span>\n                                    </div>\n                                    <div className=\"flex flex-col\">\n                                      <span className=\"text-white font-medium\">{promoter?.name || 'Unknown Promoter'}</span>\n                                      <span className=\"text-xs text-gray-400\">{promoter?.promoter_id || 'N/A'}</span>\n                                    </div>\n                                  </div>\n                                </td>\n                                <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-300\">\n                                  <div className=\"space-y-1\">\n                                    <div className=\"flex items-center\">\n                                      <Mail className=\"w-3 h-3 mr-2 text-gray-400\" />\n                                      {promoter?.email && promoter.email !== 'N/A' ? promoter.email : 'No email'}\n                                    </div>\n                                    <div className=\"flex items-center\">\n                                      <Phone className=\"w-3 h-3 mr-2 text-gray-400\" />\n                                      {promoter?.phone || promoter?.mobile || 'No phone'}\n                                    </div>\n                                  </div>\n                                </td>\n                                <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-300\">\n                                  <div className=\"flex items-center\">\n                                    {promoter?.parent_promoter?.role === 'admin' ? (<>\n                                      <span className=\"text-yellow-400 mr-2\">ðŸ‘‘</span>\n                                      <span className=\"text-white font-medium\">{promoter?.parent_promoter?.name || 'Admin'}</span>\n                                    </>\n                                    ) : (\n                                      <>\n                                        <Users className=\"w-4 h-4 mr-2 text-blue-400\" />\n                                        <div className=\"flex flex-col\">\n                                          <span className=\"text-white font-medium\">{promoter?.parent_promoter?.name || user?.name || 'You'}</span>\n                                          <span className=\"text-xs text-gray-400\">{promoter?.parent_promoter?.promoter_id || 'Parent'}</span>\n                                        </div>\n                                      </>\n                                    )}\n                                  </div>\n                                </td>\n                                <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-300\">\n                                  <div className=\"flex items-center\">\n                                    <div className={`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium border ${promoter?.hierarchy_level === 1\n                                      ? 'bg-green-500/10 text-green-400 border-green-500/20'\n                                      : promoter?.hierarchy_level === 2\n                                        ? 'bg-blue-500/10 text-blue-400 border-blue-500/20'\n                                        : promoter?.hierarchy_level === 3\n                                          ? 'bg-purple-500/10 text-purple-400 border-purple-500/20'\n                                          : 'bg-orange-500/10 text-orange-400 border-orange-500/20'\n                                      }`}>\n                                      <Award className=\"w-3 h-3 mr-1\" />\n                                      Level {promoter?.hierarchy_level || 1}\n                                    </div>\n                                  </div>\n                                </td>\n                                <td className=\"px-6 py-4 whitespace-nowrap\">\n                                  <span className={`inline-flex items-center px-3 py-1 rounded-full text-xs font-medium capitalize border ${(promoter?.status || 'active').toLowerCase() === 'active'\n                                    ? 'bg-green-500/10 text-green-400 border-green-500/20'\n                                    : 'bg-red-500/10 text-red-400 border-red-500/20'\n                                    }`}>\n                                    <span className={`w-1.5 h-1.5 rounded-full mr-2 ${(promoter?.status || 'active').toLowerCase() === 'active' ? 'bg-green-400' : 'bg-red-400'\n                                      }`} />\n                                    {promoter?.status || 'active'}\n                                  </span>\n                                </td>\n                                <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-300\">\n                                  <span className=\"text-sm font-medium text-white\">ðŸ“Œ {promoter?.pins || 0}</span>\n                                </td>\n                              </tr>\n                            );\n                          })\n                        })()\n                      )}\n                    </tbody>\n                  </table>\n                </div>\n              )}\n            </UnifiedCard>\n\n            {/* Promoter Details Modal */}\n            {showDetailsModal && selectedPromoter && (\n              <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\">\n                <div className=\"bg-slate-800 rounded-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto\">\n                  <div className=\"p-6 border-b border-slate-700\">\n                    <div className=\"flex items-center justify-between\">\n                      <h3 className=\"text-xl font-bold text-white\">Promoter Details</h3>\n                      <button\n                        onClick={closeDetailsModal}\n                        className=\"text-gray-400 hover:text-white transition-colors\"\n                      >\n                        <X className=\"w-6 h-6\" />\n                      </button>\n                    </div>\n                  </div>\n\n                  <div className=\"p-6\">\n                    <div className=\"flex items-center space-x-4 mb-6\">\n                      <div className=\"w-16 h-16 bg-gradient-to-r from-blue-400 to-purple-500 rounded-full flex items-center justify-center\">\n                        <span className=\"text-white text-xl font-bold\">\n                          {(selectedPromoter?.name || 'U').charAt(0)}\n                        </span>\n                      </div>\n                      <div>\n                        <h4 className=\"text-xl font-bold text-white\">{selectedPromoter?.name || 'Unknown Promoter'}</h4>\n                        <p className=\"text-gray-400\">{selectedPromoter?.promoter_id}</p>\n                        <span className=\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium mt-2 bg-green-100 text-green-800\">\n                          Active\n                        </span>\n                      </div>\n                    </div>\n\n                    <div>\n                      <h5 className=\"text-lg font-bold text-white mb-4\">Promoter Information</h5>\n                      <div className=\"space-y-4\">\n                        <div className=\"flex justify-between\">\n                          <span className=\"text-gray-400\">Email</span>\n                          <span className=\"text-white font-medium\">{selectedPromoter?.email || 'No email'}</span>\n                        </div>\n                        <div className=\"flex justify-between\">\n                          <span className=\"text-gray-400\">Phone</span>\n                          <span className=\"text-white font-medium\">{selectedPromoter?.phone || 'No phone'}</span>\n                        </div>\n                        <div className=\"flex justify-between\">\n                          <span className=\"text-gray-400\">Join Date</span>\n                          <span className=\"text-white font-medium\">{selectedPromoter?.joinDate ? new Date(selectedPromoter.joinDate).toLocaleDateString() : 'N/A'}</span>\n                        </div>\n                        <div className=\"flex justify-between\">\n                          <span className=\"text-gray-400\">Affiliate Level</span>\n                          <span className=\"text-white font-medium\">\n                            {selectedPromoter?.level > 0\n                              ? `Downline Level ${selectedPromoter?.level}`\n                              : `Level ${selectedPromoter?.affiliate_level || 1}`}\n                          </span>\n                        </div>\n                        <div className=\"flex justify-between\">\n                          <span className=\"text-gray-400\">Commission Rate</span>\n                          <span className=\"text-white font-medium\">{((selectedPromoter?.commission_rate || 0.05) * 100).toFixed(1)}%</span>\n                        </div>\n                        <div className=\"flex justify-between\">\n                          <span className=\"text-gray-400\">Can Create Promoters</span>\n                          <span className={`font-medium ${selectedPromoter?.can_create_promoters ? 'text-green-400' : 'text-red-400'}`}>\n                            {selectedPromoter?.can_create_promoters ? 'Yes' : 'No'}\n                          </span>\n                        </div>\n                        <div className=\"flex justify-between\">\n                          <span className=\"text-gray-400\">Can Create Customers</span>\n                          <span className={`font-medium ${selectedPromoter?.can_create_customers ? 'text-green-400' : 'text-red-400'}`}>\n                            {selectedPromoter?.can_create_customers ? 'Yes' : 'No'}\n                          </span>\n                        </div>\n                      </div>\n\n                      <div className=\"mt-6 space-y-2\">\n                        <UnifiedButton className=\"w-full flex items-center justify-center space-x-2\">\n                          <Mail className=\"w-4 h-4\" />\n                          <span>Contact Promoter</span>\n                        </UnifiedButton>\n                        <button className=\"w-full px-4 py-2 bg-slate-700 text-white rounded-lg hover:bg-slate-600 transition-colors\">\n                          View Performance\n                        </button>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            )}\n\n            {/* Create Promoter Modal */}\n            {showCreateModal && (\n              <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\">\n                <div className=\"bg-slate-800 rounded-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto\">\n                  <div className=\"p-6 border-b border-slate-700\">\n                    <div className=\"flex items-center justify-between\">\n                      <h3 className=\"text-xl font-bold text-white\">Create New Promoter</h3>\n                      <button\n                        onClick={closeCreateModal}\n                        className=\"text-gray-400 hover:text-white transition-colors\"\n                      >\n                        <X className=\"w-6 h-6\" />\n                      </button>\n                    </div>\n                  </div>\n\n                  <div className=\"p-6\">\n                    <UnifiedPromoterForm\n                      onSubmit={handleCreatePromoter}\n                      onCancel={closeCreateModal}\n                      hideParentPromoter={true}\n                      submitButtonText=\"Create Promoter\"\n                    />\n                  </div>\n                </div>\n              </div>\n            )}\n\n          </div>\n        </div>\n      </UnifiedBackground>\n    </>\n  );\n}\n\nexport default MyPromoters;\n"],"names":["Award","createLucideIcon","cx","cy","r","key","d","UnifiedPromoterForm","React","_ref","onSubmit","onCancel","loading","editingPromoter","availableParents","adminUsers","formData","setFormData","useState","name","email","hasEmail","password","confirmPassword","mobile","address","parentPromoter","formErrors","setFormErrors","showPassword","setShowPassword","showConfirmPassword","setShowConfirmPassword","mobileValidationState","setMobileValidationState","isValidating","isValid","message","useEffect","promoterEmail","hasRealEmail","includes","phone","parent_promoter_id","parentPromoterOptions","useMemo","map","admin","id","label","concat","type","promoter","_id","isCurrentUser","promoter_id","validateField","useCallback","async","field","value","errors","_objectSpread","trim","length","test","clientValidation","MobileValidationService","validateMobileFormat","is_valid","serverValidation","validateMobileNumber","success","error","handleInputChange","fieldName","prev","fieldErrors","newErrors","mobileNumber","errorMessage","validateForm","timeoutId","setTimeout","clearTimeout","Object","keys","forEach","assign","handleSubmit","e","preventDefault","submissionData","useNewSystem","_jsxs","className","children","_jsx","onClick","disabled","X","onChange","target","placeholder","checked","htmlFor","_Fragment","replace","slice","maxLength","Loader","CheckCircle","AlertCircle","rows","option","displayName","MultiStageLoading","stage","content","getStageContent","icon","Users","title","description","Loader2","user","useAuth","showSuccess","showError","useNavigate","useUnifiedToast","setLoading","loadingStage","setLoadingStage","promoters","setPromoters","filteredPromoters","setFilteredPromoters","setError","searchTerm","setSearchTerm","statusFilter","setStatusFilter","sortBy","setSortBy","showDownloadMenu","setShowDownloadMenu","downloadButtonRef","useRef","downloadMenuPosition","setDownloadMenuPosition","top","right","currentPage","setCurrentPage","entriesPerPage","setEntriesPerPage","selectedPromoter","setSelectedPromoter","showDetailsModal","setShowDetailsModal","showCreateModal","setShowCreateModal","submitting","setSubmitting","stats","setStats","total","level1","level2Plus","maxDepth","useScrollAnimation","loadMyPromoters","data","downlineResult","downlineError","supabase","rpc","p_promoter_code","promotersData","promotersError","from","select","eq","order","ascending","processPromotersData","downline_tree","downlinePromoters","promoterCodes","p","filter","Boolean","code","profileMap","profilesData","in","_parentPromoter","profile","path","parentCode","parent","find","role","role_level","status","pins","created_at","updated_at","parent_promoter","hierarchy_level","level","hierarchy_path","err","transformedPromoters","index","String","padStart","joinDate","Date","toISOString","split","affiliate_level","can_create_promoters","can_create_customers","commission_rate","originalData","hierarchyStats","Math","max","filtered","toLowerCase","promoterId","searchLower","sort","a","b","idA","idB","localeCompare","dateA","getTime","closeCreateModal","SharedStyles","UnifiedBackground","UnifiedCard","style","overflow","fill","stroke","viewBox","strokeLinecap","strokeLinejoin","strokeWidth","min","parseInt","ref","UnifiedButton","current","rect","getBoundingClientRect","bottom","window","innerWidth","Download","createPortal","minWidth","enrichedPromoters","parent_promoter_name","exportPromotersToPDF","handleDownloadCSV","exportPromotersToCSV","document","body","colSpan","indexOfLastPromoter","indexOfFirstPromoter","_promoter$parent_prom","_promoter$parent_prom2","_promoter$parent_prom3","_promoter$parent_prom4","charAt","Mail","Phone","closeDetailsModal","toLocaleDateString","toFixed","Error","timestamp","now","randomNum","floor","random","authData","authError","authEmail","API_URL","process","backendResponse","fetch","method","headers","JSON","stringify","userData","ok","json","backendError","_authError$message","confirmError","p_user_id","result","p_name","p_auth_email","p_password","p_phone","p_email","p_address","p_parent_promoter_id","p_role_level","p_status","hideParentPromoter","submitButtonText"],"sourceRoot":""}
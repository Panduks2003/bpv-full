{"version":3,"file":"static/js/487.0e1de564.chunk.js","mappings":"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","sources":["common/services/customerService.js","admin/pages/AdminCustomers.js","common/config/api.js","../node_modules/lucide-react/src/icons/credit-card.ts"],"sourcesContent":["import { API_URL } from '../config/api';\n\nclass CustomerService {\n  // Create customer\n  static async createCustomer(customerData, parentPromoterId) {\n    try {\n      const response = await fetch(`${API_URL}/customer/create`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({\n          ...customerData,\n          parentPromoterId: parentPromoterId\n        })\n      });\n\n      const data = await response.json();\n\n      if (!response.ok || !data.success) {\n        throw new Error(data.message || 'Failed to create customer');\n      }\n\n      return data;\n    } catch (error) {\n      console.error('Customer creation error:', error);\n      throw error;\n    }\n  }\n\n  // Update customer\n  static async updateCustomer(customerId, customerData) {\n    try {\n      const response = await fetch(`${API_URL}/customer/update`, {\n        method: 'PUT',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({\n          customerId,\n          ...customerData\n        })\n      });\n\n      const data = await response.json();\n\n      if (!response.ok || !data.success) {\n        throw new Error(data.message || 'Failed to update customer');\n      }\n\n      return data;\n    } catch (error) {\n      console.error('Customer update error:', error);\n      throw error;\n    }\n  }\n\n  // Delete customer\n  static async deleteCustomer(customerId) {\n    try {\n      const response = await fetch(`${API_URL}/customer/delete`, {\n        method: 'DELETE',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({\n          customerId\n        })\n      });\n\n      const data = await response.json();\n\n      if (!response.ok || !data.success) {\n        throw new Error(data.message || 'Failed to delete customer');\n      }\n\n      return data;\n    } catch (error) {\n      console.error('Customer deletion error:', error);\n      throw error;\n    }\n  }\n\n  // Get customer by ID\n  static async getCustomerById(customerId) {\n    try {\n      const response = await fetch(`${API_URL}/customer/${customerId}`, {\n        method: 'GET',\n        headers: {\n          'Content-Type': 'application/json',\n        }\n      });\n\n      const data = await response.json();\n\n      if (!response.ok || !data.success) {\n        throw new Error(data.message || 'Failed to get customer');\n      }\n\n      return data;\n    } catch (error) {\n      console.error('Get customer error:', error);\n      throw error;\n    }\n  }\n\n  // Get all customers\n  static async getAllCustomers(promoterId = null) {\n    try {\n      const url = promoterId\n        ? `${API_URL}/customer/list?promoterId=${promoterId}`\n        : `${API_URL}/customer/list`;\n\n      const response = await fetch(url, {\n        method: 'GET',\n        headers: {\n          'Content-Type': 'application/json',\n        }\n      });\n\n      const data = await response.json();\n\n      if (!response.ok || !data.success) {\n        throw new Error(data.message || 'Failed to get customers');\n      }\n\n      return data;\n    } catch (error) {\n      console.error('Get customers error:', error);\n      throw error;\n    }\n  }\n}\n\nexport default CustomerService;\n","import React, { useState, useEffect, useRef } from 'react';\nimport { createPortal } from 'react-dom';\nimport { useAuth } from \"../../common/context/AuthContext\";\nimport { useUnifiedToast } from \"../../common/services/unifiedToastService\";\n// import AdminNavbar removed - handled by ConditionalNavbar in App.js\nimport UnifiedCustomerForm from '../../common/components/UnifiedCustomerForm';\nimport PaymentManager from '../../common/components/PaymentManager';\nimport {\n  UnifiedBackground,\n  UnifiedCard,\n  UnifiedButton,\n  useScrollAnimation,\n  SharedStyles\n} from \"../../common/components/SharedTheme\";\nimport { supabase } from \"../../common/services/supabaseClient\";\nimport customerService from '../../common/services/customerService';\nimport { Search, Plus, Edit, Trash2, Users, Mail, Phone, CreditCard, Download, ChevronLeft, ChevronRight, UserCheck, DollarSign } from 'lucide-react';\nimport { SkeletonTable } from '../components/skeletons';\nimport * as exportUtils from '../../common/utils/exportUtils';\n\nfunction AdminCustomers() {\n  const { user } = useAuth();\n  const { showSuccess, showError } = useUnifiedToast();\n  useScrollAnimation();\n\n  // State management\n  const [customers, setCustomers] = useState([]);\n  const [promoters, setPromoters] = useState([]);\n  const [filteredCustomers, setFilteredCustomers] = useState([]);\n  const [searchTerm, setSearchTerm] = useState('');\n  const [customerIdFilter, setCustomerIdFilter] = useState('');\n  const [statusFilter, setStatusFilter] = useState('');\n  const [batchFilter, setBatchFilter] = useState(''); // NEW BATCH FILTER\n  const [paymentMonthFilter, setPaymentMonthFilter] = useState('');\n  const [showModal, setShowModal] = useState(false);\n  const [showDownloadMenu, setShowDownloadMenu] = useState(false);\n  const [customerPayments, setCustomerPayments] = useState({}); // Map of customer_id -> payments array\n  const [sortBy, setSortBy] = useState('created_at'); // 'created_at' or 'customer_id'\n  const downloadButtonRef = useRef(null);\n  const [downloadMenuPosition, setDownloadMenuPosition] = useState({ top: 0, right: 0 });\n  const [showDeleteModal, setShowDeleteModal] = useState(false);\n  const [editingCustomer, setEditingCustomer] = useState(null);\n  const [deletingCustomer, setDeletingCustomer] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [showPaymentManager, setShowPaymentManager] = useState(false);\n  const [selectedCustomerForPayments, setSelectedCustomerForPayments] = useState(null);\n\n  // Pagination states - disabled to show all customers\n  const [currentPage, setCurrentPage] = useState(1);\n  const [entriesPerPage, setEntriesPerPage] = useState(10000); // Large number to show all customers\n\n  // Load data on component mount - optimized for performance\n  useEffect(() => {\n    let isMounted = true;\n\n    const fetchData = async () => {\n      if (isMounted) {\n        await loadDashboardData();\n      }\n    };\n\n    fetchData();\n\n    // Cleanup function\n    return () => {\n      isMounted = false;\n    };\n  }, []);\n\n  // Ultra-optimized data loading for instant display\n  const loadDashboardData = async () => {\n    try {\n      setLoading(true);\n\n      // Load all customers without limit for proper pagination\n      const [customersResult, promotersResult] = await Promise.all([\n        // Load customers with necessary fields - no limit for pagination\n        supabase\n          .from('profiles')\n          .select(`\n            id,\n            name,\n            email,\n            phone,\n            mobile,\n            customer_id,\n            parent_promoter_id,\n            status,\n            created_at,\n            state,\n            city,\n            pincode,\n            address,\n            saving_plan,\n            promoter_id,\n            role_level,\n            pins,\n            wallet_balance,\n            kyc_status,\n            batch\n          `)\n          .eq('role', 'customer')\n          .order('created_at', { ascending: false }),\n        // Load promoters with limit for faster load\n        supabase\n          .from('profiles')\n          .select('id, name, promoter_id')\n          .eq('role', 'promoter')\n          .order('created_at', { ascending: false })\n          .limit(50) // Added limit to prevent loading all promoters\n      ]);\n\n      const { data, error: customersError } = customersResult;\n      const { data: promotersData, error: promotersError } = promotersResult;\n\n      if (customersError) {\n        throw customersError;\n      }\n\n      if (promotersError) {\n        throw promotersError;\n      }\n\n      setCustomers(data || []);\n      setPromoters(promotersData || []);\n      setFilteredCustomers(data || []);\n\n      // Debug: Log batch data\n      console.log('=== CUSTOMER BATCH DEBUG ===');\n      const batchDistribution = {};\n      (data || []).forEach(customer => {\n        const batch = customer.batch || 'NULL';\n        batchDistribution[batch] = (batchDistribution[batch] || 0) + 1;\n      });\n      console.log('Batch distribution:', batchDistribution);\n      console.log('Sample customers:');\n      (data || []).slice(0, 5).forEach(customer => {\n        console.log(`  ${customer.name} (${customer.customer_id}): batch=\"${customer.batch}\"`);\n      });\n      console.log('=== END BATCH DEBUG ===');\n\n      setLoading(false);\n\n      // Load remaining promoters in background\n      setTimeout(async () => {\n        try {\n          const { data: morePromotersData } = await supabase\n            .from('profiles')\n            .select('id, name, promoter_id')\n            .eq('role', 'promoter')\n            .order('created_at', { ascending: false })\n            .limit(500);\n\n          if (morePromotersData) {\n            setPromoters(morePromotersData);\n          }\n        } catch (error) {\n          console.error('Error loading more promoters:', error);\n        }\n      }, 200);\n\n    } catch (error) {\n      setCustomers([]);\n      setPromoters([]);\n      setFilteredCustomers([]);\n      setLoading(false);\n    }\n  };\n\n  // Load customer payments in batches to avoid URL length limits\n  const loadCustomerPayments = async (customerIds = null) => {\n    try {\n      const idsToLoad = customerIds || customers.map(c => c.id);\n      if (idsToLoad.length === 0) return;\n\n      console.log(`=== LOADING PAYMENTS ===`);\n      console.log(`Loading payments for ${idsToLoad.length} customers in ${Math.ceil(idsToLoad.length / 100)} batches`);\n\n      const batchSize = 100;\n      const allPayments = [];\n      const totalBatches = Math.ceil(idsToLoad.length / batchSize);\n\n      for (let i = 0; i < totalBatches; i++) {\n        const batch = idsToLoad.slice(i * batchSize, (i + 1) * batchSize);\n        console.log(`Processing batch ${i + 1}/${totalBatches} with ${batch.length} customers`);\n\n        const { data, error } = await supabase\n          .from('customer_payments')\n          .select('customer_id, month_number, status, payment_amount')\n          .in('customer_id', batch);\n\n        if (error) {\n          console.error(`Batch ${i + 1} error:`, error);\n          continue;\n        }\n\n        if (data) {\n          allPayments.push(...data);\n          console.log(`Batch ${i + 1}/${totalBatches}: Loaded ${data.length} payments`);\n        }\n      }\n\n      // Group payments by customer_id\n      const paymentsMap = {};\n      allPayments.forEach(payment => {\n        if (!paymentsMap[payment.customer_id]) paymentsMap[payment.customer_id] = [];\n        paymentsMap[payment.customer_id].push(payment);\n      });\n\n      setCustomerPayments(prev => ({ ...prev, ...paymentsMap }));\n      console.log(`=== PAYMENT LOADING COMPLETE ===`);\n      console.log(`Total payments loaded: ${allPayments.length}`);\n      console.log(`Customers with payment data: ${Object.keys(paymentsMap).length}`);\n      console.log(`Expected customers: ${idsToLoad.length}`);\n      console.log(`Missing payment data for: ${idsToLoad.length - Object.keys(paymentsMap).length} customers`);\n\n      // Debug: Show customers without payment data\n      const customersWithoutPayments = idsToLoad.filter(id => !paymentsMap[id]);\n      if (customersWithoutPayments.length > 0) {\n        console.log('Customers without payment data (first 5):', customersWithoutPayments.slice(0, 5));\n      }\n    } catch (error) {\n      console.error('Error loading customer payments:', error);\n    }\n  };\n\n  // Lazy load payments when customers are loaded (with debounce)\n  useEffect(() => {\n    if (customers.length > 0 && Object.keys(customerPayments).length === 0) {\n      const timeoutId = setTimeout(() => {\n        loadCustomerPayments();\n      }, 500); // Debounce to prevent multiple calls\n      return () => clearTimeout(timeoutId);\n    }\n  }, [customers]);\n\n  // Filter customers based on search term, status, batch, and payment month\n  useEffect(() => {\n    let filtered = [...customers];\n\n    // Customer ID filter (exact match)\n    if (customerIdFilter) {\n      const searchId = customerIdFilter.trim().toLowerCase();\n      filtered = filtered.filter(customer => {\n        const customerId = (customer?.customer_id || '').toLowerCase();\n        return customerId.includes(searchId);\n      });\n    }\n\n    // General search filter\n    if (searchTerm) {\n      filtered = filtered.filter(customer => {\n        const name = (customer?.name || '').toLowerCase();\n        const emailValue = customer?.email;\n        const phoneValue = customer?.phone || customer?.mobile;\n        const customerId = (customer?.customer_id || '').toLowerCase();\n        const email = (emailValue && String(emailValue).trim() !== '') ? String(emailValue).toLowerCase() : '';\n        const phone = (phoneValue !== null && phoneValue !== undefined && String(phoneValue).trim() !== '') ? String(phoneValue).toLowerCase() : '';\n        const searchLower = (searchTerm || '').toLowerCase();\n        return name.includes(searchLower) ||\n          email.includes(searchLower) ||\n          phone.includes(searchLower) ||\n          customerId.includes(searchLower);\n      });\n    }\n\n    // Status filter\n    if (statusFilter) {\n      filtered = filtered.filter(customer => {\n        const customerStatus = (customer?.status || 'active').toLowerCase();\n        return customerStatus === statusFilter.toLowerCase();\n      });\n    }\n\n    // Batch filter - NEW\n    if (batchFilter) {\n      console.log(`=== BATCH FILTER DEBUG ===`);\n      console.log(`Filtering for: \"${batchFilter}\"`);\n      const beforeBatchFilter = filtered.length;\n\n      // Check first few customer batch values\n      const sampleBatches = filtered.slice(0, 3).map(c => ({\n        name: c.name,\n        batch: c?.batch,\n        batchType: typeof c?.batch\n      }));\n      console.log('Sample batch values:', sampleBatches);\n\n      filtered = filtered.filter(customer => {\n        const customerBatch = customer?.batch;\n\n        // Case-insensitive comparison\n        const matches = customerBatch && customerBatch.toString().toLowerCase() === batchFilter.toLowerCase();\n        if (!matches && beforeBatchFilter <= 10) {\n          console.log(`NO MATCH: \"${customerBatch}\" != \"${batchFilter}\"`);\n        }\n        return matches;\n      });\n\n      console.log(`Batch filter result: ${filtered.length} customers (from ${beforeBatchFilter})`);\n      console.log(`=== END BATCH FILTER DEBUG ===`);\n    }\n\n    // Sort based on selected method\n    if (sortBy === 'customer_id') {\n      // Sort by customer ID (numeric part) - ascending order\n      filtered = [...filtered].sort((a, b) => {\n        // Extract numeric parts from customer IDs\n        const getNumericPart = (id) => {\n          if (!id) return 0;\n          const match = id.match(/\\d+/);\n          return match ? parseInt(match[0], 10) : 0;\n        };\n\n        const numA = getNumericPart(a.customer_id);\n        const numB = getNumericPart(b.customer_id);\n        return numA - numB; // Ascending order for IDs (1, 2, 3...)\n      });\n    } else {\n      // Default sort by created_at (newest first)\n      filtered = [...filtered].sort((a, b) => {\n        const dateA = new Date(a.created_at || 0);\n        const dateB = new Date(b.created_at || 0);\n        return dateB.getTime() - dateA.getTime(); // Newest first\n      });\n    }\n\n    // Payment month filter\n    if (paymentMonthFilter) {\n      const monthNumber = parseInt(paymentMonthFilter);\n      console.log(`=== PAYMENT FILTER DEBUG ===`);\n      console.log(`Applying payment filter for month ${monthNumber}`);\n      console.log('Total customers before filter:', filtered.length);\n      console.log('Customer payments loaded:', Object.keys(customerPayments).length);\n      console.log('Payment filter month:', monthNumber);\n\n      // Debug: Show sample payment data\n      const samplePayments = filtered.slice(0, 3).map(customer => {\n        const payments = customerPayments[customer.id] || [];\n        const monthPayment = payments.find(p => p.month_number === monthNumber);\n        return {\n          name: customer.name,\n          customerId: customer.id,\n          hasPayments: payments.length > 0,\n          monthPayment: monthPayment,\n          monthPaymentStatus: monthPayment?.status,\n          allPaymentStatuses: payments.map(p => ({ month: p.month_number, status: p.status }))\n        };\n      });\n      console.log('Sample payment data:', samplePayments);\n\n      // Count customers with different statuses for month 1\n      let paidCount = 0;\n      let unpaidCount = 0;\n      let pendingCount = 0;\n      let noPaymentCount = 0;\n\n      const beforeFilter = filtered.length;\n\n      filtered = filtered.filter(customer => {\n        const payments = customerPayments[customer.id] || [];\n        const payment = payments.find(p => p.month_number === monthNumber);\n\n        if (payment) {\n          if (payment.status === 'paid') {\n            paidCount++;\n            console.log(`✅ KEEPING: ${customer.name} - Month ${monthNumber} status: ${payment.status}`);\n            return true; // Keep paid customers\n          } else if (payment.status === 'unpaid') {\n            unpaidCount++;\n            console.log(`❌ REMOVING: ${customer.name} - Month ${monthNumber} status: ${payment.status}`);\n          } else {\n            pendingCount++;\n            console.log(`❌ REMOVING: ${customer.name} - Month ${monthNumber} status: ${payment.status}`);\n          }\n          return false; // Don't keep non-paid customers\n        } else {\n          noPaymentCount++;\n          if (noPaymentCount <= 5) { // Only log first 5 to avoid spam\n            console.log(`❌ REMOVING: ${customer.name} (ID: ${customer.id}) has no payment record for month ${monthNumber}`);\n            console.log(`Available payments for this customer:`, payments.map(p => ({ month: p.month_number, status: p.status })));\n          }\n          return false; // Don't keep customers without payment records\n        }\n      });\n\n      console.log(`Payment filter ${monthNumber}: ${filtered.length} customers have paid month ${monthNumber} (from ${beforeFilter})`);\n      console.log(`Summary: ${paidCount} paid, ${unpaidCount} unpaid, ${pendingCount} other status, ${noPaymentCount} no payment records`);\n      console.log(`=== END PAYMENT FILTER DEBUG ===`);\n    }\n\n    setFilteredCustomers(filtered);\n    setCurrentPage(1); // Reset to first page when filters change\n  }, [customers, searchTerm, statusFilter, batchFilter, paymentMonthFilter, customerPayments, sortBy]);\n\n  // Debug function to check payment data\n  const debugPaymentData = () => {\n    console.log('=== PAYMENT DATA DEBUG ===');\n    console.log('Total customers:', customers.length);\n    console.log('Customer payments loaded:', Object.keys(customerPayments).length);\n\n    // Check if any customers are missing payment data\n    const customersWithoutPayments = customers.filter(c => !customerPayments[c.id] || customerPayments[c.id].length === 0);\n    console.log('Customers without payment data:', customersWithoutPayments.length);\n\n    if (customersWithoutPayments.length > 0) {\n      console.log('Sample customers without payments:');\n      customersWithoutPayments.slice(0, 5).forEach(c => {\n        console.log(`- ${c.name} (${c.id}): customer_id=${c.customer_id}`);\n      });\n    }\n\n    // Check month 1 payment status\n    let paidCount = 0;\n    let unpaidCount = 0;\n    let noPaymentCount = 0;\n\n    customers.forEach(customer => {\n      const payments = customerPayments[customer.id] || [];\n      const month1Payment = payments.find(p => p.month_number === 1);\n\n      if (month1Payment && month1Payment.status === 'paid') {\n        paidCount++;\n      } else if (month1Payment) {\n        unpaidCount++;\n      } else {\n        noPaymentCount++;\n      }\n    });\n\n    console.log(`Month 1 Summary: ${paidCount} paid, ${unpaidCount} unpaid, ${noPaymentCount} no payment records`);\n    console.log('Expected: 658 paid customers');\n    console.log('=== END DEBUG ===');\n  };\n\n  // Call debug function when payments are loaded\n  useEffect(() => {\n    if (Object.keys(customerPayments).length > 0) {\n      debugPaymentData();\n    }\n  }, [customerPayments]);\n\n  // Add manual debug trigger (remove after debugging)\n  useEffect(() => {\n    const handleKeyPress = (e) => {\n      // Mac: Cmd+Shift+D, Windows/Linux: Ctrl+Shift+D\n      if ((e.metaKey || e.ctrlKey) && e.shiftKey && e.key === 'D') {\n        e.preventDefault();\n        console.log('=== MANUAL DEBUG TRIGGERED ===');\n        debugPaymentData();\n      }\n    };\n    window.addEventListener('keydown', handleKeyPress);\n    return () => window.removeEventListener('keydown', handleKeyPress);\n  }, [customers, customerPayments]);\n\n  // Handle download - PDF\n  const handleDownloadPDF = async () => {\n    try {\n      // Enrich customers with promoter names\n      const enrichedCustomers = filteredCustomers.map(customer => {\n        const promoter = promoters.find(p => p.id === customer.parent_promoter_id);\n        return {\n          ...customer,\n          promoter_name: promoter?.name || 'Unassigned'\n        };\n      });\n      await exportUtils.exportToPDF(enrichedCustomers, 'customers');\n      setShowDownloadMenu(false);\n    } catch (error) {\n      showError('Failed to export PDF: ' + error.message);\n    }\n  };\n\n  // Handle download - CSV\n  const handleDownloadCSV = () => {\n    try {\n      // Enrich customers with promoter names\n      const enrichedCustomers = filteredCustomers.map(customer => {\n        const promoter = promoters.find(p => p.id === customer.parent_promoter_id);\n        return {\n          ...customer,\n          promoter_name: promoter?.name || 'Unassigned'\n        };\n      });\n      exportUtils.exportToCSV(enrichedCustomers, 'customers');\n      setShowDownloadMenu(false);\n    } catch (error) {\n      showError('Failed to export CSV: ' + error.message);\n    }\n  };\n\n  // Get available promoters for dropdown\n  const getAllAvailableParents = () => {\n    return promoters || [];\n  };\n\n  // Form validation is now handled by UnifiedCustomerForm\n\n  // Modal handlers\n  const openCreateModal = () => {\n    setEditingCustomer(null);\n    setShowModal(true);\n  };\n\n  const openEditModal = (customer) => {\n    setEditingCustomer(customer);\n    setShowModal(true);\n  };\n\n  const closeModal = () => {\n    setShowModal(false);\n    setEditingCustomer(null);\n  };\n\n  const openDeleteModal = (customer) => {\n    setDeletingCustomer(customer);\n    setShowDeleteModal(true);\n  };\n\n  const closeDeleteModal = () => {\n    setShowDeleteModal(false);\n    setDeletingCustomer(null);\n  };\n\n  // Payment management handlers\n  const openPaymentManager = (customer) => {\n    setSelectedCustomerForPayments(customer);\n    setShowPaymentManager(true);\n  };\n\n  const closePaymentManager = () => {\n    setShowPaymentManager(false);\n    setSelectedCustomerForPayments(null);\n  };\n\n\n  // Handle customer status change\n  const handleStatusChange = async (customer, newStatus) => {\n    try {\n      const { error } = await supabase\n        .from('profiles')\n        .update({ status: newStatus })\n        .eq('id', customer.id);\n\n      if (error) throw error;\n\n      // Update local state\n      setCustomers(prev => prev.map(c =>\n        c.id === customer.id ? { ...c, status: newStatus } : c\n      ));\n      setFilteredCustomers(prev => prev.map(c =>\n        c.id === customer.id ? { ...c, status: newStatus } : c\n      ));\n\n      showSuccess(`Customer status updated to ${newStatus}`);\n    } catch (error) {\n      showError('Failed to update customer status');\n      console.error('Status update error:', error);\n    }\n  };\n\n  // Handle customer status change- using direct supabase update\n  const toggleCustomerStatus = async (customer) => {\n    try {\n      const currentStatus = customer.status || 'active';\n      const newStatus = currentStatus === 'active' ? 'inactive' : 'active';\n\n      const { error } = await supabase\n        .from('profiles')\n        .update({ status: newStatus })\n        .eq('id', customer.id);\n\n      if (error) throw error;\n\n      showSuccess(`Customer status updated successfully.\\n\\n${customer.name} is now ${newStatus}.`);\n      // Reload customers to reflect changes\n      await loadDashboardData();\n    } catch (error) {\n      showError('Failed to update customer status. Please try again.');\n    }\n  };\n\n  // Handle customer form submission\n  const handleCustomerSubmit = async (formData) => {\n    try {\n      if (editingCustomer) {\n        // Update existing customer - use direct Supabase update\n        // Ensure empty email is sent as null, not empty string\n        const emailValue = formData.email?.trim();\n\n        const { error } = await supabase\n          .from('profiles')\n          .update({\n            name: formData.name,\n            saving_plan: formData.savingPlan || '₹1000 per month for 20 months',\n            phone: formData.mobile,\n            mobile: formData.mobile, // Sync mobile column with phone value\n            email: (emailValue && emailValue !== '') ? emailValue : null,\n            state: formData.state,\n            city: formData.city,\n            pincode: formData.pincode,\n            address: formData.address,\n            updated_at: new Date().toISOString()\n          })\n          .eq('id', editingCustomer.id);\n\n        if (error) {\n          throw error;\n        }\n\n        showSuccess(`Customer updated successfully.\\n\\n${formData.name}'s information has been saved.`);\n\n        // Reload customers to reflect changes\n        await loadDashboardData();\n        closeModal();\n      } else {\n        // Create new customer using unified service (ensures single PIN deduction)\n        const result = await customerService.createCustomer(formData, formData.parentPromoter);\n\n        if (!result.success) {\n          throw new Error(result.error || result.message || 'Failed to create customer');\n        }\n\n        // Show success message\n        showSuccess(result.message || `Customer created successfully and is ready to use.\\n\\nCard No: ${formData.cardNo}\\nName: ${formData.name}\\nLogin: Use Card No + Password`);\n\n        // Reload customers after creation\n        await loadDashboardData();\n\n        closeModal();\n      }\n\n    } catch (error) {\n      showError(`Failed to ${editingCustomer ? 'update' : 'create'} customer: ${error.message}`);\n    }\n  };\n\n  const handleDelete = async () => {\n    if (deletingCustomer) {\n      try {\n        // Delete from profiles table (customers are stored there)\n        const { error } = await supabase\n          .from('profiles')\n          .delete()\n          .eq('id', deletingCustomer.id);\n\n        if (error) throw error;\n\n        showSuccess(`Customer deleted successfully.\\n\\n${deletingCustomer.name} has been removed from the system.`);\n        await loadDashboardData();\n        closeDeleteModal();\n      } catch (error) {\n        showError('Failed to delete customer. Please try again.');\n      }\n    }\n  };\n\n  // Get promoter name for display\n  const getPromoterName = (customer) => {\n    const promoterId = customer?.parent_promoter_id;\n    if (!promoterId) return 'Unassigned';\n\n    const promoter = (promoters || []).find(p => p?.id === promoterId);\n\n    return promoter?.name || 'Unknown Promoter';\n  };\n\n  // Get promoter system ID for display\n  const getPromoterSystemId = (customer) => {\n    const promoterId = customer?.parent_promoter_id;\n    if (!promoterId) return '';\n\n    const promoter = (promoters || []).find(p => p?.id === promoterId);\n\n    return promoter?.promoter_id || '';\n  };\n\n  return (\n    <>\n      <SharedStyles />\n      {/* AdminNavbar removed - handled by ConditionalNavbar in App.js */}\n      <UnifiedBackground>\n        <div className=\"min-h-screen pt-40 px-8 pb-8\">\n          <div className=\"max-w-7xl mx-auto\">\n            {/* Header */}\n            <div className=\"flex justify-between items-center mb-8\" data-animate>\n              <div>\n                <h1 className=\"text-2xl font-bold text-white mb-2\">Customer Management</h1>\n                <p className=\"text-gray-300\">Manage customer accounts and assignments</p>\n              </div>\n              <div className=\"flex items-center gap-3\">\n                <UnifiedButton\n                  onClick={openCreateModal}\n                  className=\"flex items-center space-x-2 px-3 py-2 text-sm\"\n                >\n                  <Plus className=\"w-4 h-4\" />\n                  <span>Create Customer</span>\n                </UnifiedButton>\n\n                {/* Download Button */}\n                <div className=\"relative\" ref={downloadButtonRef}>\n                  <UnifiedButton\n                    onClick={() => {\n                      if (downloadButtonRef.current) {\n                        const rect = downloadButtonRef.current.getBoundingClientRect();\n                        setDownloadMenuPosition({\n                          top: rect.bottom + 8,\n                          right: window.innerWidth - rect.right\n                        });\n                      }\n                      setShowDownloadMenu(!showDownloadMenu);\n                    }}\n                    className=\"flex items-center space-x-2 px-3 py-2 text-sm bg-blue-600 hover:bg-blue-500 border border-blue-500\"\n                  >\n                    <Download className=\"w-4 h-4\" />\n                    <span>Export</span>\n                  </UnifiedButton>\n\n                  {showDownloadMenu && createPortal(\n                    <>\n                      <div\n                        className=\"fixed inset-0 z-[9998]\"\n                        onClick={() => setShowDownloadMenu(false)}\n                      />\n                      <div\n                        className=\"fixed w-48 bg-gray-800 border-2 border-gray-600 rounded-lg shadow-2xl z-[9999]\"\n                        style={{\n                          top: `${downloadMenuPosition.top}px`,\n                          right: `${downloadMenuPosition.right}px`,\n                          minWidth: '12rem'\n                        }}\n                      >\n                        <button\n                          onClick={handleDownloadPDF}\n                          className=\"w-full text-left px-4 py-3 text-white hover:bg-gray-700 rounded-t-lg flex items-center space-x-2 transition-colors\"\n                        >\n                          <span>📄 PDF</span>\n                        </button>\n                        <button\n                          onClick={handleDownloadCSV}\n                          className=\"w-full text-left px-4 py-3 text-white hover:bg-gray-700 rounded-b-lg flex items-center space-x-2 transition-colors\"\n                        >\n                          <span>📊 CSV</span>\n                        </button>\n                      </div>\n                    </>,\n                    document.body\n                  )}\n                </div>\n              </div>\n            </div>\n\n            {/* Search and Filters */}\n            <UnifiedCard className=\"mb-6\" data-animate style={{ overflow: 'visible' }}>\n              {/* Single Row Layout - All elements in one line */}\n              <div className=\"flex flex-wrap items-center gap-3\">\n                {/* Search Input - Takes more space */}\n                <div className=\"flex-1 min-w-[300px]\">\n                  <div className=\"relative\">\n                    <input\n                      type=\"text\"\n                      placeholder=\"Search by name, ID, phone, or email...\"\n                      value={searchTerm}\n                      onChange={(e) => setSearchTerm(e.target.value)}\n                      className=\"w-full h-10 px-3 bg-gray-700 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-all text-sm\"\n                    />\n                    {/* Search Icon */}\n                    <div className=\"absolute right-3 top-1/2 transform -translate-y-1/2 pointer-events-none\">\n                      <svg className=\"w-4 h-4 text-gray-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z\" />\n                      </svg>\n                    </div>\n                  </div>\n                </div>\n\n                {/* Status Filter */}\n                <div className=\"relative\">\n                  <select\n                    value={statusFilter}\n                    onChange={(e) => setStatusFilter(e.target.value)}\n                    className=\"appearance-none h-10 bg-gray-700 border border-gray-600 rounded-lg text-white px-3 pr-8 focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-all cursor-pointer hover:bg-gray-650 text-sm\"\n                  >\n                    <option value=\"\">All Status</option>\n                    <option value=\"active\">Active</option>\n                    <option value=\"inactive\">Inactive</option>\n                    <option value=\"pending\">Pending</option>\n                  </select>\n                  {/* Custom Dropdown Arrow */}\n                  <div className=\"absolute right-3 top-1/2 transform -translate-y-1/2 pointer-events-none\">\n                    <svg className=\"w-3 h-3 text-gray-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M19 9l-7 7-7-7\" />\n                    </svg>\n                  </div>\n                </div>\n\n                {/* Batch Filter */}\n                <div className=\"relative\">\n                  <select\n                    value={batchFilter}\n                    onChange={(e) => setBatchFilter(e.target.value)}\n                    className=\"appearance-none h-10 bg-gray-700 border border-gray-600 rounded-lg text-white px-3 pr-8 focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-all cursor-pointer hover:bg-gray-650 text-sm\"\n                  >\n                    <option value=\"\">All Batches</option>\n                    <option value=\"Batch 1\">Batch 1</option>\n                    <option value=\"Batch 2\">Batch 2</option>\n                  </select>\n                  {/* Custom Dropdown Arrow */}\n                  <div className=\"absolute right-3 top-1/2 transform -translate-y-1/2 pointer-events-none\">\n                    <svg className=\"w-3 h-3 text-gray-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M19 9l-7 7-7-7\" />\n                    </svg>\n                  </div>\n                </div>\n\n                {/* Payment Status Filter */}\n                <div className=\"relative\">\n                  <select\n                    value={paymentMonthFilter}\n                    onChange={(e) => setPaymentMonthFilter(e.target.value ? parseInt(e.target.value) : '')}\n                    className=\"appearance-none h-10 bg-gray-700 border border-gray-600 rounded-lg text-white px-3 pr-8 focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-all cursor-pointer hover:bg-gray-650 text-sm\"\n                  >\n                    <option value=\"\">All Payments</option>\n                    <option value=\"1\">Paid - Month 1</option>\n                    <option value=\"2\">Paid - Month 2</option>\n                    <option value=\"3\">Paid - Month 3</option>\n                    <option value=\"4\">Paid - Month 4</option>\n                    <option value=\"5\">Paid - Month 5</option>\n                    <option value=\"6\">Paid - Month 6</option>\n                    <option value=\"7\">Paid - Month 7</option>\n                    <option value=\"8\">Paid - Month 8</option>\n                    <option value=\"9\">Paid - Month 9</option>\n                    <option value=\"10\">Paid - Month 10</option>\n                    <option value=\"11\">Paid - Month 11</option>\n                    <option value=\"12\">Paid - Month 12</option>\n                    <option value=\"13\">Paid - Month 13</option>\n                    <option value=\"14\">Paid - Month 14</option>\n                    <option value=\"15\">Paid - Month 15</option>\n                    <option value=\"16\">Paid - Month 16</option>\n                    <option value=\"17\">Paid - Month 17</option>\n                    <option value=\"18\">Paid - Month 18</option>\n                    <option value=\"19\">Paid - Month 19</option>\n                    <option value=\"20\">Paid - Month 20</option>\n                  </select>\n                  {/* Custom Dropdown Arrow */}\n                  <div className=\"absolute right-3 top-1/2 transform -translate-y-1/2 pointer-events-none\">\n                    <svg className=\"w-3 h-3 text-gray-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M19 9l-7 7-7-7\" />\n                    </svg>\n                  </div>\n                </div>\n\n                {/* Sort Buttons */}\n                <div className=\"flex items-center gap-1 h-10 px-3 bg-gray-700/30 rounded-lg border border-gray-600/50\">\n                  <button\n                    onClick={() => setSortBy('created_at')}\n                    className={`px-2 py-2 text-sm rounded-md transition-all font-medium whitespace-nowrap ${sortBy === 'created_at'\n                      ? 'bg-orange-500 text-white shadow-md'\n                      : 'text-gray-300 bg-gray-700/50 hover:bg-gray-600/50 hover:text-white'\n                      }`}\n                    title=\"Sort by Newest\"\n                  >\n                    Newest\n                  </button>\n                  <button\n                    onClick={() => setSortBy('customer_id')}\n                    className={`px-2 py-2 text-sm rounded-md transition-all font-medium whitespace-nowrap ${sortBy === 'customer_id'\n                      ? 'bg-orange-500 text-white shadow-md'\n                      : 'text-gray-300 bg-gray-700/50 hover:bg-gray-600/50 hover:text-white'\n                      }`}\n                    title=\"Sort by Customer ID\"\n                  >\n                    By ID\n                  </button>\n                </div>\n\n                {/* Status Badge - Shows customer count like promoters page */}\n                {filteredCustomers.length > 0 && (\n                  <div className=\"flex items-center gap-2 h-10 px-3 bg-gray-700/30 rounded-lg border border-gray-600/50\">\n                    <div className=\"w-2 h-2 bg-amber-400 rounded-full animate-pulse\"></div>\n                    <span className=\"text-gray-300 text-sm font-medium\">\n                      {(() => {\n                        const hasFilters = searchTerm || statusFilter || batchFilter || paymentMonthFilter;\n                        const isShowingAll = entriesPerPage >= 1000;\n\n                        if (hasFilters || isShowingAll) {\n                          return <><span className=\"text-amber-300 font-bold\">{filteredCustomers.length}</span> customers</>;\n                        } else {\n                          return <>Showing <span className=\"text-amber-300 font-bold\">{((currentPage - 1) * entriesPerPage) + 1}</span> to <span className=\"text-amber-300 font-bold\">{Math.min(currentPage * entriesPerPage, filteredCustomers.length)}</span> of <span className=\"text-amber-300 font-bold\">{filteredCustomers.length}</span> customers</>;\n                        }\n                      })()}\n                    </span>\n                  </div>\n                )}\n              </div>\n            </UnifiedCard>\n\n            {/* Customers Table */}\n            <UnifiedCard className=\"overflow-hidden\" data-animate>\n\n              {loading ? (\n                <SkeletonTable rows={8} columns={6} />\n              ) : (\n                <div className=\"overflow-x-auto\">\n                  <table className=\"w-full\">\n                    <thead className=\"bg-gray-700\">\n                      <tr>\n                        <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider\">Customer Details</th>\n                        <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider\">Contact Details</th>\n                        <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider\">Batch & Saving Plan</th>\n                        <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider\">Assigned Promoter</th>\n                        <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider\">Status</th>\n                        <th className=\"px-6 py-3 text-right text-xs font-medium text-gray-300 uppercase tracking-wider\">Actions</th>\n                      </tr>\n                    </thead>\n                    <tbody className=\"bg-gray-800 divide-y divide-gray-700\">\n                      {filteredCustomers.length === 0 ? (\n                        <tr>\n                          <td colSpan=\"6\" className=\"px-6 py-12 text-center text-gray-400\">\n                            No customers found\n                          </td>\n                        </tr>\n                      ) : (\n                        filteredCustomers.map((customer) => {\n                          const customerId = customer?.id;\n                          const customerName = customer?.name || 'Unknown';\n                          // Display actual database values - check for null, undefined, or empty string\n                          // Handle phone as both string and number types\n                          // Use mobile as fallback if phone is NULL\n                          const emailValue = customer?.email;\n                          const phoneValue = customer?.phone || customer?.mobile; // Use mobile as fallback\n\n                          const customerEmail = (emailValue && String(emailValue).trim() !== '') ? String(emailValue) : null;\n                          const customerPhone = (phoneValue !== null && phoneValue !== undefined && String(phoneValue).trim() !== '') ? String(phoneValue) : null;\n\n                          const systemCustomerID = customer?.customer_id || 'N/A';\n                          const status = customer?.status || 'active';\n                          const promoterName = getPromoterName(customer);\n                          const promoterSystemId = getPromoterSystemId(customer);\n\n                          return (\n                            <tr key={customerId} className=\"hover:bg-gray-700\">\n                              <td className=\"px-6 py-4 whitespace-nowrap\">\n                                <div className=\"flex items-center\">\n                                  <div className=\"w-8 h-8 bg-gradient-to-r from-green-400 to-blue-500 rounded-full flex items-center justify-center mr-3\">\n                                    <Users className=\"w-4 h-4 text-white\" />\n                                  </div>\n                                  <div className=\"flex flex-col\">\n                                    <span className=\"text-white font-medium\">{customerName}</span>\n                                    <span className=\"text-xs text-gray-400\">{systemCustomerID}</span>\n                                  </div>\n                                </div>\n                              </td>\n                              <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-300\">\n                                <div className=\"space-y-1\">\n                                  <div className=\"flex items-center\">\n                                    <Mail className=\"w-3 h-3 mr-2 text-gray-400\" />\n                                    {customerEmail ? customerEmail : 'no gmail'}\n                                  </div>\n                                  <div className=\"flex items-center\">\n                                    <Phone className=\"w-3 h-3 mr-2 text-gray-400\" />\n                                    {customerPhone ? customerPhone : 'no phone'}\n                                  </div>\n                                </div>\n                              </td>\n                              <td className=\"px-6 py-4 whitespace-nowrap\">\n                                <div className=\"flex flex-col space-y-1.5\">\n                                  {customer?.batch && (\n                                    <span className={`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium border w-fit ${customer.batch === 'Batch 1'\n                                      ? 'bg-emerald-500/10 text-emerald-400 border-emerald-500/20'\n                                      : 'bg-purple-500/10 text-purple-400 border-purple-500/20'\n                                      }`}>\n                                      <div className={`w-1 h-1 rounded-full mr-1.5 ${customer.batch === 'Batch 1' ? 'bg-emerald-400' : 'bg-purple-400'}`} />\n                                      {customer.batch}\n                                    </span>\n                                  )}\n                                  <span className=\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-500/10 text-blue-400 border border-blue-500/20 w-fit\">\n                                    <div className=\"w-1 h-1 rounded-full mr-1.5 bg-blue-400\" />\n                                    {customer?.saving_plan || '₹1000 × 20 Months'}\n                                  </span>\n                                </div>\n                              </td>\n                              <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-300\">\n                                <div className=\"flex items-center\">\n                                  {promoterName === 'Admin' || promoterName === 'System' ? (\n                                    <>\n                                      <span className=\"text-yellow-400 mr-2\">👑</span>\n                                      <span className=\"text-white font-medium\">{promoterName}</span>\n                                    </>\n                                  ) : promoterName !== 'Unassigned' ? (\n                                    <>\n                                      <Users className=\"w-4 h-4 mr-2 text-blue-400\" />\n                                      <div className=\"flex flex-col\">\n                                        <span className=\"text-white font-medium\">{promoterName}</span>\n                                        <span className=\"text-xs text-gray-400\">{promoterSystemId}</span>\n                                      </div>\n                                    </>\n                                  ) : (\n                                    <span className=\"text-gray-500\">-</span>\n                                  )}\n                                </div>\n                              </td>\n                              <td className=\"px-6 py-4 whitespace-nowrap\">\n                                <button\n                                  onClick={() => toggleCustomerStatus(customer)}\n                                  className={`inline-flex items-center px-3 py-1 rounded-full text-xs font-medium capitalize border transition-all hover:opacity-80 ${(status || 'active').toLowerCase() === 'active'\n                                    ? 'bg-green-500/10 text-green-400 border-green-500/20'\n                                    : status.toLowerCase() === 'inactive'\n                                      ? 'bg-red-500/10 text-red-400 border-red-500/20'\n                                      : 'bg-yellow-500/10 text-yellow-400 border-yellow-500/20'\n                                    }`}\n                                  title={`Click to change status (currently: ${status})`}\n                                >\n                                  <div className={`w-1.5 h-1.5 rounded-full mr-2 ${(status || 'active').toLowerCase() === 'active' ? 'bg-green-400' : status.toLowerCase() === 'inactive' ? 'bg-red-400' : 'bg-yellow-400'\n                                    }`} />\n                                  {status}\n                                </button>\n                              </td>\n                              <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-300\">\n                                <div className=\"flex items-center space-x-2\">\n                                  <button\n                                    onClick={() => openEditModal(customer)}\n                                    className=\"text-blue-400 hover:text-blue-300 transition-colors\"\n                                    title=\"Edit customer\"\n                                  >\n                                    <Edit className=\"w-4 h-4\" />\n                                  </button>\n                                  <button\n                                    onClick={() => openDeleteModal(customer)}\n                                    className=\"text-red-400 hover:text-red-300 transition-colors\"\n                                    title=\"Delete customer\"\n                                  >\n                                    <Trash2 className=\"w-4 h-4\" />\n                                  </button>\n                                  <button\n                                    onClick={() => openPaymentManager(customer)}\n                                    className=\"text-green-400 hover:text-green-300 transition-colors\"\n                                    title=\"Manage payments\"\n                                  >\n                                    <CreditCard className=\"w-4 h-4\" />\n                                  </button>\n                                </div>\n                              </td>\n                            </tr>\n                          );\n                        })\n                      )}\n                    </tbody>\n                  </table>\n                </div>\n              )}\n              {/* Bottom Pagination Controls - Always show when there are customers */}\n              {filteredCustomers.length > 0 && (\n                <div className=\"px-6 py-4 border-t border-gray-700/50 bg-gray-800/30\">\n                  <div className=\"flex flex-col sm:flex-row justify-between items-center gap-4\">\n                    <div className=\"flex items-center gap-2 px-3 py-1.5 bg-gray-700/50 rounded-lg border border-gray-600/50\">\n                      <div className=\"w-2 h-2 bg-amber-400 rounded-full animate-pulse\"></div>\n                      <span className=\"text-gray-300 text-sm font-medium\">\n                        {(() => {\n                          const hasFilters = searchTerm || statusFilter || batchFilter || paymentMonthFilter;\n                          const isShowingAll = entriesPerPage >= 1000;\n\n                          if (hasFilters || isShowingAll) {\n                            return <><span className=\"text-amber-400 font-bold\">{filteredCustomers.length}</span> customers</>;\n                          } else {\n                            return <>Showing <span className=\"text-amber-400 font-bold\">{((currentPage - 1) * entriesPerPage) + 1}</span> to <span className=\"text-amber-400 font-bold\">{Math.min(currentPage * entriesPerPage, filteredCustomers.length)}</span> of <span className=\"text-amber-400 font-bold\">{filteredCustomers.length}</span> customers</>;\n                          }\n                        })()}\n                      </span>\n                    </div>\n\n                    {/* Pagination controls - Only show when not using filters and not showing all */}\n                    {entriesPerPage < 1000 && !(searchTerm || statusFilter || batchFilter || paymentMonthFilter) && (\n                      <div className=\"flex items-center gap-4\">\n                        <button\n                          onClick={() => {\n                            console.log('=== MANUAL DEBUG TRIGGERED ===');\n                            debugPaymentData();\n                          }}\n                          className=\"px-3 py-1.5 bg-amber-600 hover:bg-amber-700 text-white text-xs font-medium rounded-lg border border-amber-500 transition-colors\"\n                        >\n                          Debug Payments\n                        </button>\n\n                        <button\n                          onClick={() => setCurrentPage(prev => Math.max(prev - 1, 1))}\n                          disabled={currentPage === 1}\n                          className={`group relative p-2.5 rounded-lg transition-all duration-200 ${currentPage === 1\n                            ? 'bg-gray-700/50 text-gray-500 cursor-not-allowed border border-gray-600/30'\n                            : 'bg-gray-700 text-gray-300 hover:bg-gray-600 hover:text-white border border-gray-600/50 hover:border-gray-500 hover:shadow-lg hover:shadow-amber-400/10'\n                            }`}\n                          title=\"Previous Page\"\n                        >\n                          <ChevronLeft className=\"w-4 h-4\" />\n                          <span className=\"absolute -bottom-8 left-1/2 transform -translate-x-1/2 text-xs text-gray-400 opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap\">Previous</span>\n                        </button>\n\n                        <div className=\"flex items-center gap-1 px-2 py-1 bg-gray-700/30 rounded-lg border border-gray-600/30\">\n                          {Array.from({ length: Math.min(5, Math.ceil(filteredCustomers.length / entriesPerPage)) }, (_, i) => {\n                            const totalPages = Math.ceil(filteredCustomers.length / entriesPerPage);\n                            let pageNumber;\n\n                            if (totalPages <= 5) {\n                              pageNumber = i + 1;\n                            } else if (currentPage <= 3) {\n                              pageNumber = i + 1;\n                            } else if (currentPage >= totalPages - 2) {\n                              pageNumber = totalPages - 4 + i;\n                            } else {\n                              pageNumber = currentPage - 2 + i;\n                            }\n\n                            return (\n                              <button\n                                key={pageNumber}\n                                onClick={() => setCurrentPage(pageNumber)}\n                                className={`w-8 h-8 rounded-md text-sm font-medium transition-all duration-200 ${currentPage === pageNumber\n                                  ? 'bg-gradient-to-r from-amber-500 to-amber-600 text-white shadow-lg shadow-amber-400/20 border border-amber-400/50'\n                                  : 'bg-gray-600/50 text-gray-300 hover:bg-gray-600 hover:text-white border border-gray-500/30 hover:border-gray-400/50'\n                                  }`}\n                                title={`Go to page ${pageNumber}`}\n                              >\n                                {pageNumber}\n                              </button>\n                            );\n                          })}\n                        </div>\n\n                        <button\n                          onClick={() => setCurrentPage(prev => Math.min(prev + 1, Math.ceil(filteredCustomers.length / entriesPerPage)))}\n                          disabled={currentPage === Math.ceil(filteredCustomers.length / entriesPerPage)}\n                          className={`group relative p-2.5 rounded-lg transition-all duration-200 ${currentPage === Math.ceil(filteredCustomers.length / entriesPerPage)\n                            ? 'bg-gray-700/50 text-gray-500 cursor-not-allowed border border-gray-600/30'\n                            : 'bg-gray-700 text-gray-300 hover:bg-gray-600 hover:text-white border border-gray-600/50 hover:border-gray-500 hover:shadow-lg hover:shadow-amber-400/10'\n                            }`}\n                          title=\"Next Page\"\n                        >\n                          <ChevronRight className=\"w-4 h-4\" />\n                          <span className=\"absolute -bottom-8 left-1/2 transform -translate-x-1/2 text-xs text-gray-400 opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap\">Next</span>\n                        </button>\n                      </div>\n                    )}\n                  </div>\n                </div>\n              )}\n            </UnifiedCard>\n          </div>\n        </div>\n\n        {/* Unified Customer Form */}\n        <UnifiedCustomerForm\n          isOpen={showModal}\n          onClose={closeModal}\n          onSubmit={handleCustomerSubmit}\n          promoters={getAllAvailableParents()}\n          isEditing={!!editingCustomer}\n          initialData={editingCustomer}\n          currentUserRole=\"admin\"\n        />\n\n\n        {/* Delete Confirmation Modal */}\n        {showDeleteModal && (\n          <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\">\n            <div className=\"bg-gray-800 rounded-lg p-6 w-full max-w-md mx-4\">\n              <h3 className=\"text-lg font-semibold text-white mb-4\">Confirm Delete</h3>\n              <p className=\"text-gray-300 mb-6\">\n                Are you sure you want to delete customer \"{deletingCustomer?.name}\"? This action cannot be undone.\n              </p>\n              <div className=\"flex justify-end space-x-3\">\n                <button\n                  onClick={closeDeleteModal}\n                  className=\"px-4 py-2 text-gray-300 hover:text-white transition-colors\"\n                >\n                  Cancel\n                </button>\n                <button\n                  onClick={handleDelete}\n                  className=\"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors\"\n                >\n                  Delete\n                </button>\n              </div>\n            </div>\n          </div>\n        )}\n\n        {/* Payment Manager */}\n        <PaymentManager\n          isOpen={showPaymentManager}\n          onClose={closePaymentManager}\n          customerId={selectedCustomerForPayments?.id}\n          customerName={selectedCustomerForPayments?.name}\n          currentUser={user}\n        />\n      </UnifiedBackground>\n    </>\n  );\n}\n\nexport default AdminCustomers;\n","export const API_URL = process.env.REACT_APP_API_URL || 'http://localhost:5001/api';\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name CreditCard\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cmVjdCB3aWR0aD0iMjAiIGhlaWdodD0iMTQiIHg9IjIiIHk9IjUiIHJ4PSIyIiAvPgogIDxsaW5lIHgxPSIyIiB4Mj0iMjIiIHkxPSIxMCIgeTI9IjEwIiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/credit-card\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst CreditCard = createLucideIcon('CreditCard', [\n  [\n    'rect',\n    { width: '20', height: '14', x: '2', y: '5', rx: '2', key: 'ynyp8z' },\n  ],\n  ['line', { x1: '2', x2: '22', y1: '10', y2: '10', key: '1b3vmo' }],\n]);\n\nexport default CreditCard;\n"],"names":["createCustomer","customerData","parentPromoterId","response","fetch","concat","API_URL","method","headers","body","JSON","stringify","_objectSpread","data","json","ok","success","Error","message","error","console","updateCustomer","customerId","deleteCustomer","getCustomerById","getAllCustomers","promoterId","arguments","length","undefined","url","user","useAuth","showSuccess","showError","useUnifiedToast","useScrollAnimation","customers","setCustomers","useState","promoters","setPromoters","filteredCustomers","setFilteredCustomers","searchTerm","setSearchTerm","customerIdFilter","setCustomerIdFilter","statusFilter","setStatusFilter","batchFilter","setBatchFilter","paymentMonthFilter","setPaymentMonthFilter","showModal","setShowModal","showDownloadMenu","setShowDownloadMenu","customerPayments","setCustomerPayments","sortBy","setSortBy","downloadButtonRef","useRef","downloadMenuPosition","setDownloadMenuPosition","top","right","showDeleteModal","setShowDeleteModal","editingCustomer","setEditingCustomer","deletingCustomer","setDeletingCustomer","loading","setLoading","showPaymentManager","setShowPaymentManager","selectedCustomerForPayments","setSelectedCustomerForPayments","currentPage","setCurrentPage","entriesPerPage","setEntriesPerPage","useEffect","isMounted","async","loadDashboardData","fetchData","customersResult","promotersResult","Promise","all","supabase","from","select","eq","order","ascending","limit","customersError","promotersData","promotersError","log","batchDistribution","forEach","customer","batch","slice","name","customer_id","setTimeout","morePromotersData","Object","keys","timeoutId","customerIds","idsToLoad","map","c","id","Math","ceil","batchSize","allPayments","totalBatches","i","in","push","paymentsMap","payment","prev","customersWithoutPayments","filter","loadCustomerPayments","clearTimeout","filtered","searchId","trim","toLowerCase","includes","emailValue","email","phoneValue","phone","mobile","String","searchLower","status","beforeBatchFilter","sampleBatches","batchType","customerBatch","matches","toString","sort","a","b","getNumericPart","match","parseInt","dateA","Date","created_at","getTime","monthNumber","samplePayments","payments","monthPayment","find","p","month_number","hasPayments","monthPaymentStatus","allPaymentStatuses","month","paidCount","unpaidCount","pendingCount","noPaymentCount","beforeFilter","debugPaymentData","month1Payment","handleKeyPress","e","metaKey","ctrlKey","shiftKey","key","preventDefault","window","addEventListener","removeEventListener","closeModal","closeDeleteModal","_jsxs","_Fragment","children","_jsx","SharedStyles","UnifiedBackground","className","UnifiedButton","onClick","openCreateModal","Plus","ref","current","rect","getBoundingClientRect","bottom","innerWidth","Download","createPortal","style","minWidth","enrichedCustomers","promoter","parent_promoter_id","promoter_name","exportUtils","handleDownloadCSV","document","UnifiedCard","overflow","type","placeholder","value","onChange","target","fill","stroke","viewBox","strokeLinecap","strokeLinejoin","strokeWidth","d","title","min","SkeletonTable","rows","columns","colSpan","customerName","customerEmail","customerPhone","systemCustomerID","promoterName","getPromoterName","promoterSystemId","promoter_id","getPromoterSystemId","Users","Mail","Phone","saving_plan","newStatus","update","toggleCustomerStatus","openEditModal","Edit","openDeleteModal","Trash2","openPaymentManager","CreditCard","max","disabled","ChevronLeft","Array","_","totalPages","pageNumber","ChevronRight","UnifiedCustomerForm","isOpen","onClose","onSubmit","_formData$email","formData","savingPlan","state","city","pincode","address","updated_at","toISOString","result","customerService","parentPromoter","cardNo","isEditing","initialData","currentUserRole","delete","PaymentManager","closePaymentManager","currentUser","process","createLucideIcon","width","height","x","y","rx","x1","x2","y1","y2"],"sourceRoot":""}
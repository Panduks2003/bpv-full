{"version":3,"file":"static/js/855.7c31add8.chunk.js","mappings":"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","sources":["../node_modules/lucide-react/src/icons/x-circle.ts","../node_modules/lucide-react/src/icons/award.ts","services/commissionService.js","../node_modules/lucide-react/src/icons/wallet.ts","../node_modules/lucide-react/src/icons/trending-up.ts","../node_modules/lucide-react/src/icons/target.ts","../node_modules/lucide-react/src/icons/gift.ts","promoter/pages/CommissionHistory.js"],"sourcesContent":["import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name XCircle\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8Y2lyY2xlIGN4PSIxMiIgY3k9IjEyIiByPSIxMCIgLz4KICA8cGF0aCBkPSJtMTUgOS02IDYiIC8+CiAgPHBhdGggZD0ibTkgOSA2IDYiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/x-circle\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst XCircle = createLucideIcon('XCircle', [\n  ['circle', { cx: '12', cy: '12', r: '10', key: '1mglay' }],\n  ['path', { d: 'm15 9-6 6', key: '1uzhvr' }],\n  ['path', { d: 'm9 9 6 6', key: 'z0biqf' }],\n]);\n\nexport default XCircle;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Award\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8Y2lyY2xlIGN4PSIxMiIgY3k9IjgiIHI9IjYiIC8+CiAgPHBhdGggZD0iTTE1LjQ3NyAxMi44OSAxNyAyMmwtNS0zLTUgMyAxLjUyMy05LjExIiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/award\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Award = createLucideIcon('Award', [\n  ['circle', { cx: '12', cy: '8', r: '6', key: '1vp47v' }],\n  ['path', { d: 'M15.477 12.89 17 22l-5-3-5 3 1.523-9.11', key: 'em7aur' }],\n]);\n\nexport default Award;\n","/**\n * AFFILIATE COMMISSION SERVICE\n * ============================\n * Handles all commission distribution, wallet management, and history tracking\n * Distributes ‚Çπ800 across 4 affiliate levels with admin fallback\n */\n\nimport { supabase } from '../common/services/supabaseClient';\nimport logger from '../common/utils/logger';\n\n// Commission configuration\nexport const COMMISSION_CONFIG = {\n  TOTAL_COMMISSION: 800,\n  LEVELS: {\n    1: { amount: 500, description: 'Parent Promoter (Immediate Upline)' },\n    2: { amount: 100, description: 'Next-Level Upline Promoter' },\n    3: { amount: 100, description: 'Next-Level Upline Promoter' },\n    4: { amount: 100, description: 'Next-Level Upline Promoter' }\n  },\n  STATUSES: {\n    PENDING: 'pending',\n    CREDITED: 'credited',\n    FAILED: 'failed'\n  },\n  RECIPIENT_TYPES: {\n    PROMOTER: 'promoter',\n    ADMIN: 'admin'\n  }\n};\n\nclass CommissionService {\n  \n  /**\n   * Distribute commission automatically after customer creation\n   * @param {string} customerId - UUID of newly created customer\n   * @param {string} initiatorPromoterId - UUID of promoter who created customer\n   * @returns {Promise<Object>} Distribution result\n   */\n  async distributeCommission(customerId, initiatorPromoterId) {\n    try {\n      \n      logger.info('üéØ Starting commission distribution', {\n        customerId,\n        initiatorPromoterId,\n        totalAmount: COMMISSION_CONFIG.TOTAL_COMMISSION\n      });\n\n      // Check if commission already distributed for this customer (ENHANCED CHECK)\n      const existingCommission = await this.checkExistingCommission(customerId);\n      if (existingCommission) {\n        logger.info('‚ÑπÔ∏è Commission already exists for customer - skipping distribution', { \n          customerId,\n          existingRecords: existingCommission.recordCount,\n          totalDistributed: existingCommission.totalDistributed\n        });\n        return {\n          success: true,\n          skipped: true,\n          message: `Commission already distributed for this customer (‚Çπ${existingCommission.totalDistributed} across ${existingCommission.recordCount} records)`,\n          existingCommission: existingCommission.allRecords,\n          totalDistributed: existingCommission.totalDistributed,\n          recordCount: existingCommission.recordCount\n        };\n      }\n\n      // Use database function for atomic distribution with fallback\n      let data, error;\n      \n      try {\n        // Use database function for commission distribution\n        \n        logger.info('üéØ Attempting database function: distribute_affiliate_commission');\n        const result = await supabase.rpc('distribute_affiliate_commission', {\n          p_customer_id: customerId,\n          p_initiator_promoter_id: initiatorPromoterId\n        });\n        data = result.data;\n        error = result.error;\n        \n        if (data && data.success) {\n          logger.info('‚úÖ Database function succeeded, skipping fallback calculation');\n          return {\n            success: true,\n            data,\n            message: `‚Çπ${data.total_distributed || COMMISSION_CONFIG.TOTAL_COMMISSION} commission distributed via database function`\n          };\n        } else if (data && data.skipped) {\n          return {\n            success: true,\n            skipped: true,\n            data,\n            message: data.message || 'Commission already distributed'\n          };\n        }\n      } catch (rpcError) {\n        // If function doesn't exist, use fallback commission calculation\n        if (rpcError.message?.includes('Could not find the function') || \n            rpcError.message?.includes('404')) {\n          logger.warn('‚ö†Ô∏è Commission function not found, using fallback calculation', { customerId });\n          \n          data = await this.calculateCommissionFallback(customerId, initiatorPromoterId);\n          error = null;\n        } else {\n          throw rpcError;\n        }\n      }\n\n      if (error) {\n        logger.error('‚ùå Commission distribution failed', { error, customerId });\n        \n        // Try fallback calculation\n        logger.info('üîÑ Attempting fallback commission calculation', { customerId });\n        data = await this.calculateCommissionFallback(customerId, initiatorPromoterId);\n      }\n\n      logger.success('‚úÖ Commission distribution completed', data);\n      \n      // Trigger notifications\n      await this.triggerCommissionNotifications(data);\n\n      return {\n        success: true,\n        data,\n        message: `‚Çπ${COMMISSION_CONFIG.TOTAL_COMMISSION} commission distributed successfully`\n      };\n\n    } catch (error) {\n      logger.error('‚ùå Commission distribution service error', {\n        error: error.message,\n        customerId,\n        initiatorPromoterId\n      });\n      \n      return {\n        success: false,\n        error: error.message\n      };\n    }\n  }\n\n  /**\n   * Fallback commission calculation when database function is not available\n   * @param {string} customerId - Customer UUID\n   * @param {string} initiatorPromoterId - Promoter UUID\n   * @returns {Promise<Object>} Commission calculation result\n   */\n  async calculateCommissionFallback(customerId, initiatorPromoterId) {\n    try {\n      \n      logger.info('üí∞ Calculating commission using fallback method', { customerId, initiatorPromoterId });\n      \n      // Commission pool: ‚Çπ800 total (NOT ‚Çπ800 + extra admin)\n      const totalPool = 800;\n      const commissionLevels = [500, 100, 100, 100];\n      let currentPromoterId = initiatorPromoterId;\n      let totalDistributed = 0;\n      let levelsDistributed = 0;\n      let remainingPool = totalPool;\n      \n      \n      // Calculate commission for each level\n      for (let level = 1; level <= 4; level++) {\n        const amount = commissionLevels[level - 1];\n        \n        if (currentPromoterId) {\n          // Create commission record in affiliate_commissions table\n          try {\n            const { error: commissionError } = await supabase\n              .from('affiliate_commissions')\n              .insert({\n                customer_id: customerId,\n                initiator_promoter_id: initiatorPromoterId,\n                recipient_id: currentPromoterId,\n                recipient_type: 'promoter',\n                level: level,\n                amount: amount,\n                status: 'credited',\n                transaction_id: `COM-${String(Date.now()).slice(-6)}`,\n                note: `Level ${level} Commission - ‚Çπ${amount}`\n              });\n\n            if (commissionError) {\n              logger.error(`‚ùå Failed to create commission record for level ${level}`, commissionError);\n            } else {\n              totalDistributed += amount;\n              remainingPool -= amount;  // DEDUCT FROM POOL\n              levelsDistributed++;\n              logger.info(`üí∞ Level ${level} commission: ‚Çπ${amount} to promoter ${currentPromoterId} (‚Çπ${remainingPool} remaining in pool)`);\n            }\n          } catch (error) {\n            logger.error(`‚ùå Error creating commission record for level ${level}`, error);\n          }\n          \n          // Get parent promoter for next level\n          if (level < 4) {\n            try {\n              const { data: parentData, error: parentError } = await supabase\n                .from('profiles')\n                .select('parent_promoter_id, name, promoter_id')\n                .eq('id', currentPromoterId)\n                .single();\n                \n                \n              if (!parentError && parentData?.parent_promoter_id) {\n                currentPromoterId = parentData.parent_promoter_id;\n                logger.info(`üîó Moving to parent promoter: ${currentPromoterId} for level ${level + 1}`);\n              } else {\n                logger.info(`üö´ No parent promoter found for level ${level + 1}`);\n                currentPromoterId = null;\n              }\n            } catch (error) {\n              logger.error(`‚ùå Error fetching parent promoter for level ${level + 1}`, error);\n              currentPromoterId = null;\n            }\n          }\n        } else {\n          logger.info(`üö´ LEVEL ${level} NO PROMOTER:`, {\n            level,\n            amount,\n            message: `‚Çπ${amount} stays in pool for admin`,\n            remainingPool\n          });\n        }\n        // Note: If no promoter at this level, amount stays in remainingPool for admin at the end\n      }\n      \n      // Give admin the remaining pool amount (if any)\n      \n      if (remainingPool > 0) {\n        try {\n          const { error: adminCommissionError } = await supabase\n            .from('affiliate_commissions')\n            .insert({\n              customer_id: customerId,\n              initiator_promoter_id: initiatorPromoterId,\n              recipient_id: null, // Admin has no specific ID\n              recipient_type: 'admin',\n              level: 0, // Admin fallback level\n              amount: remainingPool,\n              status: 'credited',\n              transaction_id: `COM-${String(Date.now()).slice(-6)}`,\n              note: `Admin Fallback - Remaining from ‚Çπ800 pool - ‚Çπ${remainingPool}`\n            });\n\n          if (adminCommissionError) {\n            logger.error(`‚ùå Failed to create admin commission record`, adminCommissionError);\n          } else {\n            totalDistributed += remainingPool;\n            logger.info(`üí∞ Admin commission: ‚Çπ${remainingPool} from remaining pool`);\n          }\n        } catch (error) {\n          logger.error(`‚ùå Error creating admin commission record`, error);\n        }\n      } else {\n      }\n      \n      // Create commission result\n      \n      const result = {\n        success: true,\n        customer_id: customerId,\n        initiator_promoter_id: initiatorPromoterId,\n        total_distributed: totalDistributed,\n        levels_distributed: levelsDistributed,\n        admin_fallback: remainingPool,\n        timestamp: new Date().toISOString(),\n        method: 'fallback_calculation',\n        message: `Commission calculated via fallback: ‚Çπ${totalDistributed} distributed across ${levelsDistributed} levels`\n      };\n      \n      \n      // Store commission record for audit (using localStorage as fallback)\n      this.storeCommissionRecord(result);\n      \n      return result;\n      \n    } catch (error) {\n      logger.error('‚ùå Fallback commission calculation failed', { error, customerId });\n      \n      // Return a basic success response to prevent customer creation failure\n      return {\n        success: true,\n        customer_id: customerId,\n        initiator_promoter_id: initiatorPromoterId,\n        total_distributed: COMMISSION_CONFIG.TOTAL_COMMISSION,\n        levels_distributed: 4,\n        admin_fallback: 0,\n        timestamp: new Date().toISOString(),\n        method: 'basic_fallback',\n        message: 'Commission recorded for manual processing'\n      };\n    }\n  }\n\n  /**\n   * Store commission record for audit purposes\n   * @param {Object} commissionData - Commission calculation result\n   */\n  storeCommissionRecord(commissionData) {\n    try {\n      // Store in localStorage for audit trail\n      const records = JSON.parse(localStorage.getItem('commission_audit_trail') || '[]');\n      records.push({\n        ...commissionData,\n        stored_at: new Date().toISOString()\n      });\n      \n      // Keep only last 100 records\n      if (records.length > 100) {\n        records.splice(0, records.length - 100);\n      }\n      \n      localStorage.setItem('commission_audit_trail', JSON.stringify(records));\n      logger.info('üìù Commission record stored for audit', { customer_id: commissionData.customer_id });\n      \n    } catch (error) {\n      logger.error('‚ùå Failed to store commission record', { error });\n    }\n  }\n\n  /**\n   * Check if commission already exists for a customer (ENHANCED DUPLICATE PREVENTION)\n   * @param {string} customerId - Customer UUID\n   * @returns {Promise<Object|null>} Existing commission or null\n   */\n  async checkExistingCommission(customerId) {\n    try {\n      // Check for ANY commission records for this customer\n      const { data, error } = await supabase\n        .from('affiliate_commissions')\n        .select('id, customer_id, amount, recipient_type, status, created_at')\n        .eq('customer_id', customerId)\n        .eq('status', 'credited');\n\n      if (error) throw error;\n      \n      if (data && data.length > 0) {\n        // Calculate total amount already distributed\n        const totalDistributed = data.reduce((sum, record) => sum + parseFloat(record.amount), 0);\n        \n        logger.warn('üö´ Commission already exists for customer', { \n          customerId, \n          existingRecords: data.length,\n          totalDistributed,\n          records: data\n        });\n        \n        return {\n          exists: true,\n          recordCount: data.length,\n          totalDistributed,\n          firstRecord: data[0],\n          allRecords: data\n        };\n      }\n\n      return null;\n\n    } catch (error) {\n      logger.error('Error checking existing commission', { error, customerId });\n      return null;\n    }\n  }\n\n  /**\n   * Get promoter commission history and wallet info\n   * @param {string} promoterId - Promoter UUID\n   * @returns {Promise<Object>} Commission summary\n   */\n  async getPromoterCommissionSummary(promoterId) {\n    try {\n      // Use database function for comprehensive summary\n      const { data, error } = await supabase.rpc('get_promoter_commission_summary', {\n        p_promoter_id: promoterId\n      });\n\n      if (error) throw error;\n\n      return {\n        success: true,\n        data: data || {\n          promoter_id: promoterId,\n          wallet_balance: 0,\n          total_earned: 0,\n          commission_count: 0,\n          recent_commissions: []\n        }\n      };\n\n    } catch (error) {\n      logger.error('Error getting promoter commission summary', { error, promoterId });\n      \n      // Fallback to basic wallet info\n      return await this.getBasicWalletInfo(promoterId);\n    }\n  }\n\n  /**\n   * Get basic wallet information as fallback\n   * @param {string} promoterId - Promoter UUID\n   * @returns {Promise<Object>} Basic wallet info\n   */\n  async getBasicWalletInfo(promoterId) {\n    try {\n      // Use API endpoint for wallet balance\n      const response = await fetch(`${process.env.REACT_APP_API_URL || 'https://api.brightplanetventures.com/api'}/commission/wallet?promoterId=${promoterId}`);\n      const result = await response.json();\n\n      if (!result.success) {\n        throw new Error(result.message || 'Failed to fetch wallet balance');\n      }\n\n      // Get recent commissions\n      const historyResponse = await fetch(`${process.env.REACT_APP_API_URL || 'https://api.brightplanetventures.com/api'}/commission/history?promoterId=${promoterId}&status=credited&limit=10`);\n      const historyResult = await historyResponse.json();\n\n      return {\n        success: true,\n        data: {\n          promoter_id: promoterId,\n          wallet_balance: result.data.availableBalance || 0,\n          total_earned: result.data.totalEarned || 0,\n          commission_count: historyResult.data?.length || 0,\n          recent_commissions: historyResult.data || []\n        }\n      };\n\n    } catch (error) {\n      logger.error('Error getting basic wallet info', { error, promoterId });\n      return {\n        success: false,\n        error: error.message,\n        data: {\n          promoter_id: promoterId,\n          wallet_balance: 0,\n          total_earned: 0,\n          commission_count: 0,\n          recent_commissions: []\n        }\n      };\n    }\n  }\n\n  /**\n   * Get admin commission summary and statistics\n   * @returns {Promise<Object>} Admin commission data\n   */\n  async getAdminCommissionSummary() {\n    try {\n      // Use database function for comprehensive admin summary\n      const { data, error } = await supabase.rpc('get_admin_commission_summary');\n\n      if (error) throw error;\n\n      return {\n        success: true,\n        data: data || {\n          wallet_balance: 0,\n          total_received: 0,\n          unclaimed_total: 0,\n          commission_count: 0,\n          daily_summary: []\n        }\n      };\n\n    } catch (error) {\n      logger.error('Error getting admin commission summary', { error });\n      return await this.getBasicAdminInfo();\n    }\n  }\n\n  /**\n   * Get basic admin information as fallback\n   * @returns {Promise<Object>} Basic admin info\n   */\n  async getBasicAdminInfo() {\n    try {\n      // Get admin ID\n      const { data: adminData, error: adminError } = await supabase\n        .from('profiles')\n        .select('id')\n        .eq('role', 'admin')\n        .limit(1)\n        .single();\n\n      if (adminError || !adminData) {\n        throw new Error('Admin not found');\n      }\n\n      // Get unclaimed commissions from localStorage\n      const unclaimedCommissions = JSON.parse(localStorage.getItem('admin_unclaimed_commissions') || '[]');\n      const totalUnclaimed = unclaimedCommissions.reduce((sum, comm) => sum + (comm.amount || 0), 0);\n      const unclaimedCount = unclaimedCommissions.length;\n\n      // Get admin wallet\n      const { data: walletData, error: walletError } = await supabase\n        .from('admin_wallet')\n        .select('*')\n        .eq('admin_id', adminData.id)\n        .single();\n\n      // Get recent admin commissions\n      const { data: commissionsData, error: commissionsError } = await supabase\n        .from('affiliate_commissions')\n        .select('*')\n        .eq('recipient_type', 'admin')\n        .order('created_at', { ascending: false })\n        .limit(20);\n\n      return {\n        success: true,\n        data: {\n          admin_id: adminData.id,\n          wallet_balance: (walletData?.balance || 0) + totalUnclaimed,\n          total_received: walletData?.total_commission_received || 0,\n          unclaimed_total: totalUnclaimed,\n          commission_count: (walletData?.commission_count || 0) + unclaimedCount,\n          recent_commissions: [...(commissionsData || []), ...unclaimedCommissions.slice(-10)]\n        }\n      };\n\n    } catch (error) {\n      logger.error('Error getting basic admin info', { error });\n      return {\n        success: false,\n        error: error.message,\n        data: {\n          wallet_balance: 0,\n          total_received: 0,\n          unclaimed_total: 0,\n          commission_count: 0,\n          recent_commissions: []\n        }\n      };\n    }\n  }\n\n  /**\n   * Get commission history with filters\n   * @param {Object} filters - Filter options\n   * @returns {Promise<Object>} Filtered commission history\n   */\n  async getCommissionHistory(filters = {}) {\n    try {\n      // Use API endpoint instead of direct Supabase\n      const queryParams = new URLSearchParams();\n      if (filters.promoterId) queryParams.append('promoterId', filters.promoterId);\n      if (filters.level) queryParams.append('level', filters.level);\n      if (filters.status) queryParams.append('status', filters.status);\n      if (filters.dateFrom) queryParams.append('dateFrom', filters.dateFrom);\n      if (filters.dateTo) queryParams.append('dateTo', filters.dateTo);\n\n      const response = await fetch(`${process.env.REACT_APP_API_URL || 'https://api.brightplanetventures.com/api'}/commission/history?${queryParams}`);\n      const result = await response.json();\n\n      if (!result.success) {\n        throw new Error(result.message || 'Failed to fetch commission history');\n      }\n\n      return {\n        success: true,\n        data: result.data || [],\n        count: result.data?.length || 0,\n        totals: result.totals || { totalEarned: 0, totalCount: 0 }\n      };\n\n    } catch (error) {\n      logger.error('Error getting commission history', { error, filters });\n      return {\n        success: false,\n        error: error.message,\n        data: []\n      };\n    }\n  }\n\n  /**\n   * Trigger notifications for commission distribution\n   * @param {Object} distributionResult - Result from distribution\n   */\n  async triggerCommissionNotifications(distributionResult) {\n    try {\n      // This would integrate with your notification system\n      logger.info('üì¢ Triggering commission notifications', distributionResult);\n      \n      // You can implement push notifications, emails, etc. here\n      // For now, we'll just log the notification trigger\n      \n    } catch (error) {\n      logger.error('Error triggering notifications', { error });\n    }\n  }\n\n  /**\n   * Manual commission distribution (admin only)\n   * @param {string} customerId - Customer UUID\n   * @param {string} initiatorPromoterId - Promoter UUID\n   * @param {string} adminId - Admin UUID performing the action\n   * @returns {Promise<Object>} Distribution result\n   */\n  async manualDistributeCommission(customerId, initiatorPromoterId, adminId) {\n    try {\n      logger.info('üîß Manual commission distribution initiated', {\n        customerId,\n        initiatorPromoterId,\n        adminId\n      });\n\n      // Verify admin permissions\n      const { data: adminData, error: adminError } = await supabase\n        .from('profiles')\n        .select('role')\n        .eq('id', adminId)\n        .eq('role', 'admin')\n        .single();\n\n      if (adminError || !adminData) {\n        throw new Error('Unauthorized: Admin access required');\n      }\n\n      // Proceed with distribution\n      return await this.distributeCommission(customerId, initiatorPromoterId);\n\n    } catch (error) {\n      logger.error('‚ùå Manual commission distribution failed', { error });\n      return {\n        success: false,\n        error: error.message\n      };\n    }\n  }\n\n  /**\n   * Get commission statistics for dashboard\n   * @returns {Promise<Object>} Commission statistics\n   */\n  async getCommissionStatistics() {\n    try {\n      const { data, error } = await supabase\n        .from('affiliate_commissions')\n        .select('level, amount, status, created_at, recipient_type');\n\n      if (error) throw error;\n\n      const stats = {\n        totalCommissions: data.length,\n        totalAmount: data.reduce((sum, comm) => sum + parseFloat(comm.amount), 0),\n        byLevel: {},\n        byStatus: {},\n        byRecipientType: {},\n        monthlyTrend: {}\n      };\n\n      // Calculate statistics\n      data.forEach(commission => {\n        // By level\n        stats.byLevel[commission.level] = (stats.byLevel[commission.level] || 0) + 1;\n        \n        // By status\n        stats.byStatus[commission.status] = (stats.byStatus[commission.status] || 0) + 1;\n        \n        // By recipient type\n        stats.byRecipientType[commission.recipient_type] = (stats.byRecipientType[commission.recipient_type] || 0) + 1;\n        \n        // Monthly trend\n        const month = new Date(commission.created_at).toISOString().substring(0, 7);\n        if (!stats.monthlyTrend[month]) {\n          stats.monthlyTrend[month] = { count: 0, amount: 0 };\n        }\n        stats.monthlyTrend[month].count += 1;\n        stats.monthlyTrend[month].amount += parseFloat(commission.amount);\n      });\n\n      return {\n        success: true,\n        data: stats\n      };\n\n    } catch (error) {\n      logger.error('Error getting commission statistics', { error });\n      return {\n        success: false,\n        error: error.message,\n        data: {}\n      };\n    }\n  }\n}\n\n// Export singleton instance\nconst commissionService = new CommissionService();\nexport default commissionService;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Wallet\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMjEgMTJWN0g1YTIgMiAwIDAgMSAwLTRoMTR2NCIgLz4KICA8cGF0aCBkPSJNMyA1djE0YTIgMiAwIDAgMCAyIDJoMTZ2LTUiIC8+CiAgPHBhdGggZD0iTTE4IDEyYTIgMiAwIDAgMCAwIDRoNHYtNFoiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/wallet\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Wallet = createLucideIcon('Wallet', [\n  ['path', { d: 'M21 12V7H5a2 2 0 0 1 0-4h14v4', key: '195gfw' }],\n  ['path', { d: 'M3 5v14a2 2 0 0 0 2 2h16v-5', key: '195n9w' }],\n  ['path', { d: 'M18 12a2 2 0 0 0 0 4h4v-4Z', key: 'vllfpd' }],\n]);\n\nexport default Wallet;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name TrendingUp\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cG9seWxpbmUgcG9pbnRzPSIyMiA3IDEzLjUgMTUuNSA4LjUgMTAuNSAyIDE3IiAvPgogIDxwb2x5bGluZSBwb2ludHM9IjE2IDcgMjIgNyAyMiAxMyIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/trending-up\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst TrendingUp = createLucideIcon('TrendingUp', [\n  ['polyline', { points: '22 7 13.5 15.5 8.5 10.5 2 17', key: '126l90' }],\n  ['polyline', { points: '16 7 22 7 22 13', key: 'kwv8wd' }],\n]);\n\nexport default TrendingUp;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Target\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8Y2lyY2xlIGN4PSIxMiIgY3k9IjEyIiByPSIxMCIgLz4KICA8Y2lyY2xlIGN4PSIxMiIgY3k9IjEyIiByPSI2IiAvPgogIDxjaXJjbGUgY3g9IjEyIiBjeT0iMTIiIHI9IjIiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/target\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Target = createLucideIcon('Target', [\n  ['circle', { cx: '12', cy: '12', r: '10', key: '1mglay' }],\n  ['circle', { cx: '12', cy: '12', r: '6', key: '1vlfrh' }],\n  ['circle', { cx: '12', cy: '12', r: '2', key: '1c9p78' }],\n]);\n\nexport default Target;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Gift\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cG9seWxpbmUgcG9pbnRzPSIyMCAxMiAyMCAyMiA0IDIyIDQgMTIiIC8+CiAgPHJlY3Qgd2lkdGg9IjIwIiBoZWlnaHQ9IjUiIHg9IjIiIHk9IjciIC8+CiAgPGxpbmUgeDE9IjEyIiB4Mj0iMTIiIHkxPSIyMiIgeTI9IjciIC8+CiAgPHBhdGggZD0iTTEyIDdINy41YTIuNSAyLjUgMCAwIDEgMC01QzExIDIgMTIgNyAxMiA3eiIgLz4KICA8cGF0aCBkPSJNMTIgN2g0LjVhMi41IDIuNSAwIDAgMCAwLTVDMTMgMiAxMiA3IDEyIDd6IiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/gift\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Gift = createLucideIcon('Gift', [\n  ['polyline', { points: '20 12 20 22 4 22 4 12', key: 'nda8fc' }],\n  ['rect', { width: '20', height: '5', x: '2', y: '7', key: 'wkgdzj' }],\n  ['line', { x1: '12', x2: '12', y1: '22', y2: '7', key: '1n8zgp' }],\n  ['path', { d: 'M12 7H7.5a2.5 2.5 0 0 1 0-5C11 2 12 7 12 7z', key: 'zighg4' }],\n  ['path', { d: 'M12 7h4.5a2.5 2.5 0 0 0 0-5C13 2 12 7 12 7z', key: '1pa5tk' }],\n]);\n\nexport default Gift;\n","import React, { useState, useEffect, useCallback, useMemo } from 'react';\nimport { useAuth } from \"../../common/context/AuthContext\";\nimport { useUnifiedToast } from \"../../common/services/unifiedToastService\";\nimport { useNavigate } from 'react-router-dom';\n// import PromoterNavbar removed - handled by ConditionalNavbar in App.js\nimport {\n  UnifiedBackground,\n  UnifiedCard,\n  UnifiedButton,\n  useScrollAnimation,\n  SharedStyles\n} from \"../../common/components/SharedTheme\";\nimport commissionService, { COMMISSION_CONFIG } from '../../services/commissionService';\nimport supabase from '../../common/services/supabaseClient';\nimport {\n  Wallet,\n  TrendingUp,\n  CheckCircle,\n  AlertCircle,\n  RefreshCw,\n  Award,\n  Target,\n  Clock,\n  XCircle,\n  Gift\n} from 'lucide-react';\n\n// MultiStage Loading Component\nconst CommissionHistoryMultiStageLoading = ({ stage }) => {\n  const getStageContent = () => {\n    switch (stage) {\n      case 'summary':\n        return {\n          icon: <Wallet className=\"w-8 h-8 text-blue-400 animate-pulse\" />,\n          title: 'Loading Summary...',\n          description: 'Calculating commission totals and earnings'\n        };\n      case 'details':\n        return {\n          icon: <TrendingUp className=\"w-8 h-8 text-green-400 animate-pulse\" />,\n          title: 'Loading Details...',\n          description: 'Fetching detailed commission history'\n        };\n      case 'complete':\n        return {\n          icon: <CheckCircle className=\"w-8 h-8 text-orange-400 animate-bounce\" />,\n          title: 'Almost Done...',\n          description: 'Finalizing data loading'\n        };\n      case 'error':\n        return {\n          icon: <AlertCircle className=\"w-8 h-8 text-red-400\" />,\n          title: 'Error Loading Data',\n          description: 'Please refresh the page and try again'\n        };\n      default:\n        return {\n          icon: <RefreshCw className=\"w-8 h-8 text-orange-400 animate-spin\" />,\n          title: 'Initializing...',\n          description: 'Preparing to load your commission data'\n        };\n    }\n  };\n\n  const content = getStageContent();\n\n  return (\n    <div className=\"flex flex-col items-center justify-center p-12 space-y-4\">\n      <div className=\"relative\">\n        {content.icon}\n        <div className=\"absolute inset-0 rounded-full bg-blue-400/20 animate-ping\"></div>\n      </div>\n      <div className=\"text-center\">\n        <h3 className=\"text-lg font-semibold text-white mb-2\">{content.title}</h3>\n        <p className=\"text-sm text-slate-400\">{content.description}</p>\n\n        {/* Progress indicators */}\n        <div className=\"flex items-center justify-center space-x-2 mt-4\">\n          <div className={`w-2 h-2 rounded-full transition-colors duration-300 ${stage === 'summary' || stage === 'details' || stage === 'complete' ? 'bg-blue-400' : 'bg-slate-600'\n            }`}></div>\n          <div className={`w-2 h-2 rounded-full transition-colors duration-300 ${stage === 'details' || stage === 'complete' ? 'bg-blue-400' : 'bg-slate-600'\n            }`}></div>\n          <div className={`w-2 h-2 rounded-full transition-colors duration-300 ${stage === 'complete' ? 'bg-blue-400' : 'bg-slate-600'\n            }`}></div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nfunction CommissionHistory() {\n  const { user } = useAuth();\n  const { showSuccess, showError } = useUnifiedToast();\n  const navigate = useNavigate();\n  useScrollAnimation();\n\n  // State management\n  const [loading, setLoading] = useState(true);\n  const [loadingStage, setLoadingStage] = useState('initial'); // 'initial', 'summary', 'details', 'complete'\n  const [stage, setStage] = useState('summary'); // 'summary' -> 'details' -> 'complete'\n  const [commissionData, setCommissionData] = useState({\n    promoter_id: user?.id,\n    wallet_balance: 0,\n    total_earned: 0,\n    commission_count: 0,\n    recent_commissions: []\n  });\n  const [customerNames, setCustomerNames] = useState({});\n  const [customerIds, setCustomerIds] = useState({});\n  const [pagination, setPagination] = useState({\n    page: 1,\n    limit: 20,\n    totalCount: 0,\n    hasMore: false\n  });\n  const [filters, setFilters] = useState({\n    level: '',\n    status: '',\n    dateFrom: '',\n    dateTo: ''\n  });\n\n\n  // Fetch customer names and IDs - Optimized with batch query\n  const fetchCustomerData = async (customerIds) => {\n    try {\n      if (customerIds.length === 0) return;\n\n      // Single batch query instead of multiple individual queries\n      const { data: profilesData, error } = await supabase\n        .from('profiles')\n        .select('id, name, customer_id, promoter_id')\n        .in('id', [...new Set(customerIds)]);\n\n      if (profilesData && !error) {\n        const custNames = {};\n        const custIds = {};\n\n        profilesData.forEach(profile => {\n          custNames[profile.id] = profile.name;\n          // Use customer_id if it exists, otherwise use promoter_id, otherwise truncated UUID\n          custIds[profile.id] = profile.customer_id || profile.promoter_id || (profile.id.substring(0, 8) + '...');\n        });\n\n        setCustomerNames(custNames);\n        setCustomerIds(custIds);\n      }\n    } catch (error) {\n    }\n  };\n\n  // Stage 1: Load summary data only (fast)\n  const loadSummaryData = async () => {\n    try {\n      setStage('summary');\n      setLoading(true);\n      setLoadingStage('summary');\n\n      let totalEarnings = 0;\n      let totalWithdrawn = 0;\n      let availableBalance = 0;\n\n      // Method 1: Try using calculate_promoter_wallet_balance function\n      try {\n        const { data: walletData, error: walletError } = await supabase.rpc(\n          'calculate_promoter_wallet_balance',\n          { p_promoter_id: user.id }\n        );\n\n        if (!walletError && walletData && walletData.length > 0) {\n          const balance = walletData[0];\n          totalEarnings = parseFloat(balance.total_earned) || 0;\n          totalWithdrawn = parseFloat(balance.total_withdrawn) || 0;\n          availableBalance = parseFloat(balance.available_balance) || 0;\n        }\n      } catch (rpcError) {\n        // Fallback to manual if RPC fails\n      }\n\n      // Method 2: Manual fallback if RPC didn't provide results\n      if (totalEarnings === 0 && availableBalance === 0) {\n        const { data: summaryData } = await supabase\n          .from('affiliate_commissions')\n          .select('amount')\n          .eq('recipient_id', user.id)\n          .eq('status', 'credited');\n\n        totalEarnings = summaryData?.reduce((sum, comm) => sum + (parseFloat(comm.amount) || 0), 0) || 0;\n\n        // Simple fallback balance\n        availableBalance = totalEarnings;\n      }\n\n      // Get count\n      const { count } = await supabase\n        .from('affiliate_commissions')\n        .select('*', { count: 'exact', head: true })\n        .eq('recipient_id', user.id)\n        .eq('status', 'credited');\n\n      // Set summary data\n      setCommissionData({\n        promoter_id: user.id,\n        wallet_balance: availableBalance,\n        total_earned: totalEarnings,\n        commission_count: count || 0,\n        recent_commissions: []\n      });\n\n      setPagination(prev => ({\n        ...prev,\n        totalCount: count || 0\n      }));\n\n      // Move to next stage after a short delay\n      setTimeout(() => {\n        loadDetailsData();\n      }, 500);\n\n    } catch (error) {\n      showError('Failed to load commission summary. Please try again.');\n      setStage('error');\n      setLoading(false);\n    }\n  };\n\n  // Stage 2: Load detailed commissions (medium)\n  const loadDetailsData = async () => {\n    try {\n      setStage('details');\n      setLoading(true);\n      setLoadingStage('details');\n\n      // Load first page of commissions\n      const { data: commissions, error } = await supabase\n        .from('affiliate_commissions')\n        .select('*')\n        .eq('recipient_id', user.id)\n        .eq('status', 'credited')\n        .order('created_at', { ascending: false })\n        .limit(pagination.limit);\n\n      if (error) {\n        throw new Error(error.message);\n      }\n\n      const hasMore = commissions.length === pagination.limit;\n\n      setPagination(prev => ({\n        ...prev,\n        page: 1,\n        hasMore\n      }));\n\n      setCommissionData(prev => ({\n        ...prev,\n        recent_commissions: commissions || []\n      }));\n\n      // Fetch customer data in background\n      if (commissions && commissions.length > 0) {\n        const customerIds = commissions.map(c => c.customer_id).filter(Boolean);\n        if (customerIds.length > 0) {\n          fetchCustomerData(customerIds);\n        }\n      }\n\n      // Move to complete stage after a short delay\n      setTimeout(() => {\n        setStage('complete');\n        setLoading(false);\n      }, 300);\n\n    } catch (error) {\n      showError('Failed to load commission details. Please try again.');\n      setStage('error');\n      setLoading(false);\n    }\n  };\n\n  // Load more data (for pagination)\n  const loadMoreData = async () => {\n    try {\n      const nextPage = pagination.page + 1;\n      const offset = (nextPage - 1) * pagination.limit;\n\n      const { data: moreCommissions, error } = await supabase\n        .from('affiliate_commissions')\n        .select('*')\n        .eq('recipient_id', user.id)\n        .eq('status', 'credited')\n        .order('created_at', { ascending: false })\n        .range(offset, offset + pagination.limit - 1);\n\n      if (error) {\n        throw new Error(error.message);\n      }\n\n      const hasMore = moreCommissions.length === pagination.limit;\n\n      setPagination(prev => ({\n        ...prev,\n        page: nextPage,\n        hasMore\n      }));\n\n      setCommissionData(prev => ({\n        ...prev,\n        recent_commissions: [...prev.recent_commissions, ...moreCommissions]\n      }));\n\n      // Fetch customer data for new commissions\n      if (moreCommissions && moreCommissions.length > 0) {\n        const customerIds = moreCommissions.map(c => c.customer_id).filter(Boolean);\n        const existingCustomerIds = Object.keys(customerNames);\n        const newCustomerIds = customerIds.filter(id => !existingCustomerIds.includes(id));\n\n        if (newCustomerIds.length > 0) {\n          fetchCustomerData(newCustomerIds);\n        }\n      }\n\n    } catch (error) {\n      showError('Failed to load more commissions. Please try again.');\n    }\n  };\n\n  // Main loading function - uses commission service\n  const loadCommissionData = async () => {\n    try {\n      setLoading(true);\n      \n      // Use commission service to get data\n      const result = await commissionService.getCommissionHistory({\n        promoterId: user.id,\n        ...filters\n      });\n      \n      if (result.success) {\n        // Get wallet balance\n        const walletResult = await commissionService.getBasicWalletInfo(user.id);\n        \n        setCommissionData({\n          promoter_id: user?.id,\n          wallet_balance: walletResult.success ? walletResult.data.wallet_balance : 0,\n          total_earned: walletResult.success ? walletResult.data.total_earned : 0,\n          commission_count: walletResult.success ? walletResult.data.commission_count : 0,\n          recent_commissions: result.data || []\n        });\n        \n        setPagination({\n          page: 1,\n          limit: 20,\n          totalCount: result.count || 0,\n          hasMore: false\n        });\n      }\n    } catch (error) {\n      showError('Failed to load commission data');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Load data on component mount and when filters change\n  useEffect(() => {\n    if (user?.id) {\n      loadCommissionData();\n    }\n  }, [user?.id, filters]);\n\n  // Handle refresh\n  const handleRefresh = () => {\n    loadCommissionData();\n    showSuccess('Commission data refreshed successfully.');\n  };\n\n  // Load more data\n  const loadMore = () => {\n    if (!pagination.hasMore) return;\n    loadMoreData();\n  };\n\n  // Apply filters to commissions\n  const filteredCommissions = useMemo(() => {\n    if (!commissionData.recent_commissions) return [];\n\n    return commissionData.recent_commissions.filter(commission => {\n      // Apply level filter\n      if (filters.level && commission.level.toString() !== filters.level) {\n        return false;\n      }\n\n      // Apply status filter\n      if (filters.status && commission.status !== filters.status) {\n        return false;\n      }\n\n      // Apply date range filter\n      const commissionDate = new Date(commission.created_at);\n      if (filters.dateFrom && new Date(filters.dateFrom) > commissionDate) {\n        return false;\n      }\n      if (filters.dateTo) {\n        const toDate = new Date(filters.dateTo);\n        toDate.setHours(23, 59, 59, 999); // End of the day\n        if (toDate < commissionDate) {\n          return false;\n        }\n      }\n\n      return true;\n    });\n  }, [commissionData.recent_commissions, filters]);\n\n  // Get status icon and color\n  const getStatusDisplay = (status) => {\n    switch (status) {\n      case 'credited':\n        return { icon: CheckCircle, color: 'text-green-400', bg: 'bg-green-500/20', label: 'Credited' };\n      case 'pending':\n        return { icon: Clock, color: 'text-yellow-400', bg: 'bg-yellow-500/20', label: 'Pending' };\n      case 'failed':\n        return { icon: XCircle, color: 'text-red-400', bg: 'bg-red-500/20', label: 'Failed' };\n      default:\n        return { icon: AlertCircle, color: 'text-gray-400', bg: 'bg-gray-500/20', label: 'Unknown' };\n    }\n  };\n\n  // Get level display\n  const getLevelDisplay = (level) => {\n    const config = COMMISSION_CONFIG.LEVELS[level];\n    return config ? `Level ${level} - ${config.description}` : `Level ${level}`;\n  };\n\n  // Format currency\n  const formatCurrency = (amount) => {\n    const numAmount = parseFloat(amount) || 0;\n    return `‚Çπ${numAmount.toLocaleString('en-IN')}`;\n  };\n\n  // Show loading skeleton with stage indicators\n  if (loading) {\n    return (\n      <>\n        <SharedStyles />\n        {/* PromoterNavbar removed - handled by ConditionalNavbar in App.js */}\n        <UnifiedBackground>\n          <div className=\"min-h-screen pt-40 px-8 pb-8\">\n            <div className=\"max-w-7xl mx-auto\">\n              {/* Loading Stage Indicator */}\n              <div className=\"flex items-center justify-center mb-8\" data-animate>\n                <div className=\"flex items-center space-x-4\">\n                  <div className={`w-3 h-3 rounded-full transition-all duration-300 ${stage === 'summary' ? 'bg-orange-400' : 'bg-gray-600'\n                    }`}></div>\n                  <div className={`w-3 h-3 rounded-full transition-all duration-300 ${stage === 'details' ? 'bg-orange-400' : 'bg-gray-600'\n                    }`}></div>\n                  <div className={`w-3 h-3 rounded-full transition-all duration-300 ${stage === 'complete' ? 'bg-orange-400' : 'bg-gray-600'\n                    }`}></div>\n                </div>\n                <p className=\"text-gray-400 text-sm ml-4\">\n                  {stage === 'summary' && 'Loading summary...'}\n                  {stage === 'details' && 'Loading details...'}\n                  {stage === 'complete' && 'Finalizing...'}\n                </p>\n              </div>\n\n              {/* Summary Cards Skeleton */}\n              <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8\">\n                {[1, 2, 3, 4].map((i) => (\n                  <div key={i} className=\"p-6 bg-gray-800/50 border border-gray-700/50 rounded-xl animate-pulse\">\n                    <div className=\"flex items-center justify-between mb-4\">\n                      <div className=\"w-24 h-4 bg-gray-700 rounded\"></div>\n                      <div className=\"w-12 h-12 bg-gray-700 rounded-xl\"></div>\n                    </div>\n                    <div className=\"w-32 h-8 bg-gray-700 rounded mb-2\"></div>\n                    <div className=\"w-20 h-3 bg-gray-700 rounded\"></div>\n                  </div>\n                ))}\n              </div>\n\n              {/* Table Skeleton - only show in details stage */}\n              {stage === 'details' && (\n                <div className=\"bg-gray-800/50 border border-gray-700/50 rounded-xl p-6\">\n                  <div className=\"h-4 bg-gray-700 rounded w-48 mb-4\"></div>\n                  <div className=\"space-y-3\">\n                    {[1, 2, 3, 4, 5].map((i) => (\n                      <div key={i} className=\"h-12 bg-gray-700 rounded animate-pulse\"></div>\n                    ))}\n                  </div>\n                </div>\n              )}\n            </div>\n          </div>\n        </UnifiedBackground>\n      </>\n    );\n  }\n\n  return (\n    <>\n      <SharedStyles />\n      {/* PromoterNavbar removed - handled by ConditionalNavbar in App.js */}\n      <UnifiedBackground>\n        <div className=\"min-h-screen pt-40 px-8 pb-8\">\n          <div className=\"max-w-7xl mx-auto\">\n\n            {/* Header */}\n            <div className=\"flex justify-between items-center mb-8\" data-animate>\n              <div>\n                <h1 className=\"text-2xl font-bold text-white mb-2\">Income</h1>\n                <p className=\"text-slate-400\">Track your affiliate commission earnings</p>\n              </div>\n              <UnifiedButton\n                onClick={handleRefresh}\n                className=\"flex items-center space-x-2\"\n              >\n                <RefreshCw className=\"w-5 h-5\" />\n                <span>Refresh</span>\n              </UnifiedButton>\n            </div>\n\n            {/* Commission Summary Cards - Always visible */}\n            <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8\" data-animate>\n\n              {/* Wallet Balance */}\n              <UnifiedCard className=\"p-6\">\n                <div className=\"flex items-center justify-between\">\n                  <div>\n                    <p className=\"text-sm text-green-400 mb-1\">Wallet Balance</p>\n                    <p className=\"text-3xl font-bold text-white mt-1\">{formatCurrency(commissionData.wallet_balance)}</p>\n                  </div>\n                  <div className=\"w-12 h-12 bg-green-500/20 rounded-xl flex items-center justify-center\">\n                    <Wallet className=\"w-6 h-6 text-green-400\" />\n                  </div>\n                </div>\n                <div className=\"flex items-center mt-4 text-xs text-green-500/70\">\n                  <div className=\"w-1.5 h-1.5 bg-green-500 rounded-full mr-2\"></div>\n                  Available for withdrawal\n                </div>\n              </UnifiedCard>\n\n              {/* Total Earned */}\n              <UnifiedCard className=\"p-6\">\n                <div className=\"flex items-center justify-between\">\n                  <div>\n                    <p className=\"text-sm text-orange-400 mb-1\">Total Earned</p>\n                    <p className=\"text-3xl font-bold text-white mt-1\">{formatCurrency(commissionData.total_earned)}</p>\n                  </div>\n                  <div className=\"w-12 h-12 bg-orange-500/20 rounded-xl flex items-center justify-center\">\n                    <TrendingUp className=\"w-6 h-6 text-orange-400\" />\n                  </div>\n                </div>\n                <div className=\"flex items-center mt-4 text-xs text-orange-500/70\">\n                  <div className=\"w-1.5 h-1.5 bg-orange-400 rounded-full mr-2\"></div>\n                  Lifetime credit earnings\n                </div>\n              </UnifiedCard>\n\n              {/* Commission Count */}\n              <UnifiedCard className=\"p-6\">\n                <div className=\"flex items-center justify-between\">\n                  <div>\n                    <p className=\"text-sm text-purple-400 mb-1\">Commissions</p>\n                    <p className=\"text-3xl font-bold text-white mt-1\">{commissionData.commission_count}</p>\n                  </div>\n                  <div className=\"w-12 h-12 bg-purple-500/20 rounded-xl flex items-center justify-center\">\n                    <Award className=\"w-6 h-6 text-purple-400\" />\n                  </div>\n                </div>\n                <div className=\"flex items-center mt-4 text-xs text-purple-500/70\">\n                  <div className=\"w-1.5 h-1.5 bg-purple-400 rounded-full mr-2\"></div>\n                  Total payouts received\n                </div>\n              </UnifiedCard>\n\n              {/* Average Commission */}\n              <UnifiedCard className=\"p-6\">\n                <div className=\"flex items-center justify-between\">\n                  <div>\n                    <p className=\"text-sm text-blue-400 mb-1\">Average Earned</p>\n                    <p className=\"text-3xl font-bold text-white mt-1\">\n                      {formatCurrency(commissionData.commission_count > 0 ? commissionData.total_earned / commissionData.commission_count : 0)}\n                    </p>\n                  </div>\n                  <div className=\"w-12 h-12 bg-blue-500/20 rounded-xl flex items-center justify-center\">\n                    <Target className=\"w-6 h-6 text-blue-400\" />\n                  </div>\n                </div>\n                <div className=\"flex items-center mt-4 text-xs text-blue-500/70\">\n                  <div className=\"w-1.5 h-1.5 bg-blue-400 rounded-full mr-2\"></div>\n                  Average per assignment\n                </div>\n              </UnifiedCard>\n\n            </div>\n\n            {/* Commission History Table - Shows loading state during details stage */}\n            <UnifiedCard className=\"overflow-hidden\" variant=\"glassDark\" data-animate>\n              <div className=\"p-6 border-b border-gray-700/50\">\n                <div className=\"flex items-center justify-between\">\n                  <div>\n                    <h3 className=\"text-2xl font-semibold text-white\">Recent Income</h3>\n                    <p className=\"text-gray-300 text-sm mt-1\">\n                      Your latest earnings\n                    </p>\n                  </div>\n                  <div className=\"flex items-center space-x-3\">\n                    <UnifiedButton\n                      onClick={() => navigate('/promoter/pin-management')}\n                      className=\"flex items-center space-x-2 bg-gradient-to-r from-orange-500 to-yellow-500\"\n                    >\n                      <Gift className=\"w-4 h-4\" />\n                      <span>PIN Management</span>\n                    </UnifiedButton>\n                  </div>\n                </div>\n              </div>\n\n              <div className=\"overflow-x-auto\">\n                {stage === 'details' && commissionData.recent_commissions.length === 0 ? (\n                  // Loading state for details\n                  <div className=\"p-12 text-center\">\n                    <div className=\"flex items-center justify-center mb-4\">\n                      <div className=\"w-8 h-8 border-2 border-orange-400 border-t-transparent rounded-full animate-spin\"></div>\n                    </div>\n                    <h3 className=\"text-xl font-semibold text-gray-400 mb-2\">Loading Commission Details...</h3>\n                    <p className=\"text-gray-500\">\n                      Fetching your commission history\n                    </p>\n                  </div>\n                ) : commissionData.recent_commissions.length === 0 ? (\n                  // No commissions state\n                  <div className=\"p-12 text-center\">\n                    <Award className=\"w-16 h-16 text-gray-500 mx-auto mb-4\" />\n                    <h3 className=\"text-xl font-semibold text-gray-400 mb-2\">No Commissions Yet</h3>\n                    <p className=\"text-gray-500\">\n                      Start building your network to earn affiliate commissions!\n                    </p>\n                  </div>\n                ) : (\n                  // Full table with data\n                  <>\n                    <table className=\"w-full\">\n                      <thead className=\"bg-gray-800/50\">\n                        <tr>\n                          <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider\">Level</th>\n                          <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider\">Customer</th>\n                          <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider\">Amount</th>\n                          <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider\">Status</th>\n                          <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider\">Date</th>\n                          <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider\">Note</th>\n                        </tr>\n                      </thead>\n                      <tbody className=\"divide-y divide-gray-700/50\">\n                        {(filteredCommissions.length > 0 ? filteredCommissions : commissionData.recent_commissions).map((commission) => {\n                          const statusDisplay = getStatusDisplay(commission.status);\n                          const StatusIcon = statusDisplay.icon;\n\n                          return (\n                            <tr key={commission.id} className=\"hover:bg-gray-800/30 transition-colors\">\n                              <td className=\"px-6 py-4 whitespace-nowrap text-center\">\n                                <div className=\"w-10 h-10 bg-gradient-to-r from-orange-500 to-yellow-500 rounded-full flex items-center justify-center text-white font-bold text-lg mx-auto\">\n                                  {commission.level}\n                                </div>\n                              </td>\n                              <td className=\"px-6 py-4 whitespace-nowrap\">\n                                <div className=\"text-sm\">\n                                  <div className=\"text-white font-medium\">\n                                    {customerNames[commission.customer_id] || 'Loading...'}\n                                  </div>\n                                  <div className=\"text-gray-400 text-xs mt-1\">\n                                    {customerIds[commission.customer_id] || 'Loading...'}\n                                  </div>\n                                </div>\n                              </td>\n                              <td className=\"px-6 py-4 whitespace-nowrap\">\n                                <div className=\"text-lg font-bold text-green-300\">\n                                  {formatCurrency(commission.amount)}\n                                </div>\n                              </td>\n                              <td className=\"px-6 py-4 whitespace-nowrap\">\n                                <span className={`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${statusDisplay.bg} ${statusDisplay.color} border border-current/30`}>\n                                  <StatusIcon className=\"w-3 h-3 mr-1\" />\n                                  {statusDisplay.label}\n                                </span>\n                              </td>\n                              <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-300\">\n                                {new Date(commission.created_at).toLocaleDateString('en-IN', {\n                                  year: 'numeric',\n                                  month: 'short',\n                                  day: 'numeric',\n                                  hour: '2-digit',\n                                  minute: '2-digit'\n                                })}\n                              </td>\n                              <td className=\"px-6 py-4 text-sm text-gray-400 max-w-xs truncate\">\n                                {commission.note || 'No notes'}\n                              </td>\n                            </tr>\n                          );\n                        })}\n                      </tbody>\n                    </table>\n\n                    {/* Pagination Controls */}\n                    <div className=\"flex items-center justify-between p-4 border-t border-gray-700/50\">\n                      <div className=\"text-sm text-gray-400\">\n                        Showing {Math.min(commissionData.recent_commissions.length, pagination.limit)} of {pagination.totalCount} commissions\n                      </div>\n                      {pagination.hasMore && (\n                        <UnifiedButton\n                          onClick={loadMore}\n                          disabled={!pagination.hasMore}\n                          className=\"flex items-center space-x-2\"\n                        >\n                          <span>Load More</span>\n                          <RefreshCw className=\"w-4 h-4\" />\n                        </UnifiedButton>\n                      )}\n                    </div>\n                  </>\n                )}\n              </div>\n            </UnifiedCard>\n\n          </div>\n        </div>\n\n\n      </UnifiedBackground>\n    </>\n  );\n}\n\nexport default CommissionHistory;\n"],"names":["XCircle","createLucideIcon","cx","cy","r","key","d","Award","COMMISSION_CONFIG","TOTAL_COMMISSION","LEVELS","amount","description","STATUSES","PENDING","CREDITED","FAILED","RECIPIENT_TYPES","PROMOTER","ADMIN","distributeCommission","customerId","initiatorPromoterId","logger","totalAmount","existingCommission","this","checkExistingCommission","existingRecords","recordCount","totalDistributed","success","skipped","message","concat","allRecords","data","error","result","supabase","rpc","p_customer_id","p_initiator_promoter_id","total_distributed","rpcError","_rpcError$message","_rpcError$message2","includes","calculateCommissionFallback","triggerCommissionNotifications","commissionLevels","currentPromoterId","levelsDistributed","remainingPool","level","commissionError","from","insert","customer_id","initiator_promoter_id","recipient_id","recipient_type","status","transaction_id","String","Date","now","slice","note","parentData","parentError","select","eq","single","parent_promoter_id","adminCommissionError","levels_distributed","admin_fallback","timestamp","toISOString","method","storeCommissionRecord","commissionData","records","JSON","parse","localStorage","getItem","push","_objectSpread","stored_at","length","splice","setItem","stringify","reduce","sum","record","parseFloat","exists","firstRecord","getPromoterCommissionSummary","promoterId","p_promoter_id","promoter_id","wallet_balance","total_earned","commission_count","recent_commissions","getBasicWalletInfo","_historyResult$data","response","fetch","process","json","Error","historyResponse","historyResult","availableBalance","totalEarned","getAdminCommissionSummary","total_received","unclaimed_total","daily_summary","getBasicAdminInfo","adminData","adminError","limit","unclaimedCommissions","totalUnclaimed","comm","unclaimedCount","walletData","walletError","id","commissionsData","commissionsError","order","ascending","admin_id","balance","total_commission_received","getCommissionHistory","filters","arguments","undefined","_result$data","queryParams","URLSearchParams","append","dateFrom","dateTo","count","totals","totalCount","distributionResult","manualDistributeCommission","adminId","getCommissionStatistics","stats","totalCommissions","byLevel","byStatus","byRecipientType","monthlyTrend","forEach","commission","month","created_at","substring","Wallet","TrendingUp","points","Target","Gift","width","height","x","y","x1","x2","y1","y2","user","useAuth","showSuccess","showError","useUnifiedToast","navigate","useNavigate","useScrollAnimation","loading","setLoading","useState","loadingStage","setLoadingStage","stage","setStage","setCommissionData","customerNames","setCustomerNames","customerIds","setCustomerIds","pagination","setPagination","page","hasMore","setFilters","fetchCustomerData","async","profilesData","in","Set","custNames","custIds","profile","name","loadCommissionData","commissionService","walletResult","useEffect","filteredCommissions","useMemo","filter","toString","commissionDate","toDate","setHours","formatCurrency","numAmount","toLocaleString","_jsxs","_Fragment","children","_jsx","SharedStyles","UnifiedBackground","className","map","i","UnifiedButton","onClick","handleRefresh","RefreshCw","UnifiedCard","variant","statusDisplay","icon","CheckCircle","color","bg","label","Clock","AlertCircle","getStatusDisplay","StatusIcon","toLocaleDateString","year","day","hour","minute","Math","min","loadMore","nextPage","offset","moreCommissions","range","prev","c","Boolean","existingCustomerIds","Object","keys","newCustomerIds","loadMoreData","disabled"],"sourceRoot":""}